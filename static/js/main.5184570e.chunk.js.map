{"version":3,"sources":["utils/toggleValue.js","reducers/FilterReducer.js","reducers/SongsReducer.js","reducers/GigsReducer.js","reducers/SharksReducer.js","reducers/index.js","actions/types.js","serviceWorker.js","actions/SongsActions.js","actions/GigsActions.js","components/firebase.js","components/Header/Nav.js","components/User/SignInOrOutButton.js","components/Header/index.js","components/Loader.js","classLists.js","components/common/AllSongs/Filter/StatusBtns.js","actions/FilterActions.js","components/common/AllSongs/Filter/VocalBtns.js","components/common/SharkSelect.js","components/common/AllSongs/Filter/SharkBtns.js","components/common/AllSongs/Filter/index.js","components/common/AllSongs/AllSongList.js","components/common/AllSongs/index.js","components/common/Confirm.js","utils/date.js","utils/index.js","components/common/DateInput.js","components/common/delayUnmounting.js","components/common/DetailWrapper.js","components/common/EditOrCreate.js","components/common/Message.js","components/common/Modal.js","components/Songs/Song/Lyrics.js","components/Songs/Song/VoxInput.js","components/Songs/Song/Audio.js","components/Songs/Song/ReqSharkInput.js","components/Songs/Song/index.js","components/Songs/index.js","components/Gigs/SetList.js","components/Gigs/Media.js","components/Gigs/Gig.js","components/Gigs/GigList.js","components/Gigs/index.js","components/Sharks/Shark.js","actions/SharksActions.js","components/Sharks/SharkList.js","components/Sharks/index.js","components/User/SignInForm.js","components/App.js","index.js"],"names":["toggleValue","value","csv","indexOf","concat","split","splice","join","INITIAL_STATE","statusFilter","vocalsFilter","sharksFilter","sortType","isFilterDisplay","isCoverFilter","songs","detailedSong","message","gigs","detailedGig","sharks","detailedShark","combineReducers","filter","state","arguments","length","undefined","action","type","payload","Object","objectSpread","id","values","song","text","test","newDetailedSong","dob","vox","lyrics","audio","reqSharks","gig","newDetailedGig","date","setList","media","key","active","shark","newDetailedShark","sharkSince","favSongs","Boolean","window","location","hostname","match","validateName","songName","songId","entries","some","name","gigMessageChanged","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","_this","this","classCallCheck","doSignInWithEmailAndPassword","email","password","auth","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","getSongs","db","ref","once","then","snapshot","val","doCreateSong","time","Date","getTime","update","songsLastUpdate","child","push","doCreateGig","gigsLastUpdate","user","uid","users","app","initializeApp","database","btnClass","activeBtnClass","Nav","_ref","onClickNav","tab","react_default","a","createElement","className","onClick","SignInButton","onShowSignIn","SignOutButton","_ref2","firebase","SignInOrOutButton","_ref3","authUser","SignInOrOutButton_SignOutButton","SignInOrOutButton_SignInButton","Header","Header_Nav","User_SignInOrOutButton","Loader","main","outer","inner","mainList","btn","wrapper","floatingBtn","topSmall","topLarge","modalInner","toggleBtn","heading","futura","futuraHeading","input","label","submitBtn","styles","connect","statusFilterChanged","filterView","map","status","e","target","vocalsFilterChanged","getName","checkedCondition","handleChange","children","btns","sharksFilterChanged","common_SharkSelect","hideBtn","sortBtn","sortWrapper","closeBtn","_state$filter","coverFilterChanged","filterDisplayChanged","sortTypeChanged","_useState","useState","_useState2","slicedToArray","setFilterView","flipState","navBtnClassName","classes","Filter_StatusBtns","Filter_VocalBtns","Filter_SharkBtns","filteredSongs","isCover","sharksFilterArray","isKeeper","forEach","RegExp","sort","b","toUpperCase","filterSongs","AllSongs","Fragment","AllSongs_AllSongList","AllSongs_Filter","Confirm","onYes","onNo","isDisabled","disabled","processDate","dateObj","month","getMonth","toString","year","getFullYear","day","getDate","getNameById","objTree","obj","DateInput","labelText","storeDate","localDate","setLocalDate","style","gridArea","onChange","placeholder","delayUnmounting","Component","_React$Component","_temp","_getPrototypeOf2","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","shouldRender","props","isMounted","isUnmounting","inherits","createClass","prevProps","_this2","setState","setTimeout","delayTime","assign","React","DetailWrapper","handleExit","classNames","innerClassName","outerClassName","EditOrCreate","isEdit","handleCreate","title","handleEdit","createValidation","editValidation","Message","dismiss","isUnloading","unload","fadeOut","to","clearTimeout","modalBG","modalRoot","document","getElementById","Modal","exit","el","classList","innerStyles","appendChild","addEventListener","removeChild","removeEventListener","ReactDOM","createPortal","LyricInput","storeLyrics","toggleEdit","_useState3","_useState4","newLyrics","inputLyrics","common_Modal","storeVox","newVox","inputVox","handleVoxChange","result","localVox","inputLG","iframe","embedBtn","Audio","audioObj","storeAudio","newAudio","setNewAudio","_useState5","_useState6","error","setError","host","source","trackID","src","renderAudio","onSubmit","preventDefault","exec","processAudioEmbed","onAudioChange","ReqSharkInput","storeReqSharks","newReqShark","inputReqShark","cover","addSong","btnSubmit","inputXL","modalInnerSm","DelayedSong","_state$songs","songAudioChanged","songCreate","dispatch","catch","songDateChanged","songDelete","remove","songLyricsChanged","songMessageChanged","songReqSharksChanged","songUpdate","console","log","songVoxChanged","changeStatus","changeName","toggleCover","_useState7","_useState8","setIsEdit","_useState9","_useState10","isConfirm","toggleConfirm","count","gigsValues","gigCount","sharksValues","sharkFavCount","sharkFav","findSongInSetLists","common_DetailWrapper","common_Message","common_DateInput","VoxInput","Song_Audio","Lyrics","Song_ReqSharkInput","common_EditOrCreate","checked","common_Confirm","detailedSongChanged","isDetail","toggleDetail","common_AllSongs","navigator","onLine","querySelector","exitBtn","storeSetList","onDeleteSong","position","parseInt","react_beautiful_dnd_esm","onDragEnd","destination","newSetList","list","startIndex","endIndex","from","_result$splice","removed","reorder","index","droppableId","provided","droppableProps","innerRef","i","draggableId","draggableProps","dragHandleProps","toConsumableArray","addBtn","MediaItem","item","alt","gigMediaAdded","mediaObj","newRef","gigMediaDeleted","gigId","mediaId","isAddMedia","toggleAddMedia","setSrc","setMediaId","startDeleteMedia","maxWidth","Media_MediaItem","_state$gigs","gigCreate","gigDelete","gigUpdate","gigDateChanged","gigSetListUpdated","gigSetListChanged","changeLocation","setTab","placeSelf","Gigs_SetList","Gigs_Media","showDetail","gigArray","parentNode","role","aria-label","DelayedGig","Gig","detailedGigChanged","Gigs_GigList","_state$sharks","sharkFavSongsChanged","sharkDateChanged","sharkUpdate","sharkMessageChanged","setName","validated","activeSharks","retiredSharks","retired","SharkDelayUnmount","Shark","detailedSharkChanged","Sharks_SharkList","isPasswordSuccess","isWaiting","SignInForm","handleSubmit","_this$state","handleForget","event","_this$setState","defineProperty","_this$state2","isInvalid","transformStyle","inputmode","transform","backfaceVisibility","isLoadAnimation","isAuthDisplay","App","endAnimation","onModalClose","renderMain","components_Songs","components_Gigs","components_Sharks","localforage","getItem","hasVisited","setItem","songsFetch","gigsFetch","sharksFetch","songPromise","gigPromise","sharkPromise","Promise","all","onAuthStateChanged","_this$props","loading","components_Loader","components_Header","User_SignInForm","on","store","createStore","reducers","applyMiddleware","ReduxThunk","render","es","components_App","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5184570e.chunk.js","sourcesContent":["const toggleValue = (value, csv) => {\n  // if not found in list\n  if (csv.indexOf(value) === -1) {\n    // if list isn't empty, tack on at end, else return value\n    return !!csv ? `${csv}, ${value}` : value;\n\n    // if is in list and there are multiple items (comma)\n  } else if (csv.indexOf(',') !== -1) {\n    csv = csv.split(', ');\n    csv.splice(csv.indexOf(value), 1);\n    return csv.join(', ');\n  } else {\n    return ''\n  }\n\n}\n\nexport default toggleValue;\n","import {\n  STATUS_FILTER_CHANGED,\n  VOCALS_FILTER_CHANGED,\n  SHARKS_FILTER_CHANGED,\n  SORT_TYPE_CHANGED,\n  FILTER_DISPLAY_CHANGED,\n  COVER_FILTER_CHANGED\n} from '../actions/types';\n\nimport toggleValue from '../utils/toggleValue';\n\nconst INITIAL_STATE = {\n  statusFilter: '',\n  vocalsFilter: '',\n  sharksFilter: '',\n  sortType: '',\n  isFilterDisplay: true,\n  isCoverFilter: false,\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case STATUS_FILTER_CHANGED:\n      const statusFilter = toggleValue(action.payload, state.statusFilter);\n      return { ...state, statusFilter };\n    case VOCALS_FILTER_CHANGED:\n      const vocalsFilter = state.vocalsFilter === action.payload ?\n        '' : action.payload;\n      return { ...state, vocalsFilter };\n    case SHARKS_FILTER_CHANGED:\n      const sharksFilter = toggleValue(action.payload, state.sharksFilter);\n      return { ...state, sharksFilter };\n    case SORT_TYPE_CHANGED:\n      const sortType = state.sortType === action.payload ?\n        '' : action.payload;\n      return { ...state, sortType };\n    case FILTER_DISPLAY_CHANGED:\n      return { ...state, isFilterDisplay: !state.isFilterDisplay };\n    case COVER_FILTER_CHANGED:\n      return { ...state, isCoverFilter: !state.isCoverFilter };\n\n    default:\n      return state;\n  }\n}\n","import {\n  SONGS_FETCH_SUCCESS,\n  DETAILED_SONG_CHANGED,\n  SONG_UPDATE,\n  SONG_CREATE,\n  SONG_DELETE,\n  SONG_ERROR,\n  SONG_DATE_UPDATE,\n  LYRICS_UPDATE,\n  VOX_UPDATE,\n  REQSHARKS_UPDATE,\n  AUDIO_UPDATE,\n} from '../actions/types';\n\nconst findSongById = (songs, id) => {\n  if (typeof id === 'string') {\n    return Object.values(songs).filter(song => song.id === id)[0];\n  } else {\n    return id\n  }\n}\n\nconst  INITIAL_STATE = {\n  songs: {},\n  detailedSong: null,\n  message: null,\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SONGS_FETCH_SUCCESS:\n      return { ...state, songs: action.payload }\n    case DETAILED_SONG_CHANGED:\n      const detailedSong = action.payload ?\n        findSongById(state.songs, action.payload) : null;\n      return { ...state, detailedSong }\n    case SONG_ERROR: {\n      const text = /permission/i.test(action.payload) ?\n        'Please sign in to create, edit, or delete a song' :\n        action.payload;\n      return {\n        ...state,\n        message: action.payload ? { type: 'error', text } : null\n      }\n    }\n    case SONG_CREATE:\n      return {\n        ...state,\n        detailedSong: action.payload,\n        message: { type: 'message', text:'song created' }\n      }\n    case SONG_DELETE:\n      return state;\n    case SONG_UPDATE:\n      return {\n        ...state,\n        message: { type: 'message', text:'song update' }\n      }\n    case SONG_DATE_UPDATE: {\n      const newDetailedSong = { ...state.detailedSong, dob: action.payload }\n      return { ...state, detailedSong: newDetailedSong }\n    }\n    case VOX_UPDATE: {\n      const newDetailedSong = { ...state.detailedSong, vox: action.payload }\n      return { ...state, detailedSong: newDetailedSong }\n    }\n    case LYRICS_UPDATE: {\n      const newDetailedSong = { ...state.detailedSong, lyrics: action.payload }\n      return { ...state, detailedSong: newDetailedSong }\n    }\n    case AUDIO_UPDATE: {\n      const newDetailedSong = { ...state.detailedSong, audio: action.payload }\n      return { ...state, detailedSong: newDetailedSong }\n    }\n    case REQSHARKS_UPDATE: {\n      const newDetailedSong = { ...state.detailedSong, reqSharks: action.payload }\n      return { ...state, detailedSong: newDetailedSong }\n    }\n    default:\n      return state;\n  }\n}\n","import {\n  GIGS_FETCH_SUCCESS,\n  DETAILED_GIG_CHANGED,\n  GIG_UPDATE,\n  GIG_CREATE,\n  GIG_DELETE,\n  GIG_ERROR,\n  GIG_DATE_UPDATE,\n  GIG_SETLIST_UPDATE,\n  GIG_MEDIA_DELETED,\n  GIG_MEDIA_ADDED,\n } from '../actions/types';\n\n const findGigById = (gigs, id) => {\n   if (typeof id === 'string') {\n     return Object.values(gigs).filter(gig => gig.id === id)[0];\n   } else {\n     return id\n   }\n }\n\nconst INITIAL_STATE = {\n  gigs: {},\n  detailedGig: null,\n  message: null,\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case GIGS_FETCH_SUCCESS:\n      return { ...state, gigs: action.payload }\n\n    case DETAILED_GIG_CHANGED:\n      const detailedGig = action.payload.length ?\n        findGigById(state.gigs, action.payload) : action.payload;\n      return { ...state, detailedGig }\n\n    case GIG_ERROR: {\n      const text = /permission/i.test(action.payload) ?\n        'Please sign in to create, edit, or delete a gig' :\n        action.payload;\n      return {\n        ...state,\n        message: action.payload ? { type: 'error', text } : null\n      }\n    }\n    case GIG_DATE_UPDATE: {\n      const newDetailedGig = { ...state.detailedGig, date: action.payload }\n      return { ...state, detailedGig: newDetailedGig }\n    }\n\n    case GIG_SETLIST_UPDATE: {\n      const setList = action.payload.join(',');\n      const newDetailedGig = { ...state.detailedGig, setList }\n      return { ...state, detailedGig: newDetailedGig }\n    }\n\n    case GIG_MEDIA_ADDED: {\n      let media;\n      const { key, payload } = action;\n      if (state.detailedGig.media) {\n        media = {...state.detailedGig.media};\n      } else {\n        media = {};\n      }\n      media[key] = payload;\n\n      const newDetailedGig = { ...state.detailedGig, media }\n      return { ...state, detailedGig: newDetailedGig }\n    }\n\n    case GIG_CREATE:\n      return {\n        ...state,\n        detailedGig: action.payload,\n        message: { type: 'message', text: 'gig created' }\n      }\n\n    case GIG_MEDIA_DELETED: {\n      const media = { ...state.detailedGig.media };\n      delete media[action.payload];\n      const newDetailedGig = { ...state.detailedGig, media }\n      return {\n        ...state,\n        detailedGig: newDetailedGig,\n        message: { type: 'message', text: 'media deleted' }\n      }\n    }\n\n    case GIG_DELETE:\n      return state;\n\n    case GIG_UPDATE:\n      return {\n        ...state,\n        message: { type: 'message', text: 'gig update' }\n      }\n\n    default:\n      return state;\n  }\n}\n","import {\n  SHARKS_FETCH_SUCCESS,\n  DETAILED_SHARK_CHANGED,\n  SHARK_DATE_UPDATE,\n  SHARK_SETLIST_UPDATE,\n  SHARK_ERROR,\n  SHARK_UPDATE,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  sharks: {},\n  detailedShark: null,\n  message: null,\n};\n\nconst findSharkById = (sharks, id) => {\n  if (typeof id === 'string') {\n    return Object.values(sharks).filter(shark => shark.id === id)[0];\n  } else {\n    return id\n  }\n}\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SHARKS_FETCH_SUCCESS:\n      return { ...state, sharks: action.payload }\n\n    case DETAILED_SHARK_CHANGED:\n      const detailedShark = action.payload.length ?\n      findSharkById(state.sharks.active, action.payload) : action.payload;\n      return { ...state, detailedShark }\n\n    case SHARK_UPDATE:\n      return {\n        ...state,\n        message: { type: 'message', text: 'updated' }\n      }\n\n    case SHARK_DATE_UPDATE: {\n      const newDetailedShark = { ...state.detailedShark, sharkSince: action.payload }\n      return { ...state, detailedShark: newDetailedShark }\n    }\n\n    case SHARK_ERROR: {\n      const text = /permission/i.test(action.payload) ?\n        'Please sign in to edit your page' :\n        action.payload;\n      return {\n        ...state,\n        message: action.payload ? { type: 'error', text } : null\n      }\n    }\n\n    case SHARK_SETLIST_UPDATE: {\n      const favSongs = action.payload.join(',');\n      const newDetailedShark = { ...state.detailedShark, favSongs }\n      return { ...state, detailedShark: newDetailedShark }\n    }\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\n\nimport FilterReducer from './FilterReducer';\nimport SongsReducer from './SongsReducer';\nimport GigsReducer from './GigsReducer';\nimport SharksReducer from './SharksReducer';\n\nexport default combineReducers({\n  filter: FilterReducer,\n  songs: SongsReducer,\n  gigs: GigsReducer,\n  sharks: SharksReducer,\n});\n","export const STATUS_FILTER_CHANGED = 'status_filter_changed';\nexport const VOCALS_FILTER_CHANGED = 'vocals_filter_changed';\nexport const SHARKS_FILTER_CHANGED = 'sharks_filter_changed';\nexport const SORT_TYPE_CHANGED = 'sort_type_changed';\nexport const COVER_FILTER_CHANGED = 'cover_filter_changed';\nexport const FILTER_DISPLAY_CHANGED = 'filter_display_changed';\n\n\nexport const DETAILED_SONG_CHANGED = 'detailed_song_changed';\nexport const SONG_CREATE = 'song_create';\nexport const SONG_DATE_UPDATE = 'song_date_update';\nexport const SONG_DELETE = 'song_delete';\nexport const SONG_ERROR = 'song_error';\nexport const SONG_UPDATE = 'song_update';\nexport const SONGS_FETCH_SUCCESS = 'songs_fetch_success';\nexport const LYRICS_UPDATE = 'lyrics_update';\nexport const VOX_UPDATE = 'vox_update';\nexport const REQSHARKS_UPDATE = 'reqsharks_update';\nexport const AUDIO_UPDATE = 'audio_update';\n\nexport const DETAILED_GIG_CHANGED = 'detailed_gig_changed';\nexport const GIG_CREATE = 'gig_create';\nexport const GIG_DATE_UPDATE = 'gig_date_update';\nexport const GIG_DELETE = 'gig_delete';\nexport const GIG_ERROR = 'gig_error';\nexport const GIG_MEDIA_DELETED = 'gig_media_deleted';\nexport const GIG_MEDIA_ADDED = 'gig_media_added';\nexport const GIG_SETLIST_UPDATE = 'gig_setlist_update';\nexport const GIG_UPDATE = 'gig_update';\nexport const GIGS_FETCH_SUCCESS = 'gigs_fetch_success';\n\nexport const DETAILED_SHARK_CHANGED = 'detailed_sharks_changed';\nexport const SHARK_DATE_UPDATE = 'shark_date_update';\nexport const SHARK_ERROR = 'shark_error';\nexport const SHARK_SETLIST_UPDATE = 'shark_setlist_update';\nexport const SHARK_UPDATE = 'shark_update';\nexport const SHARKS_FETCH_SUCCESS = 'sharks_fetch_success';\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import app from 'firebase/app';\nimport 'firebase/database';\n\nimport {\n  SONGS_FETCH_SUCCESS,\n  DETAILED_SONG_CHANGED,\n  SONG_UPDATE,\n  SONG_CREATE,\n  SONG_DELETE,\n  SONG_ERROR,\n  SONG_DATE_UPDATE,\n  LYRICS_UPDATE,\n  VOX_UPDATE,\n  REQSHARKS_UPDATE,\n  AUDIO_UPDATE,\n } from './types';\n\nfunction validateName(songs, songName, songId) {\n  songs = Object.entries(songs);\n  // see if any songs share the same name as edited song\n  // (excluding the song iteslf i.e. the name was not edited)\n  return !songs.some(song => {\n    return (song[1].name === songName && song[0] !== songId)\n  })\n}\n\nexport const songsFetch = value => {\n  return dispatch => {\n    app.database().ref('songs').on('value', snapshot => {\n      dispatch({ type: SONGS_FETCH_SUCCESS, payload: snapshot.val() })\n    })\n  }\n}\n\nexport const songUpdate = (songs, song) => {\n  if (!validateName(songs, song.name, song.id)) {\n    return { type: SONG_ERROR, payload: 'Song names must be unique' }\n  }\n  return dispatch => {\n    app.database().ref(`songs/${song.id}`)\n      .update(song)\n      .then(() => {\n        dispatch({ type: SONG_UPDATE, payload: song.id });\n      })\n      .catch(e => {\n        console.log(e);\n        dispatch({ type: SONG_ERROR, payload: e.message });\n      })\n  }\n};\n\nexport const songDelete = id => {\n  return dispatch => {\n    app.database().ref(`songs/${id}`)\n      .remove()\n      .then(() => {\n        dispatch({ type: SONG_DELETE });\n      })\n      .catch(e => {\n        dispatch({ type: SONG_ERROR, payload: e.message })\n      })\n  }\n}\nexport const songCreate = (songs, song) => {\n  if (!validateName(songs, song.name, song.id)) {\n    return { type: SONG_ERROR, payload: 'Song names must be unique' }\n  }\n  return dispatch => {\n    app.database().ref('songs')\n      .push()\n      .then(ref => {\n        song.id = ref.key;\n        app.database().ref(ref)\n          .update(song)\n          .then(() => {\n            dispatch({ type: SONG_CREATE, payload: song });\n         })\n      })\n      .catch(e => {\n        dispatch({ type: SONG_ERROR, payload: e.message });\n      })\n }\n};\nexport const songMessageChanged = value => (\n  { type: SONG_ERROR, payload: value }\n)\nexport const songDateChanged = value => (\n  { type: SONG_DATE_UPDATE, payload: value }\n)\nexport const songLyricsChanged = value => (\n  { type: LYRICS_UPDATE, payload: value }\n)\nexport const songVoxChanged = value => (\n  { type: VOX_UPDATE, payload: value }\n)\nexport const songReqSharksChanged = value => (\n  { type: REQSHARKS_UPDATE, payload: value }\n)\nexport const songAudioChanged = value => (\n  { type: AUDIO_UPDATE, payload: value }\n)\nexport const detailedSongChanged = value => (\n  { type: DETAILED_SONG_CHANGED, payload: value }\n)\n","import app from 'firebase/app';\nimport 'firebase/database';\n\nimport {\n  DETAILED_GIG_CHANGED,\n  GIGS_FETCH_SUCCESS,\n  GIG_UPDATE,\n  GIG_DELETE,\n  GIG_ERROR,\n  GIG_CREATE,\n  GIG_DATE_UPDATE,\n  GIG_SETLIST_UPDATE,\n  GIG_MEDIA_DELETED,\n  GIG_MEDIA_ADDED\n} from './types';\n\nexport const gigsFetch = value => {\n  return dispatch => {\n    app.database().ref('gigs').on('value', snapshot => {\n      dispatch({ type: GIGS_FETCH_SUCCESS, payload: snapshot.val() })\n    })\n  }\n}\n\nexport const gigMediaAdded = (mediaObj, id) => {\n  return dispatch => {\n    const dbRef = app.database().ref(`gigs/${id}/media`);\n    const newRef = dbRef.push(mediaObj)\n    .then(() => {\n      dispatch({ type: GIG_MEDIA_ADDED, key: newRef.key, payload: mediaObj })\n    })\n  }\n}\nexport const gigMediaDeleted = (gigId, mediaId) => {\n  return dispatch => {\n    const dbRef = app.database().ref(`gigs/${gigId}/media/${mediaId}`);\n\n    dbRef.remove()\n      .then(() => {\n        dispatch({ type: GIG_MEDIA_DELETED, payload: mediaId });\n      })\n      .catch(e => {\n        dispatch({ type: GIG_ERROR, payload: 'fuck' })\n      })\n  }\n}\n\nexport const gigDateChanged = value => (\n  { type: GIG_DATE_UPDATE, payload: value }\n)\n\nexport const gigSetListUpdated = value => (\n  { type: GIG_SETLIST_UPDATE, payload: value }\n)\n\nexport const gigUpdate = gig => {\n  return dispatch => {\n    app.database().ref(`gigs/${gig.id}`)\n      .update(gig)\n      .then(() => {\n        dispatch({ type: GIG_UPDATE, payload: gig.id });\n      })\n      .catch(e => {\n        console.log(e);\n        dispatch({ type: GIG_ERROR, payload: e.message });\n      })\n  }\n};\n\nexport const gigDelete = id => {\n  return dispatch => {\n    app.database().ref(`gigs/${id}`)\n      .remove()\n      .then(() => {\n        dispatch({ type: GIG_DELETE });\n      })\n      .catch(e => {\n        console.log(e);\n        dispatch({ type: GIG_ERROR, payload: e.message });\n      })\n  }\n}\nexport const gigCreate = gig => {\n  return dispatch => {\n    app.database().ref('gigs')\n      .push()\n      .then(ref => {\n        gig.id = ref.key;\n        app.database().ref(ref)\n          .update(gig)\n          .then(() => {\n            dispatch({ type: GIG_CREATE, payload: gig });\n         })\n      })\n      .catch(e => {\n        dispatch({ type: GIG_ERROR, payload: e.message });\n      })\n }\n};\nexport const gigMessageChanged = value => (\n  { type: GIG_ERROR, payload: value }\n)\nexport const detailedGigChanged = value => (\n  { type: DETAILED_GIG_CHANGED, payload: value }\n)\n","import app from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\n\nconst config = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n};\n\nclass Firebase {\n  constructor() {\n    app.initializeApp(config);\n    this.auth = app.auth();\n    this.db = app.database();\n  }\n\n  // AUTH API //\n\n  doSignInWithEmailAndPassword = (email, password) =>\n    this.auth.signInWithEmailAndPassword(email, password);\n\n  doSignOut = () => this.auth.signOut();\n\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\n\n  doPasswordUpdate = password =>\n    this.auth.currentUser.updatePassword(password);\n\n  // DB API //\n  getSongs = () => {\n    return this.db.ref('songs').once('value')\n    .then(snapshot => snapshot.val())\n  }\n\n  doCreateSong = song => {\n    const time = new Date().getTime();\n    this.db.ref().update({ songsLastUpdate: time });\n    const ref = this.db.ref().child('songs').push(song);\n    return ref.key;\n  }\n\n  doCreateGig = gig => {\n    const time = new Date().getTime();\n    this.db.ref().update({ gigsLastUpdate: time });\n    const ref = this.db.ref().child('gigs').push(gig);\n    return ref.key\n  }\n\n\n  // USER API //\n\n  user = uid => this.db.ref(`users/${uid}`);\n  users = () => this.db.ref('users');\n}\n\nexport default Firebase;\n","import React from 'react';\n\nconst btnClass = `\n  block mx-4 p-1\n  text-white text-3xl hover:text-pink-300\n`;\nconst activeBtnClass = `\n  block mx-4 p-1\n  text-deeppink text-shadow text-3xl\n`;\n\nconst Nav = ({ onClickNav, tab }) => (\n  <nav className=\"flex justify-between font-metal w-full md:w-auto\">\n    <button\n      onClick={onClickNav}\n      value=\"songs\"\n      className={\n        tab === 'songs' ? activeBtnClass : btnClass\n      }\n    >\n      Songs\n    </button>\n    <button\n      onClick={onClickNav}\n      value=\"gigs\"\n      className={\n        tab === 'gigs' ? activeBtnClass : btnClass\n      }\n    >\n      Gigs\n    </button>\n    <button\n      onClick={onClickNav}\n      value=\"sharks\"\n      className={\n        tab === 'sharks' ? activeBtnClass : btnClass\n      }\n    >\n      Sharks\n    </button>\n  </nav>\n);\n\nexport default Nav;\n","import React from 'react';\n\nconst className = `\n  fixed bottom-0 right-0 mb-12 mr-5\n  h-16 w-16 rounded-full shadow-slategray p-1 bg-tan border border-black leading-none\n  md:static md:m-1 md:bg-white md:h-12 md:w-12 md:text-sm md:shadow-none\n  z-10\n`;\n\nconst SignInButton = ({ onShowSignIn }) => (\n  <button\n    type=\"button\"\n    onClick={onShowSignIn}\n    className={className}\n  >\n    Sign In\n  </button>\n);\n\nconst SignOutButton = ({ firebase }) => (\n  <button\n    type=\"button\"\n    className={className}\n    onClick={firebase.doSignOut}\n  >\n    Sign Out\n  </button>\n);\n\nconst SignInOrOutButton = ({ authUser, firebase, onShowSignIn }) => {\n  if (authUser) {\n    return (\n      <SignOutButton\n        firebase={firebase}\n      />\n    );\n  } else {\n    return (\n      <SignInButton\n        onShowSignIn={onShowSignIn}\n      />\n    );\n  }\n};\n\nexport default SignInOrOutButton;\n","import React from 'react';\n\nimport Nav from './Nav';\nimport SignInOrOutButton from '../User/SignInOrOutButton';\n\nconst Header = ({ onClickNav, tab, firebase, onShowSignIn, authUser }) => (\n  <header className=\"z-10 w-full px-5 py-1 bg-darkgray flex justify-between items-center shadow-slategray relative\">\n    <h1 className=\"hidden md:block p-i text-4xl text-deeppink font-metal tracking-widest text-shadow\">\n      Sharkapp\n    </h1>\n    <Nav\n      onClickNav={onClickNav}\n      tab={tab}\n    />\n    <SignInOrOutButton\n      firebase={firebase}\n      onShowSignIn={onShowSignIn}\n      authUser={authUser}\n    />\n  </header>\n)\n\nexport default Header;\n","import React from 'react';\n\nconst mainClassName = `\n  relative top-0 right-0\n  h-screen\n  flex flex-col justify-center\n  bg-tan\n  border-double border-black border-10\n  font-metal text-center\n  z-100\n  animation-shake\n`;\n\nconst Loader = () => {\n  return (\n    <main className={mainClassName}>\n      <h1 className=\"text-6xl leading-none text-shadow-white-red animation-rushShake\">\n        Barnyard Sharks\n      </h1>\n      <p className=\"mt-0 animation-fadeIn animation-delay-md text-3xl\">\n        Are Coming For You<span className=\"animation-blink\">...</span>\n      </p>\n    </main>\n  )\n}\n\nexport default Loader;\n","export const main = {\n  outer: 'h-mainWrapper flex bg-tan shadow-inset',\n  inner: 'relative w-full md:w-1/2',\n}\nexport const mainList = {\n  btn: `\n    w-full mb-1 p-1\n    bg-offwhite shadow-spread\n    border border-gray border-b-3\n    leading-tight text-left text-xl\n    hover:bg-deeppink hover:text-white hover:border-transparent\n  `,\n  wrapper: 'p-3 overflow-y-scroll h-full lastItem-mb'\n}\nexport const floatingBtn = {\n  topSmall: `\n    absolute top-0 right-0 mt-2 mr-2\n    h-12 w-12 p-1\n    text-sm leading-none\n    bg-tan shadow-slategray\n    border border-black rounded-full\n  `,\n  topLarge: `\n    absolute top-0 right-0 mt-2 mr-2\n    h-16 w-16 p-1\n    leading-none\n    bg-tan shadow-slategray\n    border border-black rounded-full\n  `,\n}\nexport const modalInner = `\n  h-10/12 w-10/12\n  bg-white shadow-inset\n  p-4 text-lg\n  flex flex-col\n`;\n\nexport const toggleBtn = {\n  inactive: `\n    relative p-3\n    border border-black rounded-10\n    btn-toggle\n  `,\n  active: ' shadow-sm bg-deeppink text-white'\n}\n\nexport const heading = {\n  futura: `\n    font-futura text-center text-2xl underline font-bold\n  `\n}\n\nexport const futuraHeading = 'font-futura text-center font-bold';\n\nexport const input = {\n  label: `border border-black shadow-card p-2 text-sm`,\n  input: `block text-lg w-full`\n}\n\nexport const btn = {\n  empty: ``,\n  full: ``\n}\n\nexport const submitBtn = `\n  block p-2 text-xl\n  border-4 border-double border-black rounded-lg\n  disabled:border-gray-500 disabled:text-gray-500\n  songSubmit\n`\n\nexport const setList = ``\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { statusFilterChanged } from '../../../../actions';\n\nimport {\n  toggleBtn,\n  futuraHeading,\n} from '../../../../classLists';\n\nconst styles = {\n  wrapper: 'flex flex-wrap justify-center -mx-2 md:mx-0 md:flex',\n  btn: toggleBtn.inactive + ' m-1 flex-grow',\n  active: toggleBtn.active,\n  heading: futuraHeading + ' hidden md:block w-full -mb-1 text-lg',\n}\n\nconst StatusBtns = ({ filterView, statusFilter, statusFilterChanged }) => {\n  const statuses = ['solid', 'shakey', 'inactive', 'retired', 'idea'];\n  return (\n  <div className={filterView === 'status' ?\n      styles.wrapper : styles.wrapper + ' hidden'}>\n    <h4 className={styles.heading}>\n      STATUS FILTER\n    </h4>\n    {statuses.map(status => (\n      <button\n        type=\"button\"\n        key={status}\n        onClick={e => statusFilterChanged(e.target.value)}\n        className={statusFilter.indexOf(status) !== -1 ?\n          styles.btn + styles.active : styles.btn}\n        value={status}\n      >\n        {status}\n      </button>\n    ))}\n  </div>\n)};\n\nconst mapStateToProps = (state) => {\n  const { statusFilter } = state.filter;\n  return { statusFilter };\n};\n\n\nexport default connect(mapStateToProps, { statusFilterChanged })(StatusBtns);\n","import {\n  STATUS_FILTER_CHANGED,\n  VOCALS_FILTER_CHANGED,\n  SHARKS_FILTER_CHANGED,\n  SORT_TYPE_CHANGED,\n  FILTER_DISPLAY_CHANGED,\n  COVER_FILTER_CHANGED\n } from './types';\n\nexport const statusFilterChanged = value => (\n  { type: STATUS_FILTER_CHANGED, payload: value }\n)\nexport const vocalsFilterChanged = value => (\n  { type: VOCALS_FILTER_CHANGED, payload: value }\n)\nexport const sharksFilterChanged = value => (\n  { type: SHARKS_FILTER_CHANGED, payload: value }\n)\nexport const sortTypeChanged = value => (\n  { type: SORT_TYPE_CHANGED, payload: value }\n)\nexport const filterDisplayChanged = value => (\n  { type: FILTER_DISPLAY_CHANGED, payload: value }\n)\nexport const coverFilterChanged = value => (\n  { type: COVER_FILTER_CHANGED, payload: value }\n)\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { vocalsFilterChanged } from '../../../../actions';\nimport {\n  toggleBtn,\n  futuraHeading,\n} from '../../../../classLists';\n\nconst styles = {\n  wrapper: 'flex flex-wrap justify-center -mx-2 md:mx-0 md:flex',\n  btn: toggleBtn.inactive + ' m-1 flex-grow',\n  active: toggleBtn.active,\n  heading: futuraHeading + ' hidden md:block w-full -mb-1 text-lg',\n}\n\nconst VocalBtns = ({ sharks, filterView, vocalsFilter, vocalsFilterChanged }) => {\n\n  const getName = uid => {\n    if (sharks.active) {\n      return sharks.active[uid].name;\n    }\n  }\n  const sharkIds = ['05x2qzOXABfcDkMGTClzDZxzBBt2', 'r6hSiQpBaNfqiPgKatywDJCDRL13', 'fUek7qwanvg3Sp8BJlp0NLswllO2'];\n  return (\n    <div className={filterView === 'vocals' ?\n        styles.wrapper : styles.wrapper + ' hidden'}>\n      <h4 className={styles.heading}>VOCALIST FILTER</h4>\n      {sharkIds.map(id => (\n        <button\n          type=\"button\"\n          key={id}\n          onClick={e => vocalsFilterChanged(e.target.value)}\n          value={id}\n          className={vocalsFilter === id ?\n              styles.btn + styles.active : styles.btn}\n        >\n          {getName(id)}\n        </button>\n      ))}\n      <button\n        type=\"button\"\n        onClick={e => vocalsFilterChanged(e.target.value)}\n        value=\"gang\"\n        className={vocalsFilter === \"gang\" ?\n          styles.btn + styles.active : styles.btn}\n      >\n        Gang\n      </button>\n      <button\n        type=\"button\"\n        onClick={e => vocalsFilterChanged(e.target.value)}\n        value=\"instrumental\"\n        className={vocalsFilter === \"instrumental\" ?\n          styles.btn + styles.active : styles.btn}\n      >\n        Instrumental\n      </button>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const { vocalsFilter } = state.filter;\n  const { sharks } = state.sharks;\n  return { vocalsFilter, sharks };\n};\n\nexport default connect(mapStateToProps, { vocalsFilterChanged })(VocalBtns);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { toggleBtn } from '../../classLists';\n\nconst styles = {\n  btn: toggleBtn.inactive + ' m-1 flex-grow',\n  active: toggleBtn.active,\n};\n\nconst SharkSelect = ({ sharks, checkedCondition, handleChange, children }) => {\n  const sharkArray = Object.entries(sharks.active);\n  const btns = sharkArray.map(shark => (\n      <button\n        type=\"button\"\n        onClick={handleChange}\n        className={checkedCondition.indexOf(shark[0]) !== -1 ?\n          styles.btn + styles.active : styles.btn}\n        value={shark[0]}\n        key={shark[0]}\n      >\n        {shark[1].name}\n      </button>\n    )\n  );\n  if (children) {\n    btns.push(children);\n  }\n\n  return btns;\n}\n\n\nconst mapStateToProps = (state) => {\n  const { sharks } = state.sharks;\n  return { sharks };\n};\n\nexport default connect(mapStateToProps)(SharkSelect);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { sharksFilterChanged } from '../../../../actions';\nimport SharkSelect from '../../SharkSelect';\n\nimport { futuraHeading } from '../../../../classLists';\n\nconst styles = {\n  wrapper: 'flex flex-wrap justify-center -mx-2 md:mx-0 md:flex',\n  heading: futuraHeading + ' w-full -mb-1 text-lg',\n}\n\nconst SharkBtns = ({ filterView, sharksFilter, sharksFilterChanged }) => (\n  <div className={filterView === 'sharks' ?\n      styles.wrapper : styles.wrapper + ' hidden'}>\n    <h4 className={styles.heading}>\n      WHO IS <em>NOT</em> HERE?\n    </h4>\n    <SharkSelect\n      handleChange={e => sharksFilterChanged(e.target.value)}\n      checkedCondition={sharksFilter}\n    />\n  </div>\n);\n\nconst mapStateToProps = (state) => {\n  const { sharksFilter } = state.filter;\n  const { sharks } = state.sharks;\n  return { sharksFilter, sharks };\n};\n\n\nexport default connect(mapStateToProps, { sharksFilterChanged })(SharkBtns);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport StatusBtns from './StatusBtns';\nimport VocalBtns from './VocalBtns';\nimport SharkBtns from './SharkBtns';\n\nimport { filterDisplayChanged, coverFilterChanged, sortTypeChanged } from '../../../../actions';\nimport {\n  toggleBtn,\n  futuraHeading,\n} from '../../../../classLists';\nconst styles = {\n  hideBtn: toggleBtn.inactive + ' w-full mx-auto my-1',\n  sortBtn: toggleBtn.inactive + ' flex-grow w-full mx-auto my-1 md:w-auto md:mx-1',\n  active: toggleBtn.active,\n\n  heading: futuraHeading + ' underline text-xl',\n  wrapper: `\n    max-420 fixed bottom-0 w-11/12 ml-1/2 translate-1/2 flex p-4\n    bg-white shadow-xl z-10 transition-md\n    md:overflow-y-scroll md:static md:m-0 md:transform-none md:h-full md:w-1/2\n    md:flex-col md:justify-around md:z-inherit\n  `,\n  sortWrapper: `\n    flex flex-col justify-between\n    w-1/3 pl-3 min-h-0\n    border-l-2 border-gray-700\n    md:w-full md:border-none md:pl-0 md:flex-row\n  `,\n  closeBtn: `\n    absolute top-0 left-0\n    ml-half -mt-4 px-2 pt-1\n    border border-black rounded-lg\n    text-xl leading-none bg-white\n    md:hidden\n  `,\n}\n\nconst Filter = ({\n  vocalsFilter,\n  sharksFilter,\n  statusFilter,\n  sortType,\n  isCoverFilter,\n  isFilterDisplay,\n\n  coverFilterChanged,\n  filterDisplayChanged,\n  sortTypeChanged,\n\n  sharks,\n}) => {\n  const [filterView, setFilterView] = useState('status');\n\n  const flipState = e => {\n    setFilterView(e.target.value)\n  }\n\n  const navBtnClassName = (name, filter) => {\n    const classes = 'mx-1 px-1 py-2 font-futura uppercase border-black border-2';\n    if (filterView === name) {\n      return classes + styles.active;\n    } else if (filter) {\n      return classes + ' bg-pink';\n    } else return classes;\n  }\n\n  return (\n    <div className={isFilterDisplay ?\n        styles.wrapper : styles.wrapper + ' hideFilter'}>\n      <div className=\"w-2/3 pr-4 md:w-full md:pr-0\">\n        <h3 className={styles.heading + ' md:hidden'}>FILTER</h3>\n        <nav id=\"nav-filter\" className=\"py-2 md:hidden flex justify-center\">\n          <button\n            type=\"button\"\n            id=\"status\"\n            onClick={flipState}\n            className={navBtnClassName('status', statusFilter)}\n            value=\"status\"\n          >\n            STATUS\n          </button>\n          <button\n            type=\"button\"\n            id=\"vocals\"\n            onClick={flipState}\n            className={navBtnClassName('vocals', vocalsFilter)}\n            value=\"vocals\"\n          >\n            VOX\n          </button>\n          <button\n            type=\"button\"\n            id=\"covers\"\n            onClick={flipState}\n            className={navBtnClassName('sharks', sharksFilter)}\n            value=\"sharks\"\n          >\n            SHARKS\n          </button>\n        </nav>\n\n        <StatusBtns filterView={filterView} />\n        <VocalBtns filterView={filterView} />\n        <SharkBtns filterView={filterView} />\n\n      </div>\n      <div className={styles.sortWrapper}>\n        <div className=\"md:w-1/2 md:pr-1 md:flex md:flex-wrap\">\n          <h3 className={styles.heading + ' w-full'}>SORT</h3>\n          <button\n            type=\"button\"\n            onClick={() => sortTypeChanged('newest')}\n            className={sortType === 'newest' ?\n              styles.sortBtn + styles.active : styles.sortBtn}\n          >\n            New\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => sortTypeChanged('oldest')}\n            className={sortType === \"oldest\" ?\n              styles.sortBtn + styles.active : styles.sortBtn}\n          >\n            Old\n          </button>\n        </div>\n        <div className=\"md:w-1/2 md:pl-1\">\n          <h3 className={styles.heading}>HIDE</h3>\n          <button\n            id=\"covers\"\n            onClick={() => coverFilterChanged()}\n            className={isCoverFilter ? styles.hideBtn : styles.hideBtn + styles.active}\n            type=\"button\"\n          >\n            Covers\n          </button>\n        </div>\n      </div>\n\n      <button\n        type=\"button\"\n        onClick={() => filterDisplayChanged()}\n        className={isFilterDisplay ? styles.closeBtn : styles.closeBtn + ' flipRotate'}\n      >\n        ^\n      </button>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  const {\n    vocalsFilter,\n    sharksFilter,\n    statusFilter,\n    sortType,\n    isCoverFilter,\n    isFilterDisplay,\n  } = state.filter;\n  return {\n    vocalsFilter,\n    sharksFilter,\n    statusFilter,\n    sortType,\n    isCoverFilter,\n    isFilterDisplay,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  coverFilterChanged,\n  filterDisplayChanged,\n  sortTypeChanged,\n})(Filter);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  mainList as styles,\n} from '../../../classLists';\n\n\n\nconst AllSongList = ({\n  songs,\n  sortType,\n  isCoverFilter,\n  statusFilter,\n  vocalsFilter,\n  sharksFilter,\n  setList,\n  onClick,\n}) => {\n\n  const filterSongs = songs => {\n    let filteredSongs = Object.values(songs);\n\n    // no covers is default\n    if (!isCoverFilter) {\n      filteredSongs = filteredSongs.filter(song => song.isCover === undefined || song.isCover === false);\n    }\n    // duplicates in setLists aren't allowed\n    if (setList) {\n      filteredSongs = filteredSongs.filter(song => setList.indexOf(song.id) === -1 );\n    }\n    if (statusFilter) {\n      filteredSongs = filteredSongs.filter(song => statusFilter.indexOf(song.status) !== -1);\n    }\n    if (sharksFilter) {\n      // to do: improve this\n      const sharksFilterArray = sharksFilter.split(', ');\n      filteredSongs = filteredSongs.filter(song => {\n        let isKeeper = true;\n        // for each shark who isn't here\n          // we see if the song requires them to be here\n        sharksFilterArray.forEach(shark => {\n          const test = new RegExp(shark);\n          if (test.test(song.reqSharks)) {\n            isKeeper = false;\n          }\n        });\n        return isKeeper;\n      });\n    }\n    if (vocalsFilter) {\n      filteredSongs = filteredSongs.filter(song => song.vox.indexOf(vocalsFilter) !== -1);\n    }\n    if (sortType) {\n      if (sortType === 'newest') {\n        filteredSongs = filteredSongs.sort((a, b) => b.dob - a.dob);\n      } else if (sortType === 'oldest') {\n        filteredSongs = filteredSongs.sort((a, b) => a.dob - b.dob);\n      }\n    } else {\n      filteredSongs = filteredSongs.sort((a, b) => {\n        if (a.name.toUpperCase() > b.name.toUpperCase()) {\n          return 1;\n        } else {\n          return -1;\n        }\n      });\n    }\n    return filteredSongs;\n  }\n  const filteredSongs = filterSongs(songs);\n  return (\n    <ul className={styles.wrapper}>\n      {filteredSongs.map(song => (\n        <li key={song.name}>\n          <button\n            type=\"button\"\n            onClick={onClick}\n            value={song.id}\n            className={styles.btn}\n          >\n            {song.name}\n          </button>\n        </li>\n      ))}\n    </ul>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const {\n    vocalsFilter,\n    sharksFilter,\n    statusFilter,\n    sortType,\n    isCoverFilter,\n  } = state.filter;\n  const { songs } = state.songs;\n  return {\n    vocalsFilter,\n    sharksFilter,\n    statusFilter,\n    sortType,\n    isCoverFilter,\n    songs,\n  };\n};\n\nexport default connect(mapStateToProps)(AllSongList);\n","import React from 'react';\n\nimport Filter from './Filter';\nimport AllSongList from './AllSongList';\n\nconst AllSongs = ({ className, setList, onClick, children }) => (\n  <>\n    <div className={className || 'relative w-full md:w-1/2'}>\n      <AllSongList\n        setList={setList}\n        onClick={onClick}\n      />\n      {children}\n    </div>\n    <Filter />\n  </>\n);\n\nexport default AllSongs;\n","import React from 'react';\n\nconst styles = {\n  btn: `\n    block w-2/3 mx-auto mb-4 p-2 text-xl\n    border-4 border-double border-black rounded-lg\n    disabled:border-gray-500 disabled:text-gray-500\n  `\n}\n\nconst Confirm = ({\n  onYes,\n  onNo,\n  message,\n  isDisabled,\n}) => (\n  <>\n    <h2 className=\"text-center font-bold text-2xl\">\n      {message}\n    </h2>\n    <button\n      id=\"proceed\"\n      onClick={onYes}\n      className={styles.btn}\n      disabled={isDisabled}\n    >\n      Proceed\n    </button>\n    <button\n      id=\"cancelBtn\"\n      onClick={onNo}\n      className={styles.btn}\n      disabled={isDisabled}\n    >\n      Cancel\n    </button>\n  </>\n);\n\nexport default Confirm;\n","export const processDate = date => {\n  if (date === '') {\n    return ''\n  } else if (typeof date === 'string') {\n    return new Date(date).getTime();\n  } else if (typeof date === 'number') {\n    const dateObj = new Date(date);\n    let month = dateObj.getMonth() + 1;\n    month = (month.toString().length === 1) ? '0' + month : month;\n    const year = dateObj.getFullYear();\n    let day = dateObj.getDate();\n    day = (day.toString().length === 1) ? '0' + day : day;\n    return `${month}/${day}/${year}`;\n  }\n};\n\nexport const validateDate = date => {\n  return /^[0-1][0-9]\\/[0-3][0-9]\\/[1-2][0-9][0-9][0-9]$/.test(date);\n}\n\n// export const onDateChange = value => {\n//   if (validateDate(value)) {\n//     return processDate(value);\n//   } else {\n//     return value;\n//   }\n// };\n","import { processDate, validateDate } from './date';\nimport toggleValue from './toggleValue';\n\nconst getNameById = (id, objTree) => {\n  const objEntries = Object.entries(objTree);\n  const obj = objEntries.filter(obj => obj[0] === id)[0];\n  const name = obj[1].name;\n\n  return name;\n}\n\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result;\n};\n\nexport {\n  reorder,\n  processDate,\n  validateDate,\n  toggleValue,\n  getNameById\n}\n","import React, { useState } from 'react';\nimport { processDate, validateDate } from '../../utils';\n\nimport { input as styles } from '../../classLists';\n\nconst DateInput = ({ date, name, labelText, storeDate }) => {\n  const [localDate, setLocalDate] = useState(null);\n\n  const onDateChange = value => {\n    if (validateDate(value)) {\n      // set to null so props value shows\n      // or maybe i don't need this since component should rerender\n        // reseting useState to initial state of null?\n      setLocalDate(null);\n      storeDate(processDate(value));\n    } else {\n      setLocalDate(value);\n    }\n  }\n\n  return (\n    <label className={styles.label} style={{ gridArea: name }}>\n      {labelText}\n      <input\n        name={name}\n        onChange={e => onDateChange(e.target.value)}\n        value={localDate || processDate(date)}\n        className={styles.input}\n        placeholder=\"mm/dd/yyyy\"\n      />\n    </label>\n  )\n}\n\nexport default DateInput\n","import React from 'react';\n\nfunction delayUnmounting(Component) {\n  return class extends React.Component {\n    state = {\n      shouldRender: this.props.isMounted,\n      isUnmounting: false\n    };\n\n    componentDidUpdate(prevProps) {\n      if (prevProps.isMounted && !this.props.isMounted) {\n        this.setState({ isUnmounting: true });\n        setTimeout(\n          () => this.setState({ shouldRender: false }),\n          this.props.delayTime\n        );\n      } else if (!prevProps.isMounted && this.props.isMounted) {\n        this.setState({ shouldRender: true, isUnmounting: false });\n      }\n    }\n\n    render() {\n      return this.state.shouldRender ?\n        <Component isUnmounting={this.state.isUnmounting} {...this.props} />\n        : null;\n    }\n  };\n}\n\nexport default delayUnmounting;\n","import React from 'react';\n\nconst styles = {\n  outer: `\n    fixed top-0 left-0\n    h-mainWrapper-full w-full\n    z-10 mt-16\n    bg-black-opaque\n  `,\n  inner: `\n    absolute top-0 right-0 w-11/12 md:w-10/12 h-full max-w-666\n    bg-white shadow-card animation-slideIn transition-md\n  `,\n  btnClose: `\n    absolute bottom-0 left-0 mb-y-center -ml-6\n    border border-black rounded-sm\n    shadow-card p-2 bg-white leading-none\n  `,\n}\nconst DetailWrapper = ({\n  handleExit,\n  children,\n  isUnmounting,\n  classNames\n}) => {\n  const innerClassName = isUnmounting ?\n  `${classNames} ${styles.inner} slideOut`\n  : `${classNames} ${styles.inner}`;\n  const outerClassName = isUnmounting ? styles.outer + \" fadeOut\" : styles.outer;\n  return (\n    <div id=\"halfModalBG\" className={outerClassName} onClick={handleExit}>\n      <div className={innerClassName}>\n        {children}\n        <button\n          id=\"detailExit\"\n          type=\"button\"\n          onClick={handleExit}\n          className={styles.btnClose}\n        >\n          >\n        </button>\n      </div>\n    </div>\n  )\n}\nexport default DetailWrapper;\n","import React from 'react';\n\nconst EditOrCreate = ({\n  isEdit,\n\n  className,\n  title,\n\n  handleCreate,\n  handleEdit,\n\n  createValidation,\n  editValidation,\n}) => {\n  const onClick = isEdit ? handleEdit : handleCreate;\n\n  return (\n    <button\n      className={className}\n      onClick={onClick}\n      disabled={isEdit ? !editValidation : !createValidation}\n      style={{ gridArea: 'submit' }}\n    >\n      {isEdit ? 'save edits' : 'create'}\n    </button>\n  )\n}\n\nexport default EditOrCreate;\n","import React, { useState } from 'react';\n\nconst Message = ({ text, type, dismiss }) => {\n  const [isUnloading, unload] = useState(false)\n  let styles = `\n    max-420 fixed top-0 left-0 w-11/12\n    mt-2 ml-1/2 translate-1/2 z-100\n    p-4 bg-pink shadow-xl font-bold text-center text-lg\n    border-4 border-currentColor rounded-10\n    animation-fadeIn\n  `;\n\n  if (type === 'error') styles += ' text-red';\n\n  const fadeOut = () => {\n    unload(true);\n    setTimeout(dismiss, 300)\n  }\n\n  var to = setTimeout(fadeOut, 7000);\n\n  const onDismiss = () => {\n    clearTimeout(to)\n    fadeOut();\n  }\n  return (\n    <div\n      className={isUnloading ? styles += ' fadeOut' : styles}\n      onClick={onDismiss}\n    >\n      {text}\n    </div>\n  )\n}\n\nexport default Message;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst styles = {\n  modalInner: `\n    w-10/12 h-10/12\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  `,\n  modalBG: `\n    fixed top-0 left-0\n    w-full h-screen z-100\n    bg-black-opaque\n    flex items-center justify-center\n  `,\n}\n\nconst modalRoot = document.getElementById('modal');\n\nclass Modal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.el = document.createElement('div');\n    this.el.classList = props.innerStyles || styles.modalInner\n  }\n\n  componentDidMount() {\n    // The portal element is inserted in the DOM tree after\n    // the Modal's children are mounted, meaning that children\n    // will be mounted on a detached DOM node. If a child\n    // component requires to be attached to the DOM tree\n    // immediately when mounted, for example to measure a\n    // DOM node, or uses 'autoFocus' in a descendant, add\n    // state to Modal and only render the children when Modal\n    // is inserted in the DOM tree.\n    modalRoot.appendChild(this.el);\n\n    modalRoot.addEventListener('click', this.handleExit);\n    modalRoot.classList = styles.modalBG;\n  }\n\n  componentWillUnmount() {\n    modalRoot.removeChild(this.el);\n    modalRoot.removeEventListener('click', this.handleExit);\n    modalRoot.classList = '';\n  }\n\n  handleExit = e => {\n    if (e.target.id === 'modal') this.props.exit();\n  }\n\n  render() {\n    return ReactDOM.createPortal(\n      this.props.children,\n      this.el,\n    );\n  }\n}\n\nexport default Modal;\n","import React, { useState } from 'react';\nimport { Modal } from '../../common';\n\nconst styles = {\n  btnOuter: 'relative text-left text-sm border border-black rounded-lg shadow-card p-2',\n  btnText: 'absolute top-0 left-0 ml-2 mt-2 text-lg text-left leading-none',\n  modalInner: `\n    h-full\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  `,\n  textArea: `\n    block w-full h-11/12 mt-2 p-4\n    border border-black font-monospace text-lg\n  `,\n}\n\nconst LyricInput = ({ lyrics, storeLyrics }) => {\n  // opens modal if true\n  const [isEdit, toggleEdit] = useState(false);\n  const [newLyrics, inputLyrics] = useState('');\n\n  const handleExit = () => {\n    if (newLyrics) {\n      storeLyrics(newLyrics)\n    }\n    inputLyrics('');\n    toggleEdit(!isEdit);\n  }\n\n  return (\n    <>\n      <button\n        style={{ gridArea: 'lyrics' }}\n        className={lyrics ? styles.btnOuter + ' bg-pink' : styles.btnOuter}\n        onClick={() => toggleEdit(!isEdit)}\n      >\n        <span className={styles.btnText}>\n          Lyrics / <br/>Chords\n        </span>\n      </button>\n      {isEdit &&\n        <Modal innerStyles=\"w-10/12 h-10/12\" exit={handleExit}>\n          <label className={styles.modalInner}>\n            lyrics / chords\n            <textarea\n              name=\"lyrics\"\n              className={styles.textArea}\n              onChange={e => inputLyrics(e.target.value)}\n              value={newLyrics || lyrics}\n            >\n            </textarea>\n          </label>\n        </Modal>\n      }\n    </>\n  )\n}\n\nexport default LyricInput\n","import React, { useState } from 'react';\nimport { Modal, SharkSelect } from '../../common';\n\nimport { toggleValue, getNameById } from '../../../utils';\n\nconst styles = {\n  btnOuter: 'relative text-left text-sm border border-black rounded-lg shadow-card p-2',\n  btnText: 'absolute top-0 left-0 ml-2 mt-2 text-lg text-left leading-none',\n  btnLabel: 'absolute top-0 left-0 mt-2 ml-2',\n  btnValue: 'block text-xl mt-3 -mb-1',\n  modalInner: `\n    w-10/12 h-10/12\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  `,\n  btnToggle: `\n    relative m-1 p-3\n    border border-black rounded-10\n    btn-toggle\n  `\n}\n\nconst LyricInput = ({ vox, storeVox, sharks }) => {\n  const [isEdit, toggleEdit] = useState(false);\n  const [newVox, inputVox] = useState('');\n\n  const handleExit = () => {\n    if (newVox) {\n      storeVox(newVox)\n    }\n    inputVox('');\n    toggleEdit(!isEdit);\n  }\n\n  const handleVoxChange = e => {\n    const localVox = !newVox ? vox : newVox;\n\n    let result;\n    // instrumental is special because it can't be combined\n    if (e.target.value === 'instrumental') {\n      result = localVox === 'instrumental' ? '' : 'instrumental';\n    } else if (localVox === 'instrumental') {\n      result = e.target.value;\n    } else {\n      result = toggleValue(e.target.value, localVox);\n    }\n    inputVox(result);\n  }\n\n  const processVox = () => {\n    if (vox === '') {\n      return ''\n    }\n    const inputArray = vox.split(', ');\n    const outputArray = inputArray.map(vox => {\n      if (vox !== 'instrumental' && vox !== 'gang') {\n        return getNameById(vox, sharks.active);\n      } else {\n        return vox\n      }\n    })\n    return outputArray.join(', ');\n  }\n\n  return (\n    <>\n      <button\n        style={{ gridArea: 'vocals' }}\n        className={styles.btnOuter}\n        onClick={() => toggleEdit(!isEdit)}\n      >\n        <span className={styles.btnLabel}>vocalist</span>\n        <span className={styles.btnValue}>{processVox()}</span>\n      </button>\n      {isEdit &&\n        <Modal innerStyles={styles.modalInner} exit={handleExit}>\n          <SharkSelect\n            checkedCondition={newVox || vox}\n            handleChange={handleVoxChange}\n          >\n            <>\n              <button\n                type=\"button\"\n                onClick={handleVoxChange}\n                className={\n                  /gang/.test(newVox || vox) ?\n                  styles.btnToggle + \" bg-deeppink text-white shadow-sm\" :\n                  styles.btnToggle\n                }\n                value=\"gang\"\n                key=\"gang\"\n              >\n                Gang\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleVoxChange}\n                className={\n                  /instrumental/.test(newVox || vox) ?\n                  styles.btnToggle + \" bg-deeppink text-white shadow-sm\" :\n                  styles.btnToggle\n                }\n                value=\"instrumental\"\n                key=\"instrumental\"\n              >\n                Instrumental\n              </button>\n            </>\n          </SharkSelect>\n        </Modal>\n      }\n    </>\n  )\n}\n\nexport default LyricInput\n","import React, { useState } from 'react';\nimport { Modal } from '../../common';\n\nimport {\n  input,\n  submitBtn,\n  modalInner,\n} from '../../../classLists';\n\nconst styles = {\n  audio: input.label + ' block mb-4',\n  inputLG: input.input,\n  iframe: input.label + ' relative w-full h-80px',\n  modalInner,\n  submitBtn: submitBtn + ' mb-4 mx-auto',\n  embedBtn: `\n    absolute top-0 right-0 mt-2 mr-2 h-10/12\n    rounded-10 px-2 btn-toggle border border-currentColor\n    leading-tight\n  `\n}\n\nconst Audio = ({ audioObj, name, storeAudio }) => {\n  // opens modal if true\n  const [isEdit, toggleEdit] = useState(false);\n  const [newAudio, setNewAudio] = useState('');\n  const [error, setError] = useState('');\n\n  const processAudioEmbed = e => {\n    e.preventDefault();\n    // blank input 'deletes' current embed\n    if (!newAudio) {\n      storeAudio(null);\n      handleExit();\n    }\n\n    const reSoundCloud = /soundcloud/i;\n    const reBandCamp = /bandcamp/i;\n    let host;\n    if (reBandCamp.test(newAudio)) {\n      host = 'bandcamp';\n    } else if (reSoundCloud.test(newAudio)) {\n      host = 'soundcloud';\n    } else {\n      setError('invalid embed');\n      return false;\n    }\n    // looks for the word track(s) followed by \"=\" or \"/\"\n    // then records the numbers\n    const reTrackID = /tracks?[=/](\\d+)/;\n    const trackID = reTrackID.exec(newAudio)[1];\n\n    storeAudio({ host, trackID });\n    handleExit();\n  }\n  const onAudioChange = e => {\n    setError('');\n    setNewAudio(e.target.value)\n  }\n\n  const handleExit = () => {\n    setError('');\n    setNewAudio('');\n    toggleEdit(false);\n  }\n\n  const renderAudio = () => {\n    if (audioObj && audioObj.host) {\n      if (audioObj.host === 'soundcloud') {\n        const source = `https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/${audioObj.trackID}&color=%23ff5500&auto_play=false&hide_related=false&show_comments=false&show_user=false&show_reposts=false&show_teaser=false`\n        return <iframe className=\"w-10/12 h-full\" title=\"soundcloud\" src={source}></iframe>\n      } else {\n        const source = `https://bandcamp.com/EmbeddedPlayer/size=small/bgcol=ffffff/linkcol=0687f5/track=${audioObj.trackID}/transparent=true/`;\n        return <iframe className=\"w-10/12 h-full\" title=\"bandcamp\" src={source}><p>{name}</p></iframe>\n      }\n    } else {\n      return\n    }\n  }\n\n  return (\n    <>\n      <div className={styles.iframe} style={{ gridArea: 'audio' }}>\n        {renderAudio()}\n        <button\n          type=\"button\"\n          className={styles.embedBtn}\n          onClick={() => toggleEdit(!isEdit)}\n        >\n          add <br /> embed\n        </button>\n      </div>\n      {isEdit &&\n        <Modal\n          innerStyles=\"w-10/12 h-10/12 bg-white px-5 p-2\"\n          exit={handleExit}\n        >\n          <h2 className=\"text-center font-futura text-2xl\">\n            Add audio embed from Soundcloud or Bandcamp\n          </h2>\n          <p className=\"text-center text-xl\">\n            To remove the current embed, submit a blank input\n          </p>\n          <p className=\"text-center text-xl mt-2\">\n            To permanently store this embed, you <strong>must </strong>\n            save edits on the songs page\n          </p>\n          <form\n            className=\"mt-2\"\n            onSubmit={e => processAudioEmbed(e)}\n            style={{ gridArea: 'audio' }}\n          >\n            {error && <p className=\"font-bold\">{error}</p>}\n            <label className={styles.audio}>\n              enter entire embed code\n              <input\n                name=\"newAudio\"\n                onChange={e => onAudioChange(e)}\n                value={newAudio}\n                className={styles.inputLG}\n              />\n            </label>\n            <button className={styles.submitBtn}>\n              Submit\n            </button>\n            <button\n              className={styles.submitBtn}\n              type=\"button\"\n              onClick={handleExit}\n            >\n              Cancel\n            </button>\n          </form>\n        </Modal>\n      }\n    </>\n  )\n}\nexport default Audio;\n","import React, { useState } from 'react';\nimport { Modal, SharkSelect } from '../../common';\n\nimport { toggleValue } from '../../../utils';\n\nconst styles = {\n  btnOuter: 'relative text-left text-sm border border-black rounded-lg shadow-card p-2',\n  btnText: 'absolute top-0 left-0 ml-2 mt-2 text-lg text-left leading-none',\n  modalInner: `\n    h-full\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  `,\n}\n\nconst ReqSharkInput = ({ reqSharks, storeReqSharks, sharks }) => {\n  const [isEdit, toggleEdit] = useState(false);\n  const [newReqShark, inputReqShark] = useState('');\n\n  const handleExit = () => {\n    if (newReqShark) {\n      storeReqSharks(newReqShark)\n    }\n    inputReqShark('');\n    toggleEdit(!isEdit);\n  }\n\n  const handleReqSharkChange = e => {\n    if (!newReqShark) inputReqShark(toggleValue(e.target.value, reqSharks));\n    else inputReqShark(toggleValue(e.target.value, newReqShark));\n  }\n\n  return (\n    <>\n      <button\n        className={reqSharks ? styles.btnOuter + \" bg-pink\" : styles.btnOuter}\n        style={{ gridArea: 'required' }}\n        onClick={() => toggleEdit(!isEdit)}\n      >\n        <span className={styles.btnText}>Required Sharks</span>\n      </button>\n\n      {isEdit &&\n        <Modal innerStyles={styles.modalInner} exit={handleExit}>\n          <h3 className=\"font-futura font-bold w-full text-2xl text-center\">\n            WHO IS REQUIRED?\n          </h3>\n          <SharkSelect\n            checkedCondition={newReqShark || reqSharks}\n            handleChange={handleReqSharkChange}\n            sharks={sharks}\n          />\n        </Modal>\n      }\n    </>\n  )\n}\n\nexport default ReqSharkInput\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  songUpdate,\n  songCreate,\n  songDelete,\n  songDateChanged,\n  songLyricsChanged,\n  songVoxChanged,\n  songAudioChanged,\n  songReqSharksChanged,\n  songMessageChanged,\n} from '../../../actions';\n\nimport {\n  Modal,\n  DetailWrapper,\n  EditOrCreate,\n  Confirm,\n  DateInput,\n  Message\n} from '../../common';\n\nimport LyricInput from './Lyrics';\nimport VoxInput from './VoxInput';\nimport Audio from './Audio';\nimport ReqSharkInput from './ReqSharkInput';\n\nimport {\n  input,\n  floatingBtn,\n  submitBtn,\n  modalInner,\n  futuraHeading,\n} from '../../../classLists';\n\nconst styles = {\n  wrapper: 'grid-song h-full w-full p-4',\n  label: input.label,\n  cover: 'absolute top-0 right-0 mt-6 mr-8 text-sm md:mr-10 lg:mr-20',\n  addSong: floatingBtn.topSmall,\n  btnSubmit: submitBtn,\n  inputXL: input.input,\n  modalInnerSm: modalInner,\n  heading: futuraHeading + ' text-2xl my-1',\n}\n\nconst Song = ({\n  sharks,\n  songs,\n  gigs,\n\n  detailedSong,\n\n  songAudioChanged,\n  songCreate,\n  songDateChanged,\n  songDelete,\n  songLyricsChanged,\n  songMessageChanged,\n  songReqSharksChanged,\n  songUpdate,\n  songVoxChanged,\n\n  error,\n  message,\n\n  isUnmounting,\n  exit\n}) => {\n  // local song attributes:\n  const [status, changeStatus] = useState('');\n  const [name, changeName] = useState(detailedSong.name);\n  const [isCover, toggleCover] = useState(detailedSong.isCover);\n\n  // is edit or create?\n  const [isEdit, setIsEdit] = useState(!!detailedSong.id)\n\n  // confirm here is for deleting\n  const [isConfirm, toggleConfirm] = useState(false);\n\n  const onChangeName = e => changeName(e.target.value);\n\n  const onEdit = () => {\n    const { audio, dob, id, lyrics, reqSharks, vox } = detailedSong;\n    const song = {\n      audio,\n      dob,\n      id,\n      isCover,\n      lyrics,\n      name: name || detailedSong.name,\n      reqSharks,\n      status: status || detailedSong.status,\n      vox,\n    };\n    songUpdate(songs, song);\n  }\n  const onCreate = () => {\n    const { dob, lyrics, vox, reqSharks, audio, id } = detailedSong;\n    const song = { audio, dob, id, name, vox, status, isCover, lyrics, reqSharks };\n\n    setIsEdit(true);\n    songCreate(songs, song);\n  }\n\n  const findSongInSetLists = () => {\n    const gigsValues = Object.values(gigs);\n    const id = detailedSong.id;\n    // if there isn't a id no need to do the rest\n    if (!id) return false;\n    let gigCount = 0;\n    gigsValues.forEach(gig => {\n      if (gig.setList.indexOf(id) !== -1) gigCount++;\n    })\n\n    const sharksValues = Object.values(sharks.active);\n    let sharkFavCount = 0;\n    sharksValues.forEach(shark => {\n      if (shark.favSongs && shark.favSongs.indexOf(id) !== -1) sharkFavCount++;\n    })\n\n    return { gig: gigCount, sharkFav: sharkFavCount }\n  }\n\n  const count = findSongInSetLists();\n\n  const dismiss = () => {\n    songMessageChanged('')\n  }\n\n  const handleDelete = () => {\n    if (count.gig || count.sharkFav) {\n      songMessageChanged('You can not delete a song that is included in a setlist or A Sharks Dozen list')\n    } else if (!detailedSong.id) {\n      songMessageChanged('You cant delete a song that hasnt been made')\n    } else {\n      toggleConfirm(true)\n    }\n  }\n\n  const onDelete = () => {\n    exit();\n    songDelete(detailedSong.id)\n  }\n\n    return (\n      <DetailWrapper\n        handleExit={exit}\n        classNames=\"songWrapper\"\n        isUnmounting={isUnmounting}\n      >\n        {message &&\n          <Message\n            text={message.text}\n            type={message.type}\n            dismiss={dismiss}\n          />}\n        <div className={styles.wrapper}>\n          <label className={styles.label} style={{ gridArea: 'name' }}>\n            name\n            <input\n              onChange={onChangeName}\n              value={name}\n              className={styles.inputXL}\n            />\n          </label>\n          {detailedSong.id && <p style={{ gridArea: 'stats' }}>This song is found in {count.gig} gigs</p>}\n\n          <DateInput\n            labelText=\"Date of birth\"\n            name=\"dob\"\n            storeDate={songDateChanged}\n            date={detailedSong ? detailedSong.dob : ''}\n          />\n\n          <label className={styles.label} style={{ gridArea: 'status' }}>\n            status\n            <select\n              name=\"status\"\n              onChange={e => changeStatus(e.target.value)}\n              value={status || detailedSong.status}\n              className={styles.inputXL}\n            >\n              <option value=\"solid\">solid</option>\n              <option value=\"shakey\">shakey</option>\n              <option value=\"inactive\">inactive</option>\n              <option value=\"retired\">retired</option>\n              <option value=\"idea\">idea</option>\n            </select>\n          </label>\n\n          <VoxInput\n            vox={detailedSong.vox}\n            sharks={sharks}\n            storeVox={songVoxChanged}\n          />\n\n          <Audio\n            audioObj={detailedSong.audio}\n            name={name}\n            storeAudio={songAudioChanged}\n          />\n\n          <LyricInput\n            lyrics={detailedSong.lyrics}\n            storeLyrics={songLyricsChanged}\n          />\n\n          <ReqSharkInput\n            reqSharks={detailedSong.reqSharks}\n            sharks={sharks}\n            storeReqSharks={songReqSharksChanged}\n          />\n\n          <EditOrCreate\n            isEdit={isEdit}\n            className={styles.btnSubmit}\n            handleCreate={onCreate}\n            handleEdit={onEdit}\n            createValidation={name}\n            editValidation={true}\n          />\n          <button\n            style={{ gridArea: 'delete' }}\n            onClick={handleDelete}\n          >\n            Delete Song\n          </button>\n\n          <label className={styles.cover}>\n            {isCover ? \"cover\" : \"original\"}\n            <input\n              type=\"checkbox\"\n              className=\"invisible\"\n              onChange={() => toggleCover(!isCover)}\n              checked={isCover} // to do: this is a problem\n            />\n          </label>\n\n        </div>\n\n        {isConfirm &&\n          <Modal\n            innerStyles={styles.modalInner}\n            exit={toggleConfirm}\n          >\n            <Confirm\n              onYes={onDelete}\n              onNo={() => toggleConfirm()}\n              message=\"Are you sure you want to delete this song?\"\n            />\n          </Modal>\n        }\n       </DetailWrapper>\n    );\n  }\n\nconst mapStateToProps = state => {\n  const { songs, message, detailedSong } = state.songs;\n  const { gigs } = state.gigs;\n  const { sharks } = state.sharks;\n  return { songs, message, detailedSong, gigs, sharks };\n}\n\nexport default connect(mapStateToProps, {\n  songAudioChanged,\n  songCreate,\n  songDateChanged,\n  songDelete,\n  songLyricsChanged,\n  songMessageChanged,\n  songReqSharksChanged,\n  songUpdate,\n  songVoxChanged,\n})(Song);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { detailedSongChanged } from '../../actions';\nimport Song from './Song';\nimport { AllSongs, delayUnmounting} from '../common';\n\nconst DelayedSong = delayUnmounting(Song);\n\nconst Songs = ({ detailedSongChanged, detailedSong, authUser }) => {\n  const [isDetail, toggleDetail] = useState(false);\n\n  const exitDetail = e => {\n    const modalBG = document.querySelector('#halfModalBG');\n    const exitBtn = document.querySelector('#detailExit');\n\n    if (!e || e.target === modalBG || e.target === exitBtn) toggleDetail(false);\n  }\n  const enterDetail = value => {\n    detailedSongChanged(value);\n    toggleDetail(true);\n  }\n  const addNewSong = () => {\n    detailedSongChanged({\n      audio: '',\n      dob: '',\n      id: '',\n      isCover: false,\n      lyrics: '',\n      name: '',\n      reqSharks: '',\n      status: '',\n      vox: '',\n    })\n    toggleDetail(true);\n  }\n  return (\n    <main className=\"h-mainWrapper flex bg-tan shadow-inset\">\n      <AllSongs onClick={e => enterDetail(e.target.value)}>\n        {authUser && navigator.onLine &&\n          <button\n            className=\"absolute top-0 right-0 mt-2 mr-2 h-16 w-16 rounded-full p-1 bg-tan border border-black leading-none shadow-slategray\"\n            onClick={addNewSong}\n          >\n            new song\n          </button>\n        }\n      </AllSongs>\n\n      <DelayedSong\n        delayTime={300}\n        isMounted={isDetail}\n        exit={exitDetail}\n      />\n    </main>\n  );\n}\n\nconst mapStateToProps = state => {\n  const { detailedSong } = state.songs;\n  return { detailedSong }\n}\n\n\nexport default connect(mapStateToProps, { detailedSongChanged })(Songs);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\n\nimport { AllSongs, Modal } from '../common';\nimport { getNameById, reorder } from '../../utils';\n\nconst styles = {\n  base: 'border border-gray-700 px-2 mb-1 ml-1 text-left',\n  grow: ' flex-grow',\n  hide: ' hidden sm:block',\n  modalInner: `\n    h-full\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  `,\n}\n\nconst SetList = ({ songs, setList, storeSetList, authUser }) => {\n  const [isEdit, toggleEdit] = useState(false);\n\n  const handleExit = () => {\n    toggleEdit(false);\n  }\n  const onPushToSetList = e => {\n    const newSetList = [...setList, e.target.value];\n    toggleEdit(false);\n    storeSetList(newSetList);\n  }\n  const onDeleteSong = e => {\n    const position = parseInt(e.target.value);\n    setList.splice(position, 1);\n    storeSetList(setList);\n  }\n\n  const addBtnStyles = `\n    absolute top-0 right-0 mr-2\n    h-12 w-12 p-1\n    text-sm leading-none\n    bg-tan shadow-slategray\n    border border-black rounded-full\n  `;\n\n  const onDragEnd = result => {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n\n    const newSetList = reorder(\n      setList,\n      result.source.index,\n      result.destination.index\n    );\n\n    storeSetList(newSetList);\n  }\n\n\n  return (\n    <>\n      <DragDropContext onDragEnd={onDragEnd}>\n        <Droppable droppableId=\"droppable\">\n          {(provided, snapshot) => (\n            <ol\n              {...provided.droppableProps}\n              ref={provided.innerRef}\n              className=\"h-full overflow-y-scroll lastItem-mb-sm\"\n            >\n              {setList.map((song, i) => (\n                <Draggable key={song} draggableId={song} index={i}>\n                  {(provided, snapshot) => (\n                    <li\n                      ref={provided.innerRef}\n                      {...provided.draggableProps}\n                      {...provided.dragHandleProps}\n                      className=\"flex\"\n                    >\n                      <span className={styles.base + styles.grow}>\n                        {i + 1}) {getNameById(song, songs)}\n                      </span>\n                      <button\n                        type=\"button\"\n                        value={i}\n                        onClick={onDeleteSong}\n                        className={styles.base}\n                      >\n                        x\n                      </button>\n                    </li>\n                  )}\n                </Draggable>\n              ))}\n              {provided.placeholder}\n            </ol>\n          )}\n        </Droppable>\n      </DragDropContext>\n\n      <button\n        onClick={() => toggleEdit(true)}\n        type=\"button\"\n        className={addBtnStyles}\n      >\n        Add Song\n      </button>\n\n      {isEdit &&\n        <Modal\n          innerStyles=\"flex bg-tan shadow-inset w-full h-full\"\n          exit={handleExit}\n        >\n          <AllSongs\n            onClick={onPushToSetList}\n            setList={setList}\n          />\n        </Modal>\n      }\n    </>\n  );\n}\n\nconst mapStateToProps = state => {\n  const { songs } = state.songs;\n  const { sharks } = state.sharks;\n  return { sharks, songs };\n}\n\nexport default connect(mapStateToProps)(SetList);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux'\nimport {\n  Modal,\n  Confirm,\n} from '../common';\n\nimport {\n  gigMessageChanged,\n  gigMediaAdded,\n  gigMediaDeleted\n} from '../../actions';\n\nimport { modalInner, floatingBtn } from '../../classLists';\n\nconst styles = {\n  modalInner,\n  addBtn: floatingBtn.topSmall,\n};\n\nconst MediaItem = ({ item }) => {\n  if (item.type === 'photo') {\n    return <img className=\"block mx-auto mb-1\" src={item.src} alt=\"\" />\n  }\n}\n\nconst Media = ({ gigMediaAdded, gigMediaDeleted, gigMessageChanged, detailedGig, authUser }) => {\n  const [isAddMedia, toggleAddMedia] = useState(false);\n  const [isConfirm, toggleConfirm] = useState(false);\n  const [error, setError] = useState(null);\n  const [src, setSrc] = useState('');\n  const [mediaId, setMediaId] = useState(null);\n\n  const media = detailedGig.media ?\n    Object.entries(detailedGig.media) :\n    [];\n\n  const onAddMedia = () => {\n    if (!detailedGig.id) {\n      gigMessageChanged('You must create the gig first before adding media');\n      return false;\n    } else toggleAddMedia(true)\n  }\n\n  const onPushToMedia = e => {\n    e.preventDefault();\n    const duplicate = media.filter(media => media[1].src === src);\n    if (duplicate.length) {\n      setError('That media is already added');\n      toggleAddMedia(false)\n      return false;\n    }\n\n    const mediaObj = {\n      type: 'photo',\n      src\n    }\n    gigMediaAdded(mediaObj, detailedGig.id);\n    toggleAddMedia(false);\n  }\n  const startDeleteMedia = e => {\n    setMediaId(e.target.value);\n    toggleConfirm(true);\n  }\n  const onFinishDeleteMedia = () => {\n    gigMediaDeleted(detailedGig.id, mediaId);\n    toggleConfirm(false);\n  }\n\n\n  return (\n    <>\n    <div className=\"h-full overflow-y-scroll flex flex-col\">\n      {error && <p>{error}</p>}\n      {media.map(item => (\n        <div\n          className=\"relative mx-auto\"\n          style={{maxWidth: '500px'}}\n          key={item[0]}\n        >\n          <MediaItem item={item[1]} />\n          <button\n            value={item[0]}\n            onClick={startDeleteMedia}\n            className=\"absolute right-0 top-0 ml-2 text-xl px-2 border-2 border-white text-white\"\n          >\n            &times;\n          </button>\n        </div>\n      ))}\n\n      <button\n        onClick={onAddMedia}\n        type=\"button\"\n        className={styles.addBtn}\n      >\n        Add Media\n      </button>\n    </div>\n    {isAddMedia &&\n      <Modal\n        innerStyles={styles.modalInner}\n        exit={() => toggleAddMedia(false)}\n      >\n        <h2 className=\"text-center mb-4 font-futura\">Please enter the source of the photo</h2>\n        <form className=\"p-2\">\n          <input\n            onChange={e => setSrc(e.target.value)}\n            value={src}\n            className=\"block text-lg mb-4 p-2 w-full border-black border-2\"\n          />\n          <button\n            onClick={onPushToMedia}\n            type=\"submit\"\n            // disabled={!this.props.authUser || this.state.src}\n            className=\"border-black border-2 text-lg block mx-auto p-2 rounded-lg\"\n          >\n            save picture\n          </button>\n        </form>\n      </Modal>\n    }\n    {isConfirm &&\n      <Modal\n        innerStyles={styles.modalInner}\n        exit={() => toggleConfirm(false)}\n      >\n        <Confirm\n          onYes={onFinishDeleteMedia}\n          onNo={() => toggleConfirm(false)}\n          message=\"Are you sure you want to delete this media item?\"\n          disabled={false}\n        />\n      </Modal>\n    }\n    </>\n  );\n}\n\nconst mapStateToProps = state => {\n  const { detailedGig } = state.gigs;\n  return { detailedGig };\n}\n\nexport default connect(mapStateToProps, {\n  gigMessageChanged,\n  gigMediaAdded,\n  gigMediaDeleted\n})(Media);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  gigUpdate,\n  gigCreate,\n  gigDelete,\n  gigDateChanged,\n  gigMessageChanged,\n  gigSetListUpdated,\n} from '../../actions';\n\nimport {\n  Modal,\n  Message,\n  Confirm,\n  DateInput,\n  DetailWrapper,\n  EditOrCreate,\n} from '../common';\n\nimport SetList from './SetList';\nimport Media from './Media';\n\nimport {\n  input,\n  floatingBtn,\n  submitBtn,\n  modalInner,\n  futuraHeading,\n} from '../../classLists';\n\nconst styles = {\n  wrapper: 'grid-gig h-full w-full p-4',\n  label: input.label,\n  addSong: floatingBtn.topSmall,\n  btnSubmit: submitBtn,\n  inputXL: input.input,\n  modalInnerSm: modalInner,\n  heading: futuraHeading + ' text-2xl my-1',\n}\n\nconst Gig = ({\n  detailedGig,\n\n  gigCreate,\n  gigDelete,\n  gigUpdate,\n\n  gigDateChanged,\n  gigSetListChanged,\n  gigMessageChanged,\n  gigSetListUpdated,\n\n  message,\n  authUser,\n  isUnmounting,\n  exit\n}) => {\n  const [location, changeLocation] = useState(detailedGig.location);\n  const [tab, setTab] = useState(detailedGig.media ? 'media' : 'setList');\n  // is edit or create?\n  const [isEdit, setIsEdit] = useState(!!detailedGig.id)\n\n  // confirm is for deleting\n  const [isConfirm, toggleConfirm] = useState(false);\n\n  const onEdit = () => {\n    const gig = {\n      setList: detailedGig.setList,\n      location: location || detailedGig.location,\n      date: detailedGig.date,\n      id: detailedGig.id,\n    };\n    gigUpdate(gig)\n  }\n\n  const onCreate = () => {\n    const gig = {\n      date: detailedGig.date,\n      location,\n      setList: detailedGig.setList,\n    }\n\n    setIsEdit(true);\n    gigCreate(gig);\n  }\n\n  const onDelete = () => {\n    exit();\n    gigDelete(detailedGig.id)\n  }\n\n  const dismiss = () => {\n    gigMessageChanged('')\n  }\n\n  return (\n      <DetailWrapper\n        handleExit={exit}\n        classNames=\"gigWrapper\"\n        isUnmounting={isUnmounting}\n      >\n        {message &&\n          <Message\n            text={message.text}\n            type={message.type}\n            dismiss={dismiss}\n          />\n        }\n        <div className={styles.wrapper}>\n          <label className={styles.label} style={{ gridArea: 'where' }}>\n            location\n            <input\n              onChange={e => changeLocation(e.target.value)}\n              value={location}\n              className={styles.inputXL}\n            />\n          </label>\n\n          <DateInput\n            labelText=\"Date\"\n            name=\"when\"\n            storeDate={gigDateChanged}\n            date={detailedGig ? detailedGig.date : ''}\n          />\n\n          <div className=\"relative overflow-hidden\" style={{ placeSelf: 'stretch', gridArea: 'what' }}>\n            <h3 className={styles.heading}>\n              <button\n                onClick={e => setTab('media')}\n                className={tab === 'media' ? 'underline font-bold mr-5' : 'mr-5'}\n              >\n                MEDIA\n              </button>\n              <button\n                onClick={e => setTab('setList')}\n                className={tab === 'setList' ? 'underline font-bold' : ''}\n              >\n                SETLIST\n              </button>\n            </h3>\n            {tab === 'setList' ? (\n              <SetList\n                setList={detailedGig.setList ? detailedGig.setList.split(',') : []}\n                storeSetList={gigSetListUpdated}\n              />\n            ) : <Media /> }\n          </div>\n\n          <EditOrCreate\n            isEdit={isEdit}\n            className={styles.btnSubmit}\n            handleCreate={onCreate}\n            handleEdit={onEdit}\n            createValidation={location}\n            editValidation={true}\n          />\n          {authUser &&\n            <button\n              style={{ gridArea: 'delete' }}\n              onClick={() => toggleConfirm(true)}\n            >\n              Delete Gig\n            </button>\n          }\n        </div>\n\n        {isConfirm &&\n          <Modal\n            innerStyles={styles.modalInnerSm}\n            exit={() => toggleConfirm(false)}\n          >\n            <Confirm\n              onYes={onDelete}\n              onNo={() => toggleConfirm(false)}\n              message=\"Are you sure you want to delete this gig?\"\n            />\n          </Modal>\n        }\n       </DetailWrapper>\n\n  );\n}\n\nconst mapStateToProps = state => {\n  const { message, detailedGig } = state.gigs;\n  return { message, detailedGig };\n}\n\nexport default connect(mapStateToProps, {\n  gigCreate,\n  gigDelete,\n  gigUpdate,\n  gigMessageChanged,\n  gigDateChanged,\n  gigSetListUpdated,\n})(Gig);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { processDate } from '../../utils';\nimport { mainList } from '../../classLists';\nconst styles = {\n  mainList,\n  icon: `\n    px-1 rounded-full font-monospace text-xl\n    text-shadow\n  `\n}\n\nconst GigList = ({ gigs, detailedGig, showDetail }) => {\n  const gigArray = Object.entries(gigs).sort((a, b) => {\n    return b[1].date - a[1].date;\n  });\n  const onClick = e => {\n    const value = e.target.value ? e.target.value : e.target.parentNode.value;\n    showDetail(value);\n  }\n  return (\n    <ul className={styles.mainList.wrapper}>\n      {gigArray.map(gig => (\n        <li className=\"relative\" key={gig[0]}>\n          <button\n            onClick={onClick}\n            className={styles.mainList.btn}\n            value={gig[0]}\n          >\n            <span className=\"font-monospace\">{processDate(gig[1].date)} </span>\n            <span>{gig[1].location}</span>\n\n          </button>\n          <span className=\"absolute right-0 mr-2 mt-1\">\n            {gig[1].media &&\n              <span\n                role=\"img\"\n                aria-label=\"media available\"\n                className={styles.icon}\n              ></span>\n            }\n            {!!gig[1].setList.length &&\n              <span\n                role=\"img\"\n                aria-label=\"setlist available\"\n                className={styles.icon}\n              ></span>\n            }\n          </span>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nconst mapStateToProps = state => {\n  const { gigs, detailedGig } = state.gigs;\n  return { gigs, detailedGig }\n}\n\n\nexport default connect(mapStateToProps)(GigList);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { detailedGigChanged } from '../../actions';\nimport Gig from './Gig';\nimport GigList from './GigList';\nimport { delayUnmounting } from '../common';\n\nimport { main, floatingBtn } from '../../classLists';\n\nconst styles = { main, floatingBtn };\n\nconst DelayedGig = delayUnmounting(Gig);\n\nconst Gigs = ({ detailedGigChanged, detailedGig, authUser }) => {\n  const [isDetail, toggleDetail] = useState(false);\n\n  const exitDetail = e => {\n    const modalBG = document.querySelector('#halfModalBG');\n    const exitBtn = document.querySelector('#detailExit');\n\n    if (!e || e.target === modalBG || e.target === exitBtn) toggleDetail(false);\n  }\n  const enterDetail = value => {\n    detailedGigChanged(value);\n    toggleDetail(true);\n  }\n\n  const addNewGig = () => {\n    detailedGigChanged({ date: '', location: '', setList: '' });\n    toggleDetail(true);\n  }\n\n  return (\n    <main className={styles.main.outer}>\n      <div className={styles.main.inner}>\n        <GigList showDetail={enterDetail} />\n        {authUser && navigator.onLine &&\n          <button\n            className={styles.floatingBtn.topLarge}\n            onClick={addNewGig}\n          >\n            new gig\n          </button>\n        }\n      </div>\n\n      <DelayedGig\n        delayTime={300}\n        authUser={authUser}\n        isMounted={isDetail}\n        exit={exitDetail}\n      />\n    </main>\n  );\n}\n\n\nconst mapStateToProps = state => {\n  const { detailedGig } = state.gigs;\n  return { detailedGig }\n}\n\nexport default connect(mapStateToProps, { detailedGigChanged })(Gigs);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  sharkUpdate,\n  sharkDateChanged,\n  sharkFavSongsChanged,\n  sharkMessageChanged,\n} from '../../actions';\n\nimport {\n  submitBtn,\n  input,\n  heading,\n} from '../../classLists';\n\nimport SetList from '../Gigs/SetList';\nimport { DetailWrapper, Message, DateInput } from '../common/';\n\nconst styles = {\n  submitBtn,\n  input,\n  heading,\n  wrapper: 'grid-shark overflow-y-scroll h-full w-full p-4',\n}\n\nconst Shark = ({\n  authUser,\n  detailedShark,\n\n  sharkDateChanged,\n  sharkFavSongsChanged,\n  sharkUpdate,\n  sharkMessageChanged,\n\n  message,\n  isUnmounting,\n  exit\n}) => {\n  const [name, setName] = useState(detailedShark.name)\n\n  const handleEdit = () => {\n    const shark = { ...detailedShark, name: name || detailedShark.name }\n    sharkUpdate(shark)\n  }\n\n  const dismiss = () => {\n    sharkMessageChanged('')\n  }\n\n  // if current user is the detailed shark, you are valid\n  const validated = authUser && authUser.uid === detailedShark.id;\n\n  return (\n    <DetailWrapper\n      handleExit={exit}\n      classNames=\"gigWrapper\"\n      isUnmounting={isUnmounting}\n    >\n      {message &&\n        <Message\n          text={message.text}\n          type={message.type}\n          dismiss={dismiss}\n        />\n      }\n      <div className={styles.wrapper}>\n        <label className={styles.input.label}>\n          Name\n          <input\n            onChange={e => setName(e.target.value)}\n            value={name}\n            className={styles.input.input}\n          />\n        </label>\n\n        <DateInput\n          labelText=\"Shark Since\"\n          name=\"when\"\n          storeDate={sharkDateChanged}\n          date={detailedShark ? detailedShark.sharkSince : ''}\n        />\n\n        <div className=\"overflow-y-scroll relative\" style={{ gridArea: 'favs' }}>\n          <h3 className={styles.heading.futura}>\n            A SHARKS <br />DOZEN\n          </h3>\n          <SetList\n            setList={detailedShark.favSongs ? detailedShark.favSongs.split(',') : []}\n            storeSetList={sharkFavSongsChanged}\n          />\n        </div>\n\n        {validated && navigator.onLine &&\n          <button\n            className={styles.submitBtn}\n            type=\"submit\"\n            style={{ gridArea: 'submit' }}\n            onClick={handleEdit}\n          >\n            save edits\n          </button>\n        }\n      </div>\n\n\n    </DetailWrapper>\n  );\n}\n\nconst mapStateToProps = state => {\n  const { detailedShark, message } = state.sharks;\n  return { detailedShark, message }\n}\n\nexport default connect(mapStateToProps, {\n  sharkFavSongsChanged,\n  sharkDateChanged,\n  sharkUpdate,\n  sharkMessageChanged,\n})(Shark);\n","import app from 'firebase/app';\nimport 'firebase/database';\n\nimport {\n  SHARKS_FETCH_SUCCESS,\n  DETAILED_SHARK_CHANGED,\n  SHARK_DATE_UPDATE,\n  SHARK_SETLIST_UPDATE,\n  SHARK_ERROR,\n  SHARK_UPDATE,\n} from './types';\n\nexport const sharksFetch = value => {\n  return dispatch => {\n    app.database().ref('sharks').on('value', snapshot => {\n      dispatch({ type: SHARKS_FETCH_SUCCESS, payload: snapshot.val() })\n    })\n  }\n}\n\nexport const sharkUpdate = shark => {\n  return dispatch => {\n    app.database().ref(`sharks/active/${shark.id}`)\n      .update(shark)\n      .then(() => {\n        dispatch({ type: SHARK_UPDATE, payload: shark.id });\n      })\n      .catch(e => {\n        console.log(e);\n        dispatch({ type: SHARK_ERROR, payload: e.message });\n      })\n  }\n};\n\nexport const detailedSharkChanged = value => (\n  { type: DETAILED_SHARK_CHANGED, payload: value }\n)\n\nexport const sharkDateChanged = value => (\n  { type: SHARK_DATE_UPDATE, payload: value }\n)\n\nexport const sharkFavSongsChanged = value => (\n  { type: SHARK_SETLIST_UPDATE, payload: value }\n)\nexport const sharkMessageChanged = value => (\n  { type: SHARK_ERROR, payload: value }\n)\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { mainList, heading } from '../../classLists';\n\nconst styles = {\n  mainList,\n  heading,\n}\n\nconst SharkList = ({ sharks, detailedShark, showDetail }) => {\n  const activeSharks = Object.entries(sharks.active);\n  const retiredSharks = Object.entries(sharks.retired);\n  return (\n    <ul className={styles.mainList.wrapper}>\n      <h3 className={styles.heading.futura}>\n        ACTIVE\n      </h3>\n      {activeSharks.map(shark => (\n        <li key={shark[0]}>\n          <button\n            onClick={showDetail}\n            className={styles.mainList.btn}\n            value={shark[0]}\n          >\n            {shark[1].name}\n          </button>\n        </li>\n      ))}\n      <h3 className={styles.heading.futura}>\n        RETIRED\n        </h3>\n      {retiredSharks.map(shark => (\n        <li key={shark[0]}>\n          <button\n            value={shark[0]}\n            className={styles.mainList.btn}\n          >\n            {shark[1].name}\n          </button>\n        </li>\n      ))}\n    </ul>\n\n  );\n}\n\nconst mapStateToProps = state => {\n    const { sharks, detailedShark } = state.sharks;\n    return { sharks, detailedShark }\n}\n\nexport default connect(mapStateToProps)(SharkList);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { detailedSharkChanged } from '../../actions';\nimport Shark from './Shark';\nimport SharkList from './SharkList';\nimport delayUnmounting from '../common/delayUnmounting';\n\nimport { main as styles } from '../../classLists';\n\nconst SharkDelayUnmount = delayUnmounting(Shark);\n\n\nconst Sharks = ({ detailedSharkChanged, detailedShark, authUser }) => {\n  const [isDetail, toggleDetail] = useState(false);\n\n  const enterDetail = e => {\n    detailedSharkChanged(e.target.value);\n    toggleDetail(true);\n  }\n\n  const exitDetail = e => {\n    const modalBG = document.querySelector('#halfModalBG');\n    const exitBtn = document.querySelector('#detailExit');\n\n    if (e.target === modalBG || e.target === exitBtn) toggleDetail(false);\n  }\n\n  return (\n    <main className={styles.outer}>\n      <div className={styles.inner}>\n        <SharkList showDetail={enterDetail} />\n      </div>\n\n      <SharkDelayUnmount\n        delayTime={300}\n        authUser={authUser}\n        isMounted={isDetail}\n        exit={exitDetail}\n      />\n    </main>\n  );\n}\n\nconst mapStateToProps = state => {\n  const { detailedShark } = state.sharks;\n  return { detailedShark };\n}\n\nexport default connect(mapStateToProps, { detailedSharkChanged })(Sharks);\n","import React from 'react';\n\nconst INITIAL_STATE = {\n  email: '',\n  password: '',\n  error: null,\n  isPasswordSuccess: false,\n  isWaiting: false,\n}\n\nconst styles = {\n  label: 'block mb-4 p-2 border border-black shadow-card text-sm',\n  input: 'block w-full mt-2 text-xl',\n  btnSubmit: `\n    block w-full mb-4 p-2 text-2xl text-deeppink font-bold\n    border-4 border-double border-currentColor rounded-lg\n    disabled:border-gray-500 disabled:text-gray-500\n    songSubmit\n  `,\n}\n\nclass SignInForm extends React.Component {\n\n  state = { ...INITIAL_STATE };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.setState({ isWaiting: true });\n    const { email, password } = this.state;\n    this.props.firebase\n      .doSignInWithEmailAndPassword(email, password)\n      .catch(error => {\n        this.setState({ error, isWaiting: false });\n      });\n  }\n\n  handleForget = () => {\n    this.setState({ isWaiting: true });\n    this.props.firebase\n      .doPasswordReset(this.state.email)\n      .then(() => this.setState({ isPasswordSuccess: true, isWaiting: false }))\n      .catch(error => this.setState({ error, isWaiting: false }))\n  }\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value,\n      error: null,\n    });\n  }\n  render() {\n    const {\n      email,\n      password,\n      error,\n      isPasswordSuccess,\n      isWaiting\n    } = this.state;\n\n    const isInvalid = password === '' || email === '';\n\n    return (\n      <div className={this.props.className}>\n        <div\n          className={isPasswordSuccess ?\n            \"relative transition-lg isFlipped h-full\" :\n            \"h-full relative\"\n          }\n          style={{ transformStyle: 'preserve-3d' }}\n        >\n          <form\n            onSubmit={this.handleSubmit}\n            className=\"absolute w-full backface-hidden\"\n          >\n            <h3 className=\"font-futura text-center font-bold text-2xl mb-1\">\n              SIGN IN\n            </h3>\n            <label className={styles.label}>\n              email\n              <input\n                className={styles.input}\n                disabled={isWaiting}\n                inputmode=\"email\"\n                onChange={this.handleChange}\n                name=\"email\"\n                type=\"text\"\n                value={email}\n              />\n            </label>\n            <label className={styles.label}>\n              password\n              <input\n                className={styles.input}\n                disabled={isWaiting}\n                name=\"password\"\n                onChange={this.handleChange}\n                type=\"password\"\n                value={password}\n              />\n            </label>\n            <button\n              disabled={isInvalid || isWaiting}\n              type=\"submit\"\n              className={styles.btnSubmit}\n            >\n              SIGN IN\n            </button>\n\n            <button\n              className=\"w-full font-futura text-center disabled:text-gray-500\"\n              onClick={this.handleForget}\n              disabled={!email}\n              type=\"button\"\n            >\n              FORGOT YOUR PASSWORD?\n            </button>\n\n            {error && <p>{error.message}</p>}\n          </form>\n          <div\n            className=\"absolute w-full h-full bg-white\"\n            style={{\n              transform: 'rotateY(180deg)',\n              backfaceVisibility: 'hidden'\n            }}\n          >\n            <h2 className=\"font-metal text-4xl text-center\">SUCCESS</h2>\n            <p className=\"text-center font-futura text-xl\">\n              You will soon receive instructions to recover your account\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default SignInForm;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { songsFetch, gigsFetch, sharksFetch } from '../actions';\nimport localforage from 'localforage';\n\nimport Firebase from './firebase';\nimport Header from './Header';\nimport Loader from './Loader';\n\nimport Songs from './Songs';\nimport Gigs from './Gigs';\nimport Sharks from './Sharks';\n\nimport Modal from './common/Modal';\nimport { SignInForm } from './User';\n\nconst INITIAL_STATE = {\n  isLoadAnimation: true,\n  tab: 'songs',\n  isAuthDisplay: false,\n  authUser: null,\n}\n\nconst styles = {\n  modalInner: `\n    w-10/12 h-10/12\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  `,\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...INITIAL_STATE };\n    this.firebase = new Firebase();\n  }\n\n  componentDidMount() {\n    // if user is loading app for first time show entire animation\n    localforage.getItem('hasVisited').then(hasVisited => {\n      const timeOut = hasVisited ? 0 : 3000;\n      setTimeout(() => this.endAnimation(), timeOut);\n    }).then(() => localforage.setItem('hasVisited', true));\n\n    // remember which tab the user was last on\n    localforage.getItem('tab').then(tab => {\n      if (tab) this.setState({ tab });\n    })\n    // if online load from localforage\n    if (!navigator.onLine) {\n      localforage.getItem('songs').then(songs => {\n        if (songs) {\n          const songPromise = localforage.getItem('songs');\n          const gigPromise = localforage.getItem('gigs');\n          const sharkPromise = localforage.getItem('sharks');\n\n          Promise.all([songPromise, gigPromise, sharkPromise]).then(values => {\n            this.setState({\n              songs: values[0],\n              gigs: values[1],\n              sharks: values[2]\n            })\n          })\n        }\n      })\n    } else {\n      this.props.songsFetch();\n      this.props.gigsFetch();\n      this.props.sharksFetch();\n      // to do\n//      localforage.setItem('songs', snapshot.val())\n//      localforage.setItem('gigs', snapshot.val())\n//       localforage.setItem('sharks', snapshot.val())\n\n    }\n\n    window.addEventListener('beforeunload', () => {\n      localforage.setItem('tab', this.state.tab);\n    });\n\n    this.firebase.auth.onAuthStateChanged(\n      authUser => {\n        authUser ?\n          this.setState({ authUser, isAuthDisplay: false }) :\n          this.setState({ authUser: null });\n      }\n    );\n  }\n\n  endAnimation = () => {\n    this.setState({ isLoadAnimation: false })\n  }\n\n  onClickNav = e => {\n    this.setState({ tab: e.target.value });\n  }\n\n  onShowSignIn = () => {\n    this.setState({ isAuthDisplay: true });\n  }\n\n  onModalClose = () => {\n    this.setState({ isAuthDisplay: false });\n  }\n\n  renderMain = () => {\n    switch (this.state.tab) {\n      case 'songs':\n        return (\n          <Songs authUser={this.state.authUser} />\n        );\n      case 'gigs':\n        return (\n          <Gigs\n            songs={this.props.songs}\n            gigs={this.props.gigs}\n            sharks={this.props.sharks}\n            firebase={this.firebase}\n            authUser={this.state.authUser}\n          />\n        );\n      case 'sharks':\n        return (\n          <Sharks\n            songs={this.props.songs}\n            sharks={this.props.sharks}\n            firebase={this.firebase}\n            authUser={this.state.authUser}\n          />\n        );\n      default:\n        return (\n          <Songs authUser={this.state.authUser} />\n        );\n    }\n  }\n\n  render() {\n    const { isLoadAnimation } = this.state;\n    const { songs, gigs, sharks } = this.props;\n    const loading = (\n      Object.entries(sharks).length &&\n      Object.entries(songs).length &&\n      Object.entries(gigs).length\n    ) ? false : true;\n    return (\n      <div className=\"h-screen overflow-hidden\">\n        {(isLoadAnimation || loading) && <Loader />}\n        {!loading &&\n          <>\n            <Header\n              onClickNav={this.onClickNav}\n              tab={this.state.tab}\n              authUser={this.state.authUser}\n              firebase={this.firebase}\n              onShowSignIn={this.onShowSignIn}\n            />\n\n            {this.renderMain()}\n\n            {this.state.isAuthDisplay &&\n              <Modal\n                innerStyles={styles.modalInner}\n                exit={this.onModalClose}\n              >\n                <SignInForm\n                  className=''\n                  firebase={this.firebase}\n                />\n              </Modal>\n            }\n          </>\n        }\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { songs } = state.songs;\n  const { gigs } = state.gigs;\n  const { sharks } = state.sharks;\n  return { songs, gigs, sharks };\n};\n\nexport default connect(mapStateToProps,\n  { songsFetch, gigsFetch, sharksFetch }\n)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport ReduxThunk from 'redux-thunk';\n\nimport reducers from './reducers';\nimport * as serviceWorker from './serviceWorker';\nimport 'typeface-metal-mania';\nimport './index.css';\nimport App from './components/App';\n\nconst store = createStore(reducers, {}, applyMiddleware(ReduxThunk));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}