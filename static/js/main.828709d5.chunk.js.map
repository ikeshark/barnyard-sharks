{"version":3,"sources":["utils/toggleValue.js","reducers/FilterReducer.js","reducers/SongsReducer.js","reducers/GigsReducer.js","reducers/SharksReducer.js","reducers/index.js","actions/types.js","serviceWorker.js","actions/SongsActions.js","actions/GigsActions.js","components/firebase.js","components/Header/Nav.js","components/User/SignInOrOutButton.js","components/Header/index.js","components/Loader.js","classLists.js","components/common/AllSongs/Filter/StatusBtns.js","actions/FilterActions.js","components/common/AllSongs/Filter/VocalBtns.js","components/common/SharkSelect.js","components/common/AllSongs/Filter/SharkBtns.js","components/common/AllSongs/Filter/index.js","components/common/AllSongs/AllSongList.js","components/common/AllSongs/index.js","components/common/Confirm.js","utils/date.js","utils/index.js","components/common/DateInput.js","components/common/delayUnmounting.js","components/common/DetailWrapper.js","components/common/EditOrCreate.js","components/common/Message.js","components/common/Modal.js","components/Songs/Song/Lyrics.js","components/Songs/Song/VoxInput.js","components/Songs/Song/Audio.js","components/Songs/Song/ReqSharkInput.js","components/Songs/Song/index.js","components/Songs/index.js","components/Gigs/SetList.js","components/Gigs/Media.js","components/Gigs/Gig.js","components/Gigs/GigList.js","components/Gigs/index.js","components/Sharks/Shark.js","actions/SharksActions.js","components/Sharks/SharkList.js","components/Sharks/index.js","components/User/SignInForm.js","components/App.js","index.js"],"names":["toggleValue","value","csv","indexOf","concat","split","splice","join","INITIAL_STATE","statusFilter","vocalsFilter","sharksFilter","sortType","isFilterDisplay","isCoverFilter","songs","detailedSong","message","gigs","detailedGig","sharks","detailedShark","combineReducers","filter","state","arguments","length","undefined","action","type","payload","Object","objectSpread","id","values","song","text","test","newDetailedSong","dob","vox","lyrics","audio","reqSharks","gig","newDetailedGig","date","setList","media","key","active","shark","newDetailedShark","sharkSince","favSongs","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","validateName","songName","songId","entries","some","name","gigMessageChanged","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","_this","this","classCallCheck","doSignInWithEmailAndPassword","email","password","auth","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","getSongs","db","ref","once","snapshot","val","doCreateSong","time","Date","getTime","update","songsLastUpdate","child","push","doCreateGig","gigsLastUpdate","user","uid","users","app","initializeApp","database","btnClass","activeBtnClass","Nav","_ref","onClickNav","tab","react_default","a","createElement","className","onClick","SignInButton","onShowSignIn","SignOutButton","_ref2","firebase","SignInOrOutButton","_ref3","authUser","SignInOrOutButton_SignOutButton","SignInOrOutButton_SignInButton","Header","Header_Nav","User_SignInOrOutButton","Loader","main","outer","inner","mainList","btn","wrapper","floatingBtn","topSmall","topLarge","modalInner","toggleBtn","heading","futura","futuraHeading","input","label","submitBtn","styles","connect","statusFilterChanged","filterView","map","status","e","target","vocalsFilterChanged","getName","checkedCondition","handleChange","children","btns","sharksFilterChanged","common_SharkSelect","hideBtn","sortBtn","sortWrapper","closeBtn","_state$filter","coverFilterChanged","filterDisplayChanged","sortTypeChanged","_useState","useState","_useState2","slicedToArray","setFilterView","flipState","navBtnClassName","classes","Filter_StatusBtns","Filter_VocalBtns","Filter_SharkBtns","filteredSongs","isCover","sharksFilterArray","isKeeper","forEach","RegExp","sort","b","toUpperCase","filterSongs","AllSongs","Fragment","AllSongs_AllSongList","AllSongs_Filter","Confirm","onYes","onNo","isDisabled","disabled","processDate","dateObj","month","getMonth","toString","year","getFullYear","day","getDate","getNameById","objTree","obj","DateInput","labelText","storeDate","localDate","setLocalDate","style","gridArea","onChange","placeholder","delayUnmounting","Component","_React$Component","_temp","_getPrototypeOf2","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","shouldRender","props","isMounted","isUnmounting","inherits","createClass","prevProps","_this2","setState","setTimeout","delayTime","assign","React","DetailWrapper","handleExit","classNames","innerClassName","outerClassName","EditOrCreate","isEdit","handleCreate","title","handleEdit","createValidation","editValidation","Message","dismiss","isUnloading","unload","fadeOut","to","clearTimeout","modalBG","modalRoot","document","getElementById","Modal","exit","el","classList","innerStyles","appendChild","addEventListener","removeChild","removeEventListener","ReactDOM","createPortal","LyricInput","storeLyrics","toggleEdit","_useState3","_useState4","newLyrics","inputLyrics","common_Modal","storeVox","newVox","inputVox","handleVoxChange","result","localVox","inputLG","iframe","embedBtn","Audio","audioObj","storeAudio","newAudio","setNewAudio","_useState5","_useState6","setError","host","source","trackID","src","renderAudio","onSubmit","preventDefault","exec","processAudioEmbed","onAudioChange","ReqSharkInput","storeReqSharks","newReqShark","inputReqShark","cover","addSong","btnSubmit","inputXL","modalInnerSm","DelayedSong","_state$songs","songAudioChanged","songCreate","dispatch","songDateChanged","songDelete","remove","songLyricsChanged","songMessageChanged","songReqSharksChanged","songUpdate","songVoxChanged","changeStatus","changeName","toggleCover","_useState7","_useState8","setIsEdit","_useState9","_useState10","isConfirm","toggleConfirm","count","gigsValues","gigCount","sharksValues","sharkFavCount","sharkFav","findSongInSetLists","common_DetailWrapper","common_Message","common_DateInput","VoxInput","Song_Audio","Lyrics","Song_ReqSharkInput","common_EditOrCreate","checked","common_Confirm","detailedSongChanged","isDetail","toggleDetail","common_AllSongs","onLine","querySelector","exitBtn","storeSetList","onDeleteSong","position","parseInt","react_beautiful_dnd_esm","onDragEnd","destination","newSetList","list","startIndex","endIndex","from","_result$splice","removed","reorder","index","droppableId","provided","droppableProps","innerRef","i","draggableId","draggableProps","dragHandleProps","toConsumableArray","addBtn","MediaItem","item","alt","gigMediaAdded","mediaObj","newRef","gigMediaDeleted","gigId","mediaId","isAddMedia","toggleAddMedia","setSrc","setMediaId","startDeleteMedia","maxWidth","Media_MediaItem","_state$gigs","gigCreate","gigDelete","gigUpdate","gigDateChanged","gigSetListUpdated","gigSetListChanged","changeLocation","setTab","placeSelf","Gigs_SetList","Gigs_Media","showDetail","gigArray","parentNode","role","aria-label","DelayedGig","Gig","detailedGigChanged","Gigs_GigList","_state$sharks","sharkFavSongsChanged","sharkDateChanged","sharkUpdate","sharkMessageChanged","setName","validated","activeSharks","retiredSharks","retired","SharkDelayUnmount","Shark","detailedSharkChanged","Sharks_SharkList","isPasswordSuccess","isWaiting","SignInForm","handleSubmit","_this$state","handleForget","event","_this$setState","defineProperty","_this$state2","isInvalid","transformStyle","transform","backfaceVisibility","isLoadAnimation","isAuthDisplay","App","endAnimation","onModalClose","renderMain","components_Songs","components_Gigs","components_Sharks","localforage","getItem","hasVisited","setItem","songsFetch","gigsFetch","sharksFetch","songPromise","gigPromise","sharkPromise","Promise","all","onAuthStateChanged","_this$props","loading","components_Loader","components_Header","User_SignInForm","on","store","createStore","reducers","applyMiddleware","ReduxThunk","render","es","components_App","URL","href","origin","fetch","response","contentType","headers","get","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.828709d5.chunk.js","sourcesContent":["const toggleValue = (value, csv) => {\n  // if not found in list\n  if (csv.indexOf(value) === -1) {\n    // if list isn't empty, tack on at end, else return value\n    return !!csv ? `${csv}, ${value}` : value;\n\n    // if is in list and there are multiple items (comma)\n  } else if (csv.indexOf(',') !== -1) {\n    csv = csv.split(', ');\n    csv.splice(csv.indexOf(value), 1);\n    return csv.join(', ');\n  } else {\n    return ''\n  }\n\n}\n\nexport default toggleValue;\n","import {\n  STATUS_FILTER_CHANGED,\n  VOCALS_FILTER_CHANGED,\n  SHARKS_FILTER_CHANGED,\n  SORT_TYPE_CHANGED,\n  FILTER_DISPLAY_CHANGED,\n  COVER_FILTER_CHANGED\n} from '../actions/types';\n\nimport toggleValue from '../utils/toggleValue';\n\nconst INITIAL_STATE = {\n  statusFilter: '',\n  vocalsFilter: '',\n  sharksFilter: '',\n  sortType: '',\n  isFilterDisplay: true,\n  isCoverFilter: false,\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case STATUS_FILTER_CHANGED:\n      const statusFilter = toggleValue(action.payload, state.statusFilter);\n      return { ...state, statusFilter };\n    case VOCALS_FILTER_CHANGED:\n      const vocalsFilter = state.vocalsFilter === action.payload ?\n        '' : action.payload;\n      return { ...state, vocalsFilter };\n    case SHARKS_FILTER_CHANGED:\n      const sharksFilter = toggleValue(action.payload, state.sharksFilter);\n      return { ...state, sharksFilter };\n    case SORT_TYPE_CHANGED:\n      const sortType = state.sortType === action.payload ?\n        '' : action.payload;\n      return { ...state, sortType };\n    case FILTER_DISPLAY_CHANGED:\n      return { ...state, isFilterDisplay: !state.isFilterDisplay };\n    case COVER_FILTER_CHANGED:\n      return { ...state, isCoverFilter: !state.isCoverFilter };\n\n    default:\n      return state;\n  }\n}\n","import {\n  SONGS_FETCH_SUCCESS,\n  DETAILED_SONG_CHANGED,\n  SONG_UPDATE,\n  SONG_CREATE,\n  SONG_DELETE,\n  SONG_ERROR,\n  SONG_DATE_UPDATE,\n  LYRICS_UPDATE,\n  VOX_UPDATE,\n  REQSHARKS_UPDATE,\n  AUDIO_UPDATE,\n} from '../actions/types';\n\nconst findSongById = (songs, id) => {\n  if (typeof id === 'string') {\n    return Object.values(songs).filter(song => song.id === id)[0];\n  } else {\n    return id\n  }\n}\n\nconst  INITIAL_STATE = {\n  songs: {},\n  detailedSong: null,\n  message: null,\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SONGS_FETCH_SUCCESS:\n      return { ...state, songs: action.payload }\n    case DETAILED_SONG_CHANGED:\n      const detailedSong = action.payload ?\n        findSongById(state.songs, action.payload) : null;\n      return { ...state, detailedSong }\n    case SONG_ERROR: {\n      const text = /permission/i.test(action.payload) ?\n        'Please sign in to create, edit, or delete a song' :\n        action.payload;\n      return {\n        ...state,\n        message: action.payload ? { type: 'error', text } : null\n      }\n    }\n    case SONG_CREATE:\n      return {\n        ...state,\n        detailedSong: action.payload,\n        message: { type: 'message', text:'song created' }\n      }\n    case SONG_DELETE:\n      return state;\n    case SONG_UPDATE:\n      return {\n        ...state,\n        message: { type: 'message', text:'song update' }\n      }\n    case SONG_DATE_UPDATE: {\n      const newDetailedSong = { ...state.detailedSong, dob: action.payload }\n      return { ...state, detailedSong: newDetailedSong }\n    }\n    case VOX_UPDATE: {\n      const newDetailedSong = { ...state.detailedSong, vox: action.payload }\n      return { ...state, detailedSong: newDetailedSong }\n    }\n    case LYRICS_UPDATE: {\n      const newDetailedSong = { ...state.detailedSong, lyrics: action.payload }\n      return { ...state, detailedSong: newDetailedSong }\n    }\n    case AUDIO_UPDATE: {\n      const newDetailedSong = { ...state.detailedSong, audio: action.payload }\n      return { ...state, detailedSong: newDetailedSong }\n    }\n    case REQSHARKS_UPDATE: {\n      const newDetailedSong = { ...state.detailedSong, reqSharks: action.payload }\n      return { ...state, detailedSong: newDetailedSong }\n    }\n    default:\n      return state;\n  }\n}\n","import {\n  GIGS_FETCH_SUCCESS,\n  DETAILED_GIG_CHANGED,\n  GIG_UPDATE,\n  GIG_CREATE,\n  GIG_DELETE,\n  GIG_ERROR,\n  GIG_DATE_UPDATE,\n  GIG_SETLIST_UPDATE,\n  GIG_MEDIA_DELETED,\n  GIG_MEDIA_ADDED,\n } from '../actions/types';\n\n const findGigById = (gigs, id) => {\n   if (typeof id === 'string') {\n     return Object.values(gigs).filter(gig => gig.id === id)[0];\n   } else {\n     return id\n   }\n }\n\nconst INITIAL_STATE = {\n  gigs: {},\n  detailedGig: null,\n  message: null,\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case GIGS_FETCH_SUCCESS:\n      return { ...state, gigs: action.payload }\n\n    case DETAILED_GIG_CHANGED:\n      const detailedGig = action.payload.length ?\n        findGigById(state.gigs, action.payload) : action.payload;\n      return { ...state, detailedGig }\n\n    case GIG_ERROR: {\n      const text = /permission/i.test(action.payload) ?\n        'Please sign in to create, edit, or delete a gig' :\n        action.payload;\n      return {\n        ...state,\n        message: action.payload ? { type: 'error', text } : null\n      }\n    }\n    case GIG_DATE_UPDATE: {\n      const newDetailedGig = { ...state.detailedGig, date: action.payload }\n      return { ...state, detailedGig: newDetailedGig }\n    }\n\n    case GIG_SETLIST_UPDATE: {\n      const setList = action.payload.join(',');\n      const newDetailedGig = { ...state.detailedGig, setList }\n      return { ...state, detailedGig: newDetailedGig }\n    }\n\n    case GIG_MEDIA_ADDED: {\n      let media;\n      const { key, payload } = action;\n      if (state.detailedGig.media) {\n        media = {...state.detailedGig.media};\n      } else {\n        media = {};\n      }\n      media[key] = payload;\n\n      const newDetailedGig = { ...state.detailedGig, media }\n      return { ...state, detailedGig: newDetailedGig }\n    }\n\n    case GIG_CREATE:\n      return {\n        ...state,\n        detailedGig: action.payload,\n        message: { type: 'message', text: 'gig created' }\n      }\n\n    case GIG_MEDIA_DELETED: {\n      const media = { ...state.detailedGig.media };\n      delete media[action.payload];\n      const newDetailedGig = { ...state.detailedGig, media }\n      return {\n        ...state,\n        detailedGig: newDetailedGig,\n        message: { type: 'message', text: 'media deleted' }\n      }\n    }\n\n    case GIG_DELETE:\n      return state;\n\n    case GIG_UPDATE:\n      return {\n        ...state,\n        message: { type: 'message', text: 'gig update' }\n      }\n\n    default:\n      return state;\n  }\n}\n","import {\n  SHARKS_FETCH_SUCCESS,\n  DETAILED_SHARK_CHANGED,\n  SHARK_DATE_UPDATE,\n  SHARK_SETLIST_UPDATE,\n  SHARK_ERROR,\n  SHARK_UPDATE,\n} from '../actions/types';\n\nconst INITIAL_STATE = {\n  sharks: {},\n  detailedShark: null,\n  message: null,\n};\n\nconst findSharkById = (sharks, id) => {\n  if (typeof id === 'string') {\n    return Object.values(sharks).filter(shark => shark.id === id)[0];\n  } else {\n    return id\n  }\n}\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SHARKS_FETCH_SUCCESS:\n      return { ...state, sharks: action.payload }\n\n    case DETAILED_SHARK_CHANGED:\n      const detailedShark = action.payload.length ?\n      findSharkById(state.sharks.active, action.payload) : action.payload;\n      return { ...state, detailedShark }\n\n    case SHARK_UPDATE:\n      return {\n        ...state,\n        message: { type: 'message', text: 'updated' }\n      }\n\n    case SHARK_DATE_UPDATE: {\n      const newDetailedShark = { ...state.detailedShark, sharkSince: action.payload }\n      return { ...state, detailedShark: newDetailedShark }\n    }\n\n    case SHARK_ERROR: {\n      const text = /permission/i.test(action.payload) ?\n        'Please sign in to edit your page' :\n        action.payload;\n      return {\n        ...state,\n        message: action.payload ? { type: 'error', text } : null\n      }\n    }\n\n    case SHARK_SETLIST_UPDATE: {\n      const favSongs = action.payload.join(',');\n      const newDetailedShark = { ...state.detailedShark, favSongs }\n      return { ...state, detailedShark: newDetailedShark }\n    }\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\n\nimport FilterReducer from './FilterReducer';\nimport SongsReducer from './SongsReducer';\nimport GigsReducer from './GigsReducer';\nimport SharksReducer from './SharksReducer';\n\nexport default combineReducers({\n  filter: FilterReducer,\n  songs: SongsReducer,\n  gigs: GigsReducer,\n  sharks: SharksReducer,\n});\n","export const STATUS_FILTER_CHANGED = 'status_filter_changed';\nexport const VOCALS_FILTER_CHANGED = 'vocals_filter_changed';\nexport const SHARKS_FILTER_CHANGED = 'sharks_filter_changed';\nexport const SORT_TYPE_CHANGED = 'sort_type_changed';\nexport const COVER_FILTER_CHANGED = 'cover_filter_changed';\nexport const FILTER_DISPLAY_CHANGED = 'filter_display_changed';\n\n\nexport const DETAILED_SONG_CHANGED = 'detailed_song_changed';\nexport const SONG_CREATE = 'song_create';\nexport const SONG_DATE_UPDATE = 'song_date_update';\nexport const SONG_DELETE = 'song_delete';\nexport const SONG_ERROR = 'song_error';\nexport const SONG_UPDATE = 'song_update';\nexport const SONGS_FETCH_SUCCESS = 'songs_fetch_success';\nexport const LYRICS_UPDATE = 'lyrics_update';\nexport const VOX_UPDATE = 'vox_update';\nexport const REQSHARKS_UPDATE = 'reqsharks_update';\nexport const AUDIO_UPDATE = 'audio_update';\n\nexport const DETAILED_GIG_CHANGED = 'detailed_gig_changed';\nexport const GIG_CREATE = 'gig_create';\nexport const GIG_DATE_UPDATE = 'gig_date_update';\nexport const GIG_DELETE = 'gig_delete';\nexport const GIG_ERROR = 'gig_error';\nexport const GIG_MEDIA_DELETED = 'gig_media_deleted';\nexport const GIG_MEDIA_ADDED = 'gig_media_added';\nexport const GIG_SETLIST_UPDATE = 'gig_setlist_update';\nexport const GIG_UPDATE = 'gig_update';\nexport const GIGS_FETCH_SUCCESS = 'gigs_fetch_success';\n\nexport const DETAILED_SHARK_CHANGED = 'detailed_sharks_changed';\nexport const SHARK_DATE_UPDATE = 'shark_date_update';\nexport const SHARK_ERROR = 'shark_error';\nexport const SHARK_SETLIST_UPDATE = 'shark_setlist_update';\nexport const SHARK_UPDATE = 'shark_update';\nexport const SHARKS_FETCH_SUCCESS = 'sharks_fetch_success';\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import app from 'firebase/app';\nimport 'firebase/database';\n\nimport {\n  SONGS_FETCH_SUCCESS,\n  DETAILED_SONG_CHANGED,\n  SONG_UPDATE,\n  SONG_CREATE,\n  SONG_DELETE,\n  SONG_ERROR,\n  SONG_DATE_UPDATE,\n  LYRICS_UPDATE,\n  VOX_UPDATE,\n  REQSHARKS_UPDATE,\n  AUDIO_UPDATE,\n } from './types';\n\nfunction validateName(songs, songName, songId) {\n  songs = Object.entries(songs);\n  // see if any songs share the same name as edited song\n  // (excluding the song iteslf i.e. the name was not edited)\n  return !songs.some(song => {\n    return (song[1].name === songName && song[0] !== songId)\n  })\n}\n\nexport const songsFetch = value => {\n  return dispatch => {\n    app.database().ref('songs').on('value', snapshot => {\n      dispatch({ type: SONGS_FETCH_SUCCESS, payload: snapshot.val() })\n    })\n  }\n}\n\nexport const songUpdate = (songs, song) => {\n  if (!validateName(songs, song.name, song.id)) {\n    return { type: SONG_ERROR, payload: 'Song names must be unique' }\n  }\n  return dispatch => {\n    app.database().ref(`songs/${song.id}`)\n      .update(song)\n      .then(() => {\n        dispatch({ type: SONG_UPDATE, payload: song.id });\n      })\n      .catch(e => {\n        console.log(e);\n        dispatch({ type: SONG_ERROR, payload: e.message });\n      })\n  }\n};\n\nexport const songDelete = id => {\n  return dispatch => {\n    app.database().ref(`songs/${id}`)\n      .remove()\n      .then(() => {\n        dispatch({ type: SONG_DELETE });\n      })\n      .catch(e => {\n        dispatch({ type: SONG_ERROR, payload: e.message })\n      })\n  }\n}\nexport const songCreate = (songs, song) => {\n  if (!validateName(songs, song.name, song.id)) {\n    return { type: SONG_ERROR, payload: 'Song names must be unique' }\n  }\n  return dispatch => {\n    app.database().ref('songs')\n      .push()\n      .then(ref => {\n        song.id = ref.key;\n        app.database().ref(ref)\n          .update(song)\n          .then(() => {\n            dispatch({ type: SONG_CREATE, payload: song });\n         })\n      })\n      .catch(e => {\n        dispatch({ type: SONG_ERROR, payload: e.message });\n      })\n }\n};\nexport const songMessageChanged = value => (\n  { type: SONG_ERROR, payload: value }\n)\nexport const songDateChanged = value => (\n  { type: SONG_DATE_UPDATE, payload: value }\n)\nexport const songLyricsChanged = value => (\n  { type: LYRICS_UPDATE, payload: value }\n)\nexport const songVoxChanged = value => (\n  { type: VOX_UPDATE, payload: value }\n)\nexport const songReqSharksChanged = value => (\n  { type: REQSHARKS_UPDATE, payload: value }\n)\nexport const songAudioChanged = value => (\n  { type: AUDIO_UPDATE, payload: value }\n)\nexport const detailedSongChanged = value => (\n  { type: DETAILED_SONG_CHANGED, payload: value }\n)\n","import app from 'firebase/app';\nimport 'firebase/database';\n\nimport {\n  DETAILED_GIG_CHANGED,\n  GIGS_FETCH_SUCCESS,\n  GIG_UPDATE,\n  GIG_DELETE,\n  GIG_ERROR,\n  GIG_CREATE,\n  GIG_DATE_UPDATE,\n  GIG_SETLIST_UPDATE,\n  GIG_MEDIA_DELETED,\n  GIG_MEDIA_ADDED\n} from './types';\n\nexport const gigsFetch = value => {\n  return dispatch => {\n    app.database().ref('gigs').on('value', snapshot => {\n      dispatch({ type: GIGS_FETCH_SUCCESS, payload: snapshot.val() })\n    })\n  }\n}\n\nexport const gigMediaAdded = (mediaObj, id) => {\n  return dispatch => {\n    const dbRef = app.database().ref(`gigs/${id}/media`);\n    const newRef = dbRef.push(mediaObj)\n    .then(() => {\n      dispatch({ type: GIG_MEDIA_ADDED, key: newRef.key, payload: mediaObj })\n    })\n  }\n}\nexport const gigMediaDeleted = (gigId, mediaId) => {\n  return dispatch => {\n    const dbRef = app.database().ref(`gigs/${gigId}/media/${mediaId}`);\n\n    dbRef.remove()\n      .then(() => {\n        dispatch({ type: GIG_MEDIA_DELETED, payload: mediaId });\n      })\n      .catch(e => {\n        dispatch({ type: GIG_ERROR, payload: 'fuck' })\n      })\n  }\n}\n\nexport const gigDateChanged = value => (\n  { type: GIG_DATE_UPDATE, payload: value }\n)\n\nexport const gigSetListUpdated = value => (\n  { type: GIG_SETLIST_UPDATE, payload: value }\n)\n\nexport const gigUpdate = gig => {\n  return dispatch => {\n    app.database().ref(`gigs/${gig.id}`)\n      .update(gig)\n      .then(() => {\n        dispatch({ type: GIG_UPDATE, payload: gig.id });\n      })\n      .catch(e => {\n        console.log(e);\n        dispatch({ type: GIG_ERROR, payload: e.message });\n      })\n  }\n};\n\nexport const gigDelete = id => {\n  return dispatch => {\n    app.database().ref(`gigs/${id}`)\n      .remove()\n      .then(() => {\n        dispatch({ type: GIG_DELETE });\n      })\n      .catch(e => {\n        console.log(e);\n        dispatch({ type: GIG_ERROR, payload: e.message });\n      })\n  }\n}\nexport const gigCreate = gig => {\n  return dispatch => {\n    app.database().ref('gigs')\n      .push()\n      .then(ref => {\n        gig.id = ref.key;\n        app.database().ref(ref)\n          .update(gig)\n          .then(() => {\n            dispatch({ type: GIG_CREATE, payload: gig });\n         })\n      })\n      .catch(e => {\n        dispatch({ type: GIG_ERROR, payload: e.message });\n      })\n }\n};\nexport const gigMessageChanged = value => (\n  { type: GIG_ERROR, payload: value }\n)\nexport const detailedGigChanged = value => (\n  { type: DETAILED_GIG_CHANGED, payload: value }\n)\n","import app from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\n\nconst config = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n};\n\nclass Firebase {\n  constructor() {\n    app.initializeApp(config);\n    this.auth = app.auth();\n    this.db = app.database();\n  }\n\n  // AUTH API //\n\n  doSignInWithEmailAndPassword = (email, password) =>\n    this.auth.signInWithEmailAndPassword(email, password);\n\n  doSignOut = () => this.auth.signOut();\n\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\n\n  doPasswordUpdate = password =>\n    this.auth.currentUser.updatePassword(password);\n\n  // DB API //\n  getSongs = () => {\n    return this.db.ref('songs').once('value')\n    .then(snapshot => snapshot.val())\n  }\n\n  doCreateSong = song => {\n    const time = new Date().getTime();\n    this.db.ref().update({ songsLastUpdate: time });\n    const ref = this.db.ref().child('songs').push(song);\n    return ref.key;\n  }\n\n  doCreateGig = gig => {\n    const time = new Date().getTime();\n    this.db.ref().update({ gigsLastUpdate: time });\n    const ref = this.db.ref().child('gigs').push(gig);\n    return ref.key\n  }\n\n\n  // USER API //\n\n  user = uid => this.db.ref(`users/${uid}`);\n  users = () => this.db.ref('users');\n}\n\nexport default Firebase;\n","import React from 'react';\n\nconst btnClass = `\n  block mx-4 p-1\n  text-white text-3xl hover:text-pink-300\n`;\nconst activeBtnClass = `\n  block mx-4 p-1\n  text-deeppink text-shadow text-3xl\n`;\n\nconst Nav = ({ onClickNav, tab }) => (\n  <nav className=\"flex justify-between font-metal w-full md:w-auto\">\n    <button\n      onClick={onClickNav}\n      value=\"songs\"\n      className={\n        tab === 'songs' ? activeBtnClass : btnClass\n      }\n    >\n      Songs\n    </button>\n    <button\n      onClick={onClickNav}\n      value=\"gigs\"\n      className={\n        tab === 'gigs' ? activeBtnClass : btnClass\n      }\n    >\n      Gigs\n    </button>\n    <button\n      onClick={onClickNav}\n      value=\"sharks\"\n      className={\n        tab === 'sharks' ? activeBtnClass : btnClass\n      }\n    >\n      Sharks\n    </button>\n  </nav>\n);\n\nexport default Nav;\n","import React from 'react';\n\nconst className = `\n  fixed bottom-0 right-0 mb-12 mr-5\n  h-16 w-16 rounded-full shadow-slategray p-1 bg-tan border border-black leading-none\n  md:static md:m-1 md:bg-white md:h-12 md:w-12 md:text-sm md:shadow-none\n  z-10\n`;\n\nconst SignInButton = ({ onShowSignIn }) => (\n  <button\n    type=\"button\"\n    onClick={onShowSignIn}\n    className={className}\n  >\n    Sign In\n  </button>\n);\n\nconst SignOutButton = ({ firebase }) => (\n  <button\n    type=\"button\"\n    className={className}\n    onClick={firebase.doSignOut}\n  >\n    Sign Out\n  </button>\n);\n\nconst SignInOrOutButton = ({ authUser, firebase, onShowSignIn }) => {\n  if (authUser) {\n    return (\n      <SignOutButton\n        firebase={firebase}\n      />\n    );\n  } else {\n    return (\n      <SignInButton\n        onShowSignIn={onShowSignIn}\n      />\n    );\n  }\n};\n\nexport default SignInOrOutButton;\n","import React from 'react';\n\nimport Nav from './Nav';\nimport SignInOrOutButton from '../User/SignInOrOutButton';\n\nconst Header = ({ onClickNav, tab, firebase, onShowSignIn, authUser }) => (\n  <header className=\"z-10 w-full px-5 py-1 bg-darkgray flex justify-between items-center shadow-slategray relative\">\n    <h1 className=\"hidden md:block p-i text-4xl text-deeppink font-metal tracking-widest text-shadow\">\n      Sharkapp\n    </h1>\n    <Nav\n      onClickNav={onClickNav}\n      tab={tab}\n    />\n    <SignInOrOutButton\n      firebase={firebase}\n      onShowSignIn={onShowSignIn}\n      authUser={authUser}\n    />\n  </header>\n)\n\nexport default Header;\n","import React from 'react';\n\nconst mainClassName = `\n  relative top-0 right-0\n  h-screen\n  flex flex-col justify-center\n  bg-tan\n  border-double border-black border-10\n  font-metal text-center\n  z-100\n  animation-shake\n`;\n\nconst Loader = () => {\n  return (\n    <main className={mainClassName}>\n      <h1 className=\"text-6xl leading-none text-shadow-white-red animation-rushShake\">\n        Barnyard Sharks\n      </h1>\n      <p className=\"mt-0 animation-fadeIn animation-delay-md text-3xl\">\n        Are Coming For You<span className=\"animation-blink\">...</span>\n      </p>\n    </main>\n  )\n}\n\nexport default Loader;\n","export const main = {\n  outer: 'h-mainWrapper flex bg-tan shadow-inset',\n  inner: 'relative w-full md:w-1/2',\n}\nexport const mainList = {\n  btn: `\n    w-full mb-1 p-1\n    bg-offwhite shadow-spread\n    border border-gray border-b-3\n    leading-tight text-left text-xl\n    hover:bg-deeppink hover:text-white hover:border-transparent\n  `,\n  wrapper: 'p-3 overflow-y-scroll h-full lastItem-mb'\n}\nexport const floatingBtn = {\n  topSmall: `\n    absolute top-0 right-0 mt-2 mr-2\n    h-12 w-12 p-1\n    text-sm leading-none\n    bg-tan shadow-slategray\n    border border-black rounded-full\n  `,\n  topLarge: `\n    absolute top-0 right-0 mt-2 mr-2\n    h-16 w-16 p-1\n    leading-none\n    bg-tan shadow-slategray\n    border border-black rounded-full\n  `,\n}\nexport const modalInner = `\n  h-10/12 w-10/12\n  bg-white shadow-inset\n  p-4 text-lg\n  flex flex-col\n`;\n\nexport const toggleBtn = {\n  inactive: `\n    relative p-3\n    border border-black rounded-10\n    btn-toggle\n  `,\n  active: ' shadow-sm bg-deeppink text-white'\n}\n\nexport const heading = {\n  futura: `\n    font-futura text-center text-2xl underline font-bold\n  `\n}\n\nexport const futuraHeading = 'font-futura text-center font-bold';\n\nexport const input = {\n  label: `border border-black shadow-card p-2 text-sm`,\n  input: `block text-lg w-full`\n}\n\nexport const btn = {\n  empty: ``,\n  full: ``\n}\n\nexport const submitBtn = `\n  block p-2 text-xl\n  border-4 border-double border-black rounded-lg\n  disabled:border-gray-500 disabled:text-gray-500\n  songSubmit\n`\n\nexport const setList = ``\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { statusFilterChanged } from '../../../../actions';\n\nimport {\n  toggleBtn,\n  futuraHeading,\n} from '../../../../classLists';\n\nconst styles = {\n  wrapper: 'flex flex-wrap justify-center -mx-2 md:mx-0 md:flex',\n  btn: toggleBtn.inactive + ' m-1 flex-grow',\n  active: toggleBtn.active,\n  heading: futuraHeading + ' hidden md:block w-full -mb-1 text-lg',\n}\n\nconst StatusBtns = ({ filterView, statusFilter, statusFilterChanged }) => {\n  const statuses = ['solid', 'shakey', 'inactive', 'retired', 'idea'];\n  return (\n  <div className={filterView === 'status' ?\n      styles.wrapper : styles.wrapper + ' hidden'}>\n    <h4 className={styles.heading}>\n      STATUS FILTER\n    </h4>\n    {statuses.map(status => (\n      <button\n        type=\"button\"\n        key={status}\n        onClick={e => statusFilterChanged(e.target.value)}\n        className={statusFilter.indexOf(status) !== -1 ?\n          styles.btn + styles.active : styles.btn}\n        value={status}\n      >\n        {status}\n      </button>\n    ))}\n  </div>\n)};\n\nconst mapStateToProps = (state) => {\n  const { statusFilter } = state.filter;\n  return { statusFilter };\n};\n\n\nexport default connect(mapStateToProps, { statusFilterChanged })(StatusBtns);\n","import {\n  STATUS_FILTER_CHANGED,\n  VOCALS_FILTER_CHANGED,\n  SHARKS_FILTER_CHANGED,\n  SORT_TYPE_CHANGED,\n  FILTER_DISPLAY_CHANGED,\n  COVER_FILTER_CHANGED\n } from './types';\n\nexport const statusFilterChanged = value => (\n  { type: STATUS_FILTER_CHANGED, payload: value }\n)\nexport const vocalsFilterChanged = value => (\n  { type: VOCALS_FILTER_CHANGED, payload: value }\n)\nexport const sharksFilterChanged = value => (\n  { type: SHARKS_FILTER_CHANGED, payload: value }\n)\nexport const sortTypeChanged = value => (\n  { type: SORT_TYPE_CHANGED, payload: value }\n)\nexport const filterDisplayChanged = value => (\n  { type: FILTER_DISPLAY_CHANGED, payload: value }\n)\nexport const coverFilterChanged = value => (\n  { type: COVER_FILTER_CHANGED, payload: value }\n)\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { vocalsFilterChanged } from '../../../../actions';\nimport {\n  toggleBtn,\n  futuraHeading,\n} from '../../../../classLists';\n\nconst styles = {\n  wrapper: 'flex flex-wrap justify-center -mx-2 md:mx-0 md:flex',\n  btn: toggleBtn.inactive + ' m-1 flex-grow',\n  active: toggleBtn.active,\n  heading: futuraHeading + ' hidden md:block w-full -mb-1 text-lg',\n}\n\nconst VocalBtns = ({ sharks, filterView, vocalsFilter, vocalsFilterChanged }) => {\n\n  const getName = uid => {\n    if (sharks.active) {\n      return sharks.active[uid].name;\n    }\n  }\n  const sharkIds = ['05x2qzOXABfcDkMGTClzDZxzBBt2', 'r6hSiQpBaNfqiPgKatywDJCDRL13', 'fUek7qwanvg3Sp8BJlp0NLswllO2'];\n  return (\n    <div className={filterView === 'vocals' ?\n        styles.wrapper : styles.wrapper + ' hidden'}>\n      <h4 className={styles.heading}>VOCALIST FILTER</h4>\n      {sharkIds.map(id => (\n        <button\n          type=\"button\"\n          key={id}\n          onClick={e => vocalsFilterChanged(e.target.value)}\n          value={id}\n          className={vocalsFilter === id ?\n              styles.btn + styles.active : styles.btn}\n        >\n          {getName(id)}\n        </button>\n      ))}\n      <button\n        type=\"button\"\n        onClick={e => vocalsFilterChanged(e.target.value)}\n        value=\"gang\"\n        className={vocalsFilter === \"gang\" ?\n          styles.btn + styles.active : styles.btn}\n      >\n        Gang\n      </button>\n      <button\n        type=\"button\"\n        onClick={e => vocalsFilterChanged(e.target.value)}\n        value=\"instrumental\"\n        className={vocalsFilter === \"instrumental\" ?\n          styles.btn + styles.active : styles.btn}\n      >\n        Instrumental\n      </button>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const { vocalsFilter } = state.filter;\n  const { sharks } = state.sharks;\n  return { vocalsFilter, sharks };\n};\n\nexport default connect(mapStateToProps, { vocalsFilterChanged })(VocalBtns);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { toggleBtn } from '../../classLists';\n\nconst styles = {\n  btn: toggleBtn.inactive + ' m-1 flex-grow',\n  active: toggleBtn.active,\n};\n\nconst SharkSelect = ({ sharks, checkedCondition, handleChange, children }) => {\n  const sharkArray = Object.entries(sharks.active);\n  const btns = sharkArray.map(shark => (\n      <button\n        type=\"button\"\n        onClick={handleChange}\n        className={checkedCondition.indexOf(shark[0]) !== -1 ?\n          styles.btn + styles.active : styles.btn}\n        value={shark[0]}\n        key={shark[0]}\n      >\n        {shark[1].name}\n      </button>\n    )\n  );\n  if (children) {\n    btns.push(children);\n  }\n\n  return btns;\n}\n\n\nconst mapStateToProps = (state) => {\n  const { sharks } = state.sharks;\n  return { sharks };\n};\n\nexport default connect(mapStateToProps)(SharkSelect);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { sharksFilterChanged } from '../../../../actions';\nimport SharkSelect from '../../SharkSelect';\n\nimport { futuraHeading } from '../../../../classLists';\n\nconst styles = {\n  wrapper: 'flex flex-wrap justify-center -mx-2 md:mx-0 md:flex',\n  heading: futuraHeading + ' w-full -mb-1 text-lg',\n}\n\nconst SharkBtns = ({ filterView, sharksFilter, sharksFilterChanged }) => (\n  <div className={filterView === 'sharks' ?\n      styles.wrapper : styles.wrapper + ' hidden'}>\n    <h4 className={styles.heading}>\n      WHO IS <em>NOT</em> HERE?\n    </h4>\n    <SharkSelect\n      handleChange={e => sharksFilterChanged(e.target.value)}\n      checkedCondition={sharksFilter}\n    />\n  </div>\n);\n\nconst mapStateToProps = (state) => {\n  const { sharksFilter } = state.filter;\n  const { sharks } = state.sharks;\n  return { sharksFilter, sharks };\n};\n\n\nexport default connect(mapStateToProps, { sharksFilterChanged })(SharkBtns);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport StatusBtns from './StatusBtns';\nimport VocalBtns from './VocalBtns';\nimport SharkBtns from './SharkBtns';\n\nimport { filterDisplayChanged, coverFilterChanged, sortTypeChanged } from '../../../../actions';\nimport {\n  toggleBtn,\n  futuraHeading,\n} from '../../../../classLists';\nconst styles = {\n  hideBtn: toggleBtn.inactive + ' w-full mx-auto my-1',\n  sortBtn: toggleBtn.inactive + ' flex-grow w-full mx-auto my-1 md:w-auto md:mx-1',\n  active: toggleBtn.active,\n\n  heading: futuraHeading + ' underline text-xl',\n  wrapper: `\n    max-420 fixed bottom-0 w-11/12 ml-1/2 translate-1/2 flex p-4\n    bg-white shadow-xl z-10 transition-md\n    md:overflow-y-scroll md:static md:m-0 md:transform-none md:h-full md:w-1/2\n    md:flex-col md:justify-around md:z-inherit\n  `,\n  sortWrapper: `\n    flex flex-col justify-between\n    w-1/3 pl-3 min-h-0\n    border-l-2 border-gray-700\n    md:w-full md:border-none md:pl-0 md:flex-row\n  `,\n  closeBtn: `\n    absolute top-0 left-0\n    ml-half -mt-4 px-2 pt-1\n    border border-black rounded-lg\n    text-xl leading-none bg-white\n    md:hidden\n  `,\n}\n\nconst Filter = ({\n  vocalsFilter,\n  sharksFilter,\n  statusFilter,\n  sortType,\n  isCoverFilter,\n  isFilterDisplay,\n\n  coverFilterChanged,\n  filterDisplayChanged,\n  sortTypeChanged,\n\n  sharks,\n}) => {\n  const [filterView, setFilterView] = useState('status');\n\n  const flipState = e => {\n    setFilterView(e.target.value)\n  }\n\n  const navBtnClassName = (name, filter) => {\n    const classes = 'mx-1 px-1 py-2 font-futura uppercase border-black border-2';\n    if (filterView === name) {\n      return classes + styles.active;\n    } else if (filter) {\n      return classes + ' bg-pink';\n    } else return classes;\n  }\n\n  return (\n    <div className={isFilterDisplay ?\n        styles.wrapper : styles.wrapper + ' hideFilter'}>\n      <div className=\"w-2/3 pr-4 md:w-full md:pr-0\">\n        <h3 className={styles.heading + ' md:hidden'}>FILTER</h3>\n        <nav id=\"nav-filter\" className=\"py-2 md:hidden flex justify-center\">\n          <button\n            type=\"button\"\n            id=\"status\"\n            onClick={flipState}\n            className={navBtnClassName('status', statusFilter)}\n            value=\"status\"\n          >\n            STATUS\n          </button>\n          <button\n            type=\"button\"\n            id=\"vocals\"\n            onClick={flipState}\n            className={navBtnClassName('vocals', vocalsFilter)}\n            value=\"vocals\"\n          >\n            VOX\n          </button>\n          <button\n            type=\"button\"\n            id=\"covers\"\n            onClick={flipState}\n            className={navBtnClassName('sharks', sharksFilter)}\n            value=\"sharks\"\n          >\n            SHARKS\n          </button>\n        </nav>\n\n        <StatusBtns filterView={filterView} />\n        <VocalBtns filterView={filterView} />\n        <SharkBtns filterView={filterView} />\n\n      </div>\n      <div className={styles.sortWrapper}>\n        <div className=\"md:w-1/2 md:pr-1 md:flex md:flex-wrap\">\n          <h3 className={styles.heading + ' w-full'}>SORT</h3>\n          <button\n            type=\"button\"\n            onClick={() => sortTypeChanged('newest')}\n            className={sortType === 'newest' ?\n              styles.sortBtn + styles.active : styles.sortBtn}\n          >\n            New\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => sortTypeChanged('oldest')}\n            className={sortType === \"oldest\" ?\n              styles.sortBtn + styles.active : styles.sortBtn}\n          >\n            Old\n          </button>\n        </div>\n        <div className=\"md:w-1/2 md:pl-1\">\n          <h3 className={styles.heading}>HIDE</h3>\n          <button\n            id=\"covers\"\n            onClick={() => coverFilterChanged()}\n            className={isCoverFilter ? styles.hideBtn : styles.hideBtn + styles.active}\n            type=\"button\"\n          >\n            Covers\n          </button>\n        </div>\n      </div>\n\n      <button\n        type=\"button\"\n        onClick={() => filterDisplayChanged()}\n        className={isFilterDisplay ? styles.closeBtn : styles.closeBtn + ' flipRotate'}\n      >\n        ^\n      </button>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  const {\n    vocalsFilter,\n    sharksFilter,\n    statusFilter,\n    sortType,\n    isCoverFilter,\n    isFilterDisplay,\n  } = state.filter;\n  return {\n    vocalsFilter,\n    sharksFilter,\n    statusFilter,\n    sortType,\n    isCoverFilter,\n    isFilterDisplay,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  coverFilterChanged,\n  filterDisplayChanged,\n  sortTypeChanged,\n})(Filter);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  mainList as styles,\n} from '../../../classLists';\n\n\n\nconst AllSongList = ({\n  songs,\n  sortType,\n  isCoverFilter,\n  statusFilter,\n  vocalsFilter,\n  sharksFilter,\n  setList,\n  onClick,\n}) => {\n\n  const filterSongs = songs => {\n    let filteredSongs = Object.values(songs);\n\n    // no covers is default\n    if (!isCoverFilter) {\n      filteredSongs = filteredSongs.filter(song => song.isCover === undefined || song.isCover === false);\n    }\n    // duplicates in setLists aren't allowed\n    if (setList) {\n      filteredSongs = filteredSongs.filter(song => setList.indexOf(song.id) === -1 );\n    }\n    if (statusFilter) {\n      filteredSongs = filteredSongs.filter(song => statusFilter.indexOf(song.status) !== -1);\n    }\n    if (sharksFilter) {\n      // to do: improve this\n      const sharksFilterArray = sharksFilter.split(', ');\n      filteredSongs = filteredSongs.filter(song => {\n        let isKeeper = true;\n        // for each shark who isn't here\n          // we see if the song requires them to be here\n        sharksFilterArray.forEach(shark => {\n          const test = new RegExp(shark);\n          if (test.test(song.reqSharks)) {\n            isKeeper = false;\n          }\n        });\n        return isKeeper;\n      });\n    }\n    if (vocalsFilter) {\n      filteredSongs = filteredSongs.filter(song => song.vox.indexOf(vocalsFilter) !== -1);\n    }\n    if (sortType) {\n      if (sortType === 'newest') {\n        filteredSongs = filteredSongs.sort((a, b) => b.dob - a.dob);\n      } else if (sortType === 'oldest') {\n        filteredSongs = filteredSongs.sort((a, b) => a.dob - b.dob);\n      }\n    } else {\n      filteredSongs = filteredSongs.sort((a, b) => {\n        if (a.name.toUpperCase() > b.name.toUpperCase()) {\n          return 1;\n        } else {\n          return -1;\n        }\n      });\n    }\n    return filteredSongs;\n  }\n  const filteredSongs = filterSongs(songs);\n  return (\n    <ul className={styles.wrapper}>\n      {filteredSongs.map(song => (\n        <li key={song.name}>\n          <button\n            type=\"button\"\n            onClick={onClick}\n            value={song.id}\n            className={styles.btn}\n          >\n            {song.name}\n          </button>\n        </li>\n      ))}\n    </ul>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  const {\n    vocalsFilter,\n    sharksFilter,\n    statusFilter,\n    sortType,\n    isCoverFilter,\n  } = state.filter;\n  const { songs } = state.songs;\n  return {\n    vocalsFilter,\n    sharksFilter,\n    statusFilter,\n    sortType,\n    isCoverFilter,\n    songs,\n  };\n};\n\nexport default connect(mapStateToProps)(AllSongList);\n","import React from 'react';\n\nimport Filter from './Filter';\nimport AllSongList from './AllSongList';\n\nconst AllSongs = ({ className, setList, onClick, children }) => (\n  <>\n    <div className={className || 'relative w-full md:w-1/2'}>\n      <AllSongList\n        setList={setList}\n        onClick={onClick}\n      />\n      {children}\n    </div>\n    <Filter />\n  </>\n);\n\nexport default AllSongs;\n","import React from 'react';\n\nconst styles = {\n  btn: `\n    block w-2/3 mx-auto mb-4 p-2 text-xl\n    border-4 border-double border-black rounded-lg\n    disabled:border-gray-500 disabled:text-gray-500\n  `\n}\n\nconst Confirm = ({\n  onYes,\n  onNo,\n  message,\n  isDisabled,\n}) => (\n  <>\n    <h2 className=\"text-center font-bold text-2xl\">\n      {message}\n    </h2>\n    <button\n      id=\"proceed\"\n      onClick={onYes}\n      className={styles.btn}\n      disabled={isDisabled}\n    >\n      Proceed\n    </button>\n    <button\n      id=\"cancelBtn\"\n      onClick={onNo}\n      className={styles.btn}\n      disabled={isDisabled}\n    >\n      Cancel\n    </button>\n  </>\n);\n\nexport default Confirm;\n","export const processDate = date => {\n  if (date === '') {\n    return ''\n  } else if (typeof date === 'string') {\n    return new Date(date).getTime();\n  } else if (typeof date === 'number') {\n    const dateObj = new Date(date);\n    let month = dateObj.getMonth() + 1;\n    month = (month.toString().length === 1) ? '0' + month : month;\n    const year = dateObj.getFullYear();\n    let day = dateObj.getDate();\n    day = (day.toString().length === 1) ? '0' + day : day;\n    return `${month}/${day}/${year}`;\n  }\n};\n\nexport const validateDate = date => {\n  return /^[0-1][0-9]\\/[0-3][0-9]\\/[1-2][0-9][0-9][0-9]$/.test(date);\n}\n\n// export const onDateChange = value => {\n//   if (validateDate(value)) {\n//     return processDate(value);\n//   } else {\n//     return value;\n//   }\n// };\n","import { processDate, validateDate } from './date';\nimport toggleValue from './toggleValue';\n\nconst getNameById = (id, objTree) => {\n  const objEntries = Object.entries(objTree);\n  const obj = objEntries.filter(obj => obj[0] === id)[0];\n  const name = obj[1].name;\n\n  return name;\n}\n\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result;\n};\n\nexport {\n  reorder,\n  processDate,\n  validateDate,\n  toggleValue,\n  getNameById\n}\n","import React, { useState } from 'react';\nimport { processDate, validateDate } from '../../utils';\n\nimport { input as styles } from '../../classLists';\n\nconst DateInput = ({ date, name, labelText, storeDate }) => {\n  const [localDate, setLocalDate] = useState(null);\n\n  const onDateChange = value => {\n    if (validateDate(value)) {\n      // set to null so props value shows\n      // or maybe i don't need this since component should rerender\n        // reseting useState to initial state of null?\n      setLocalDate(null);\n      storeDate(processDate(value));\n    } else {\n      setLocalDate(value);\n    }\n  }\n\n  return (\n    <label className={styles.label} style={{ gridArea: name }}>\n      {labelText}\n      <input\n        name={name}\n        onChange={e => onDateChange(e.target.value)}\n        value={localDate || processDate(date)}\n        className={styles.input}\n        placeholder=\"mm/dd/yyyy\"\n      />\n    </label>\n  )\n}\n\nexport default DateInput\n","import React from 'react';\n\nfunction delayUnmounting(Component) {\n  return class extends React.Component {\n    state = {\n      shouldRender: this.props.isMounted,\n      isUnmounting: false\n    };\n\n    componentDidUpdate(prevProps) {\n      if (prevProps.isMounted && !this.props.isMounted) {\n        this.setState({ isUnmounting: true });\n        setTimeout(\n          () => this.setState({ shouldRender: false }),\n          this.props.delayTime\n        );\n      } else if (!prevProps.isMounted && this.props.isMounted) {\n        this.setState({ shouldRender: true, isUnmounting: false });\n      }\n    }\n\n    render() {\n      return this.state.shouldRender ?\n        <Component isUnmounting={this.state.isUnmounting} {...this.props} />\n        : null;\n    }\n  };\n}\n\nexport default delayUnmounting;\n","import React from 'react';\n\nconst styles = {\n  outer: `\n    fixed top-0 left-0\n    h-mainWrapper-full w-full\n    z-10 mt-16\n    bg-black-opaque\n  `,\n  inner: `\n    absolute top-0 right-0 w-11/12 md:w-10/12 h-full max-w-666\n    bg-white shadow-card animation-slideIn transition-md\n  `,\n  btnClose: `\n    absolute bottom-0 left-0 mb-y-center -ml-6\n    border border-black rounded-sm\n    shadow-card p-2 bg-white leading-none\n  `,\n}\nconst DetailWrapper = ({\n  handleExit,\n  children,\n  isUnmounting,\n  classNames\n}) => {\n  const innerClassName = isUnmounting ?\n  `${classNames} ${styles.inner} slideOut`\n  : `${classNames} ${styles.inner}`;\n  const outerClassName = isUnmounting ? styles.outer + \" fadeOut\" : styles.outer;\n  return (\n    <div id=\"halfModalBG\" className={outerClassName} onClick={handleExit}>\n      <div className={innerClassName}>\n        {children}\n        <button\n          id=\"detailExit\"\n          type=\"button\"\n          onClick={handleExit}\n          className={styles.btnClose}\n        >\n          >\n        </button>\n      </div>\n    </div>\n  )\n}\nexport default DetailWrapper;\n","import React from 'react';\n\nconst EditOrCreate = ({\n  isEdit,\n\n  className,\n  title,\n\n  handleCreate,\n  handleEdit,\n\n  createValidation,\n  editValidation,\n}) => {\n  const onClick = isEdit ? handleEdit : handleCreate;\n\n  return (\n    <button\n      className={className}\n      onClick={onClick}\n      disabled={isEdit ? !editValidation : !createValidation}\n      style={{ gridArea: 'submit' }}\n    >\n      {isEdit ? 'save edits' : 'create'}\n    </button>\n  )\n}\n\nexport default EditOrCreate;\n","import React, { useState } from 'react';\n\nconst Message = ({ text, type, dismiss }) => {\n  const [isUnloading, unload] = useState(false)\n  let styles = `\n    max-420 fixed top-0 left-0 w-11/12\n    mt-2 ml-1/2 translate-1/2 z-100\n    p-4 bg-pink shadow-xl font-bold text-center text-lg\n    border-4 border-currentColor rounded-10\n    animation-fadeIn\n  `;\n\n  if (type === 'error') styles += ' text-red';\n\n  const fadeOut = () => {\n    unload(true);\n    setTimeout(dismiss, 300)\n  }\n\n  var to = setTimeout(fadeOut, 7000);\n\n  const onDismiss = () => {\n    clearTimeout(to)\n    fadeOut();\n  }\n  return (\n    <div\n      className={isUnloading ? styles += ' fadeOut' : styles}\n      onClick={onDismiss}\n    >\n      {text}\n    </div>\n  )\n}\n\nexport default Message;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst styles = {\n  modalInner: `\n    w-10/12 h-10/12\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  `,\n  modalBG: `\n    fixed top-0 left-0\n    w-full h-screen z-100\n    bg-black-opaque\n    flex items-center justify-center\n  `,\n}\n\nconst modalRoot = document.getElementById('modal');\n\nclass Modal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.el = document.createElement('div');\n    this.el.classList = props.innerStyles || styles.modalInner\n  }\n\n  componentDidMount() {\n    // The portal element is inserted in the DOM tree after\n    // the Modal's children are mounted, meaning that children\n    // will be mounted on a detached DOM node. If a child\n    // component requires to be attached to the DOM tree\n    // immediately when mounted, for example to measure a\n    // DOM node, or uses 'autoFocus' in a descendant, add\n    // state to Modal and only render the children when Modal\n    // is inserted in the DOM tree.\n    modalRoot.appendChild(this.el);\n\n    modalRoot.addEventListener('click', this.handleExit);\n    modalRoot.classList = styles.modalBG;\n  }\n\n  componentWillUnmount() {\n    modalRoot.removeChild(this.el);\n    modalRoot.removeEventListener('click', this.handleExit);\n    modalRoot.classList = '';\n  }\n\n  handleExit = e => {\n    if (e.target.id === 'modal') this.props.exit();\n  }\n\n  render() {\n    return ReactDOM.createPortal(\n      this.props.children,\n      this.el,\n    );\n  }\n}\n\nexport default Modal;\n","import React, { useState } from 'react';\nimport { Modal } from '../../common';\n\nconst styles = {\n  btnOuter: 'relative text-left text-sm border border-black rounded-lg shadow-card p-2',\n  btnText: 'absolute top-0 left-0 ml-2 mt-2 text-lg text-left leading-none',\n  modalInner: `\n    h-full\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  `,\n  textArea: `\n    block w-full h-11/12 mt-2 p-4\n    border border-black font-monospace text-lg\n  `,\n}\n\nconst LyricInput = ({ lyrics, storeLyrics }) => {\n  // opens modal if true\n  const [isEdit, toggleEdit] = useState(false);\n  const [newLyrics, inputLyrics] = useState('');\n\n  const handleExit = () => {\n    if (newLyrics) {\n      storeLyrics(newLyrics)\n    }\n    inputLyrics('');\n    toggleEdit(!isEdit);\n  }\n\n  return (\n    <>\n      <button\n        style={{ gridArea: 'lyrics' }}\n        className={lyrics ? styles.btnOuter + ' bg-pink' : styles.btnOuter}\n        onClick={() => toggleEdit(!isEdit)}\n      >\n        <span className={styles.btnText}>\n          Lyrics / <br/>Chords\n        </span>\n      </button>\n      {isEdit &&\n        <Modal innerStyles=\"w-10/12 h-10/12\" exit={handleExit}>\n          <label className={styles.modalInner}>\n            lyrics / chords\n            <textarea\n              name=\"lyrics\"\n              className={styles.textArea}\n              onChange={e => inputLyrics(e.target.value)}\n              value={newLyrics || lyrics}\n            >\n            </textarea>\n          </label>\n        </Modal>\n      }\n    </>\n  )\n}\n\nexport default LyricInput\n","import React, { useState } from 'react';\nimport { Modal, SharkSelect } from '../../common';\n\nimport { toggleValue, getNameById } from '../../../utils';\n\nconst styles = {\n  btnOuter: 'relative text-left text-sm border border-black rounded-lg shadow-card p-2',\n  btnText: 'absolute top-0 left-0 ml-2 mt-2 text-lg text-left leading-none',\n  btnLabel: 'absolute top-0 left-0 mt-2 ml-2',\n  btnValue: 'block text-xl mt-3 -mb-1',\n  modalInner: `\n    w-10/12 h-10/12\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  `,\n  btnToggle: `\n    relative m-1 p-3\n    border border-black rounded-10\n    btn-toggle\n  `\n}\n\nconst LyricInput = ({ vox, storeVox, sharks }) => {\n  const [isEdit, toggleEdit] = useState(false);\n  const [newVox, inputVox] = useState('');\n\n  const handleExit = () => {\n    if (newVox) {\n      storeVox(newVox)\n    }\n    inputVox('');\n    toggleEdit(!isEdit);\n  }\n\n  const handleVoxChange = e => {\n    const localVox = !newVox ? vox : newVox;\n\n    let result;\n    // instrumental is special because it can't be combined\n    if (e.target.value === 'instrumental') {\n      result = localVox === 'instrumental' ? '' : 'instrumental';\n    } else if (localVox === 'instrumental') {\n      result = e.target.value;\n    } else {\n      result = toggleValue(e.target.value, localVox);\n    }\n    inputVox(result);\n  }\n\n  const processVox = () => {\n    if (vox === '') {\n      return ''\n    }\n    const inputArray = vox.split(', ');\n    const outputArray = inputArray.map(vox => {\n      if (vox !== 'instrumental' && vox !== 'gang') {\n        return getNameById(vox, sharks.active);\n      } else {\n        return vox\n      }\n    })\n    return outputArray.join(', ');\n  }\n\n  return (\n    <>\n      <button\n        style={{ gridArea: 'vocals' }}\n        className={styles.btnOuter}\n        onClick={() => toggleEdit(!isEdit)}\n      >\n        <span className={styles.btnLabel}>vocalist</span>\n        <span className={styles.btnValue}>{processVox()}</span>\n      </button>\n      {isEdit &&\n        <Modal innerStyles={styles.modalInner} exit={handleExit}>\n          <SharkSelect\n            checkedCondition={newVox || vox}\n            handleChange={handleVoxChange}\n          >\n            <>\n              <button\n                type=\"button\"\n                onClick={handleVoxChange}\n                className={\n                  /gang/.test(newVox || vox) ?\n                  styles.btnToggle + \" bg-deeppink text-white shadow-sm\" :\n                  styles.btnToggle\n                }\n                value=\"gang\"\n                key=\"gang\"\n              >\n                Gang\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleVoxChange}\n                className={\n                  /instrumental/.test(newVox || vox) ?\n                  styles.btnToggle + \" bg-deeppink text-white shadow-sm\" :\n                  styles.btnToggle\n                }\n                value=\"instrumental\"\n                key=\"instrumental\"\n              >\n                Instrumental\n              </button>\n            </>\n          </SharkSelect>\n        </Modal>\n      }\n    </>\n  )\n}\n\nexport default LyricInput\n","import React, { useState } from 'react';\nimport { Modal } from '../../common';\n\nimport {\n  input,\n  submitBtn,\n  modalInner,\n} from '../../../classLists';\n\nconst styles = {\n  audio: input.label,\n  inputLG: input.input,\n  iframe: input.label + ' relative w-full h-80px',\n  modalInner,\n  submitBtn,\n  embedBtn: `\n    absolute top-0 right-0 mt-2 mr-2 h-10/12\n    rounded-10 px-2 btn-toggle border border-currentColor\n    leading-tight\n  `\n}\n\nconst Audio = ({ audioObj, name, storeAudio }) => {\n  // opens modal if true\n  const [isEdit, toggleEdit] = useState(false);\n  const [newAudio, setNewAudio] = useState('');\n  const [error, setError] = useState('');\n\n  const processAudioEmbed = e => {\n    e.preventDefault();\n    // blank input 'deletes' current embed\n    if (!newAudio) {\n      storeAudio(null);\n      handleExit();\n    }\n\n    const reSoundCloud = /soundcloud/i;\n    const reBandCamp = /bandcamp/i;\n    let host;\n    if (reBandCamp.test(newAudio)) {\n      host = 'bandcamp';\n    } else if (reSoundCloud.test(newAudio)) {\n      host = 'soundcloud';\n    } else {\n      setError('invalid embed');\n      return false;\n    }\n    // looks for the word track(s) followed by \"=\" or \"/\"\n    // then records the numbers\n    const reTrackID = /tracks?[=/](\\d+)/;\n    const trackID = reTrackID.exec(newAudio)[1];\n\n    storeAudio({ host, trackID });\n    handleExit();\n  }\n  const onAudioChange = e => {\n    setError('');\n    setNewAudio(e.target.value)\n  }\n\n  const handleExit = () => {\n    setError('');\n    setNewAudio('');\n    toggleEdit(false);\n  }\n\n  const renderAudio = () => {\n    if (audioObj && audioObj.host) {\n      if (audioObj.host === 'soundcloud') {\n        const source = `https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/${audioObj.trackID}&color=%23ff5500&auto_play=false&hide_related=false&show_comments=false&show_user=false&show_reposts=false&show_teaser=false`\n        return <iframe className=\"w-10/12 h-full\" title=\"soundcloud\" src={source}></iframe>\n      } else {\n        const source = `https://bandcamp.com/EmbeddedPlayer/size=small/bgcol=ffffff/linkcol=0687f5/track=${audioObj.trackID}/transparent=true/`;\n        return <iframe className=\"w-10/12 h-full\" title=\"bandcamp\" src={source}><p>{name}</p></iframe>\n      }\n    } else {\n      return\n    }\n  }\n\n  return (\n    <>\n      <div className={styles.iframe} style={{ gridArea: 'audio' }}>\n        {renderAudio()}\n        <button\n          type=\"button\"\n          className={styles.embedBtn}\n          onClick={() => toggleEdit(!isEdit)}\n        >\n          add <br /> embed\n        </button>\n      </div>\n      {isEdit &&\n        <Modal\n          innerStyles=\"w-10/12 h-10/12 bg-white px-5 p-2\"\n          exit={handleExit}\n        >\n          <h2 className=\"text-center font-futura text-2xl\">\n            Add audio embed from Soundcloud or Bandcamp\n          </h2>\n          <p className=\"text-center text-xl\">\n            To remove the current embed, submit a blank input\n          </p>\n          <p className=\"text-center text-xl mt-2\">\n            To permanently store this embed, you <strong>must </strong>\n            save edits on the song’s page\n          </p>\n          <form\n            className=\"mt-2\"\n            onSubmit={e => processAudioEmbed(e)}\n            style={{ gridArea: 'audio' }}\n          >\n            {error && <p className=\"font-bold\">{error}</p>}\n            <label className={styles.audio}>\n              enter entire embed code\n              <input\n                name=\"newAudio\"\n                onChange={e => onAudioChange(e)}\n                value={newAudio}\n                className={styles.inputLG}\n              />\n            </label>\n            <button className={styles.submitBtn}>\n              Submit\n            </button>\n            <button\n              className={styles.submitBtn}\n              type=\"button\"\n              onClick={handleExit}\n            >\n              Cancel\n            </button>\n          </form>\n        </Modal>\n      }\n    </>\n  )\n}\nexport default Audio;\n","import React, { useState } from 'react';\nimport { Modal, SharkSelect } from '../../common';\n\nimport { toggleValue } from '../../../utils';\n\nconst styles = {\n  btnOuter: 'relative text-left text-sm border border-black rounded-lg shadow-card p-2',\n  btnText: 'absolute top-0 left-0 ml-2 mt-2 text-lg text-left leading-none',\n  modalInner: `\n    h-full\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  `,\n}\n\nconst ReqSharkInput = ({ reqSharks, storeReqSharks, sharks }) => {\n  const [isEdit, toggleEdit] = useState(false);\n  const [newReqShark, inputReqShark] = useState('');\n\n  const handleExit = () => {\n    if (newReqShark) {\n      storeReqSharks(newReqShark)\n    }\n    inputReqShark('');\n    toggleEdit(!isEdit);\n  }\n\n  const handleReqSharkChange = e => {\n    if (!newReqShark) inputReqShark(toggleValue(e.target.value, reqSharks));\n    else inputReqShark(toggleValue(e.target.value, newReqShark));\n  }\n\n  return (\n    <>\n      <button\n        className={reqSharks ? styles.btnOuter + \" bg-pink\" : styles.btnOuter}\n        style={{ gridArea: 'required' }}\n        onClick={() => toggleEdit(!isEdit)}\n      >\n        <span className={styles.btnText}>Required Sharks</span>\n      </button>\n\n      {isEdit &&\n        <Modal innerStyles={styles.modalInner} exit={handleExit}>\n          <h3 className=\"font-futura font-bold w-full text-2xl text-center\">\n            WHO IS REQUIRED?\n          </h3>\n          <SharkSelect\n            checkedCondition={newReqShark || reqSharks}\n            handleChange={handleReqSharkChange}\n            sharks={sharks}\n          />\n        </Modal>\n      }\n    </>\n  )\n}\n\nexport default ReqSharkInput\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  songUpdate,\n  songCreate,\n  songDelete,\n  songDateChanged,\n  songLyricsChanged,\n  songVoxChanged,\n  songAudioChanged,\n  songReqSharksChanged,\n  songMessageChanged,\n} from '../../../actions';\n\nimport {\n  Modal,\n  DetailWrapper,\n  EditOrCreate,\n  Confirm,\n  DateInput,\n  Message\n} from '../../common';\n\nimport LyricInput from './Lyrics';\nimport VoxInput from './VoxInput';\nimport Audio from './Audio';\nimport ReqSharkInput from './ReqSharkInput';\n\nimport {\n  input,\n  floatingBtn,\n  submitBtn,\n  modalInner,\n  futuraHeading,\n} from '../../../classLists';\n\nconst styles = {\n  wrapper: 'grid-song h-full w-full p-4',\n  label: input.label,\n  cover: 'absolute top-0 right-0 mt-6 mr-8 text-sm md:mr-10 lg:mr-20',\n  addSong: floatingBtn.topSmall,\n  btnSubmit: submitBtn,\n  inputXL: input.input,\n  modalInnerSm: modalInner,\n  heading: futuraHeading + ' text-2xl my-1',\n}\n\nconst Song = ({\n  sharks,\n  songs,\n  gigs,\n\n  detailedSong,\n\n  songAudioChanged,\n  songCreate,\n  songDateChanged,\n  songDelete,\n  songLyricsChanged,\n  songMessageChanged,\n  songReqSharksChanged,\n  songUpdate,\n  songVoxChanged,\n\n  error,\n  message,\n\n  isUnmounting,\n  exit\n}) => {\n  // local song attributes:\n  const [status, changeStatus] = useState('');\n  const [name, changeName] = useState(detailedSong.name);\n  const [isCover, toggleCover] = useState(detailedSong.isCover);\n\n  // is edit or create?\n  const [isEdit, setIsEdit] = useState(!!detailedSong.id)\n\n  // confirm here is for deleting\n  const [isConfirm, toggleConfirm] = useState(false);\n\n  const onChangeName = e => changeName(e.target.value);\n\n  const onEdit = () => {\n    const { audio, dob, id, lyrics, reqSharks, vox } = detailedSong;\n    const song = {\n      audio,\n      dob,\n      id,\n      isCover,\n      lyrics,\n      name: name || detailedSong.name,\n      reqSharks,\n      status: status || detailedSong.status,\n      vox,\n    };\n    songUpdate(songs, song);\n  }\n  const onCreate = () => {\n    const { dob, lyrics, vox, reqSharks, audio, id } = detailedSong;\n    const song = { audio, dob, id, name, vox, status, isCover, lyrics, reqSharks };\n\n    setIsEdit(true);\n    songCreate(songs, song);\n  }\n\n  const findSongInSetLists = () => {\n    const gigsValues = Object.values(gigs);\n    const id = detailedSong.id;\n    // if there isn't a id no need to do the rest\n    if (!id) return false;\n    let gigCount = 0;\n    gigsValues.forEach(gig => {\n      if (gig.setList.indexOf(id) !== -1) gigCount++;\n    })\n\n    const sharksValues = Object.values(sharks.active);\n    let sharkFavCount = 0;\n    sharksValues.forEach(shark => {\n      if (shark.favSongs && shark.favSongs.indexOf(id) !== -1) sharkFavCount++;\n    })\n\n    return { gig: gigCount, sharkFav: sharkFavCount }\n  }\n\n  const count = findSongInSetLists();\n\n  const dismiss = () => {\n    songMessageChanged('')\n  }\n\n  const handleDelete = () => {\n    if (count.gig || count.sharkFav) {\n      songMessageChanged('You can not delete a song that is included in a setlist or A Sharks’ Dozen list')\n    } else if (!detailedSong.id) {\n      songMessageChanged('You can’t delete a song that hasn’t been made')\n    } else {\n      toggleConfirm(true)\n    }\n  }\n\n  const onDelete = () => {\n    exit();\n    songDelete(detailedSong.id)\n  }\n\n    return (\n      <DetailWrapper\n        handleExit={exit}\n        classNames=\"songWrapper\"\n        isUnmounting={isUnmounting}\n      >\n        {message &&\n          <Message\n            text={message.text}\n            type={message.type}\n            dismiss={dismiss}\n          />}\n        <div className={styles.wrapper}>\n          <label className={styles.label} style={{ gridArea: 'name' }}>\n            name\n            <input\n              onChange={onChangeName}\n              value={name}\n              className={styles.inputXL}\n            />\n          </label>\n          {detailedSong.id && <p style={{ gridArea: 'stats' }}>This song is found in {count.gig} gigs</p>}\n\n          <DateInput\n            labelText=\"Date of birth\"\n            name=\"dob\"\n            storeDate={songDateChanged}\n            date={detailedSong ? detailedSong.dob : ''}\n          />\n\n          <label className={styles.label} style={{ gridArea: 'status' }}>\n            status\n            <select\n              name=\"status\"\n              onChange={e => changeStatus(e.target.value)}\n              value={status || detailedSong.status}\n              className={styles.inputXL}\n            >\n              <option value=\"solid\">solid</option>\n              <option value=\"shakey\">shakey</option>\n              <option value=\"inactive\">inactive</option>\n              <option value=\"retired\">retired</option>\n              <option value=\"idea\">idea</option>\n            </select>\n          </label>\n\n          <VoxInput\n            vox={detailedSong.vox}\n            sharks={sharks}\n            storeVox={songVoxChanged}\n          />\n\n          <Audio\n            audioObj={detailedSong.audio}\n            name={name}\n            storeAudio={songAudioChanged}\n          />\n\n          <LyricInput\n            lyrics={detailedSong.lyrics}\n            storeLyrics={songLyricsChanged}\n          />\n\n          <ReqSharkInput\n            reqSharks={detailedSong.reqSharks}\n            sharks={sharks}\n            storeReqSharks={songReqSharksChanged}\n          />\n\n          <EditOrCreate\n            isEdit={isEdit}\n            className={styles.btnSubmit}\n            handleCreate={onCreate}\n            handleEdit={onEdit}\n            createValidation={name}\n            editValidation={true}\n          />\n          <button\n            style={{ gridArea: 'delete' }}\n            onClick={handleDelete}\n          >\n            Delete Song\n          </button>\n\n          <label className={styles.cover}>\n            {isCover ? \"cover\" : \"original\"}\n            <input\n              type=\"checkbox\"\n              className=\"invisible\"\n              onChange={() => toggleCover(!isCover)}\n              checked={isCover} // to do: this is a problem\n            />\n          </label>\n\n        </div>\n\n        {isConfirm &&\n          <Modal\n            innerStyles={styles.modalInner}\n            exit={toggleConfirm}\n          >\n            <Confirm\n              onYes={onDelete}\n              onNo={() => toggleConfirm()}\n              message=\"Are you sure you want to delete this song?\"\n            />\n          </Modal>\n        }\n       </DetailWrapper>\n    );\n  }\n\nconst mapStateToProps = state => {\n  const { songs, message, detailedSong } = state.songs;\n  const { gigs } = state.gigs;\n  const { sharks } = state.sharks;\n  return { songs, message, detailedSong, gigs, sharks };\n}\n\nexport default connect(mapStateToProps, {\n  songAudioChanged,\n  songCreate,\n  songDateChanged,\n  songDelete,\n  songLyricsChanged,\n  songMessageChanged,\n  songReqSharksChanged,\n  songUpdate,\n  songVoxChanged,\n})(Song);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { detailedSongChanged } from '../../actions';\nimport Song from './Song';\nimport { AllSongs, delayUnmounting} from '../common';\n\nconst DelayedSong = delayUnmounting(Song);\n\nconst Songs = ({ detailedSongChanged, detailedSong, authUser }) => {\n  const [isDetail, toggleDetail] = useState(false);\n\n  const exitDetail = e => {\n    const modalBG = document.querySelector('#halfModalBG');\n    const exitBtn = document.querySelector('#detailExit');\n\n    if (!e || e.target === modalBG || e.target === exitBtn) toggleDetail(false);\n  }\n  const enterDetail = value => {\n    detailedSongChanged(value);\n    toggleDetail(true);\n  }\n  const addNewSong = () => {\n    detailedSongChanged({\n      audio: '',\n      dob: '',\n      id: '',\n      isCover: false,\n      lyrics: '',\n      name: '',\n      reqSharks: '',\n      status: '',\n      vox: '',\n    })\n    toggleDetail(true);\n  }\n  return (\n    <main className=\"h-mainWrapper flex bg-tan shadow-inset\">\n      <AllSongs onClick={e => enterDetail(e.target.value)}>\n        {authUser && navigator.onLine &&\n          <button\n            className=\"absolute top-0 right-0 mt-2 mr-2 h-16 w-16 rounded-full p-1 bg-tan border border-black leading-none shadow-slategray\"\n            onClick={addNewSong}\n          >\n            new song\n          </button>\n        }\n      </AllSongs>\n\n      <DelayedSong\n        delayTime={300}\n        isMounted={isDetail}\n        exit={exitDetail}\n      />\n    </main>\n  );\n}\n\nconst mapStateToProps = state => {\n  const { detailedSong } = state.songs;\n  return { detailedSong }\n}\n\n\nexport default connect(mapStateToProps, { detailedSongChanged })(Songs);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\n\nimport { AllSongs, Modal } from '../common';\nimport { getNameById, reorder } from '../../utils';\n\nconst styles = {\n  base: 'border border-gray-700 px-2 mb-1 ml-1 text-left',\n  grow: ' flex-grow',\n  hide: ' hidden sm:block',\n  modalInner: `\n    h-full\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  `,\n}\n\nconst SetList = ({ songs, setList, storeSetList, authUser }) => {\n  const [isEdit, toggleEdit] = useState(false);\n\n  const handleExit = () => {\n    toggleEdit(false);\n  }\n  const onPushToSetList = e => {\n    const newSetList = [...setList, e.target.value];\n    toggleEdit(false);\n    storeSetList(newSetList);\n  }\n  const onDeleteSong = e => {\n    const position = parseInt(e.target.value);\n    setList.splice(position, 1);\n    storeSetList(setList);\n  }\n\n  const addBtnStyles = `\n    absolute top-0 right-0 mr-2\n    h-12 w-12 p-1\n    text-sm leading-none\n    bg-tan shadow-slategray\n    border border-black rounded-full\n  `;\n\n  const onDragEnd = result => {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n\n    const newSetList = reorder(\n      setList,\n      result.source.index,\n      result.destination.index\n    );\n\n    storeSetList(newSetList);\n  }\n\n\n  return (\n    <>\n      <DragDropContext onDragEnd={onDragEnd}>\n        <Droppable droppableId=\"droppable\">\n          {(provided, snapshot) => (\n            <ol\n              {...provided.droppableProps}\n              ref={provided.innerRef}\n              className=\"h-full overflow-y-scroll lastItem-mb-sm\"\n            >\n              {setList.map((song, i) => (\n                <Draggable key={song} draggableId={song} index={i}>\n                  {(provided, snapshot) => (\n                    <li\n                      ref={provided.innerRef}\n                      {...provided.draggableProps}\n                      {...provided.dragHandleProps}\n                      className=\"flex\"\n                    >\n                      <span className={styles.base + styles.grow}>\n                        {i + 1}) {getNameById(song, songs)}\n                      </span>\n                      <button\n                        type=\"button\"\n                        value={i}\n                        onClick={onDeleteSong}\n                        className={styles.base}\n                      >\n                        x\n                      </button>\n                    </li>\n                  )}\n                </Draggable>\n              ))}\n              {provided.placeholder}\n            </ol>\n          )}\n        </Droppable>\n      </DragDropContext>\n\n      <button\n        onClick={() => toggleEdit(true)}\n        type=\"button\"\n        className={addBtnStyles}\n      >\n        Add Song\n      </button>\n\n      {isEdit &&\n        <Modal\n          innerStyles=\"flex bg-tan shadow-inset w-full h-full\"\n          exit={handleExit}\n        >\n          <AllSongs\n            onClick={onPushToSetList}\n            setList={setList}\n          />\n        </Modal>\n      }\n    </>\n  );\n}\n\nconst mapStateToProps = state => {\n  const { songs } = state.songs;\n  const { sharks } = state.sharks;\n  return { sharks, songs };\n}\n\nexport default connect(mapStateToProps)(SetList);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux'\nimport {\n  Modal,\n  Confirm,\n} from '../common';\n\nimport {\n  gigMessageChanged,\n  gigMediaAdded,\n  gigMediaDeleted\n} from '../../actions';\n\nimport { modalInner, floatingBtn } from '../../classLists';\n\nconst styles = {\n  modalInner,\n  addBtn: floatingBtn.topSmall,\n};\n\nconst MediaItem = ({ item }) => {\n  if (item.type === 'photo') {\n    return <img className=\"block mx-auto mb-1\" src={item.src} alt=\"\" />\n  }\n}\n\nconst Media = ({ gigMediaAdded, gigMediaDeleted, gigMessageChanged, detailedGig, authUser }) => {\n  const [isAddMedia, toggleAddMedia] = useState(false);\n  const [isConfirm, toggleConfirm] = useState(false);\n  const [error, setError] = useState(null);\n  const [src, setSrc] = useState('');\n  const [mediaId, setMediaId] = useState(null);\n\n  const media = detailedGig.media ?\n    Object.entries(detailedGig.media) :\n    [];\n\n  const onAddMedia = () => {\n    if (!detailedGig.id) {\n      gigMessageChanged('You must create the gig first before adding media');\n      return false;\n    } else toggleAddMedia(true)\n  }\n\n  const onPushToMedia = e => {\n    e.preventDefault();\n    const duplicate = media.filter(media => media[1].src === src);\n    if (duplicate.length) {\n      setError('That media is already added');\n      toggleAddMedia(false)\n      return false;\n    }\n\n    const mediaObj = {\n      type: 'photo',\n      src\n    }\n    gigMediaAdded(mediaObj, detailedGig.id);\n    toggleAddMedia(false);\n  }\n  const startDeleteMedia = e => {\n    setMediaId(e.target.value);\n    toggleConfirm(true);\n  }\n  const onFinishDeleteMedia = () => {\n    gigMediaDeleted(detailedGig.id, mediaId);\n    toggleConfirm(false);\n  }\n\n\n  return (\n    <>\n    <div className=\"h-full overflow-y-scroll flex flex-col\">\n      {error && <p>{error}</p>}\n      {media.map(item => (\n        <div\n          className=\"relative mx-auto\"\n          style={{maxWidth: '500px'}}\n          key={item[0]}\n        >\n          <MediaItem item={item[1]} />\n          <button\n            value={item[0]}\n            onClick={startDeleteMedia}\n            className=\"absolute right-0 top-0 ml-2 text-xl px-2 border-2 border-white text-white\"\n          >\n            &times;\n          </button>\n        </div>\n      ))}\n\n      <button\n        onClick={onAddMedia}\n        type=\"button\"\n        className={styles.addBtn}\n      >\n        Add Media\n      </button>\n    </div>\n    {isAddMedia &&\n      <Modal\n        innerStyles={styles.modalInner}\n        exit={() => toggleAddMedia(false)}\n      >\n        <h2 className=\"text-center mb-4 font-futura\">Please enter the source of the photo</h2>\n        <form className=\"p-2\">\n          <input\n            onChange={e => setSrc(e.target.value)}\n            value={src}\n            className=\"block text-lg mb-4 p-2 w-full border-black border-2\"\n          />\n          <button\n            onClick={onPushToMedia}\n            type=\"submit\"\n            // disabled={!this.props.authUser || this.state.src}\n            className=\"border-black border-2 text-lg block mx-auto p-2 rounded-lg\"\n          >\n            save picture\n          </button>\n        </form>\n      </Modal>\n    }\n    {isConfirm &&\n      <Modal\n        innerStyles={styles.modalInner}\n        exit={() => toggleConfirm(false)}\n      >\n        <Confirm\n          onYes={onFinishDeleteMedia}\n          onNo={() => toggleConfirm(false)}\n          message=\"Are you sure you want to delete this media item?\"\n          disabled={false}\n        />\n      </Modal>\n    }\n    </>\n  );\n}\n\nconst mapStateToProps = state => {\n  const { detailedGig } = state.gigs;\n  return { detailedGig };\n}\n\nexport default connect(mapStateToProps, {\n  gigMessageChanged,\n  gigMediaAdded,\n  gigMediaDeleted\n})(Media);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  gigUpdate,\n  gigCreate,\n  gigDelete,\n  gigDateChanged,\n  gigMessageChanged,\n  gigSetListUpdated,\n} from '../../actions';\n\nimport {\n  Modal,\n  Message,\n  Confirm,\n  DateInput,\n  DetailWrapper,\n  EditOrCreate,\n} from '../common';\n\nimport SetList from './SetList';\nimport Media from './Media';\n\nimport {\n  input,\n  floatingBtn,\n  submitBtn,\n  modalInner,\n  futuraHeading,\n} from '../../classLists';\n\nconst styles = {\n  wrapper: 'grid-gig h-full w-full p-4',\n  label: input.label,\n  addSong: floatingBtn.topSmall,\n  btnSubmit: submitBtn,\n  inputXL: input.input,\n  modalInnerSm: modalInner,\n  heading: futuraHeading + ' text-2xl my-1',\n}\n\nconst Gig = ({\n  detailedGig,\n\n  gigCreate,\n  gigDelete,\n  gigUpdate,\n\n  gigDateChanged,\n  gigSetListChanged,\n  gigMessageChanged,\n  gigSetListUpdated,\n\n  message,\n  authUser,\n  isUnmounting,\n  exit\n}) => {\n  const [location, changeLocation] = useState(detailedGig.location);\n  const [tab, setTab] = useState(detailedGig.media ? 'media' : 'setList');\n  // is edit or create?\n  const [isEdit, setIsEdit] = useState(!!detailedGig.id)\n\n  // confirm is for deleting\n  const [isConfirm, toggleConfirm] = useState(false);\n\n  const onEdit = () => {\n    const gig = {\n      setList: detailedGig.setList,\n      location: location || detailedGig.location,\n      date: detailedGig.date,\n      id: detailedGig.id,\n    };\n    gigUpdate(gig)\n  }\n\n  const onCreate = () => {\n    const gig = {\n      date: detailedGig.date,\n      location,\n      setList: detailedGig.setList,\n    }\n\n    setIsEdit(true);\n    gigCreate(gig);\n  }\n\n  const onDelete = () => {\n    exit();\n    gigDelete(detailedGig.id)\n  }\n\n  const dismiss = () => {\n    gigMessageChanged('')\n  }\n\n  return (\n      <DetailWrapper\n        handleExit={exit}\n        classNames=\"gigWrapper\"\n        isUnmounting={isUnmounting}\n      >\n        {message &&\n          <Message\n            text={message.text}\n            type={message.type}\n            dismiss={dismiss}\n          />\n        }\n        <div className={styles.wrapper}>\n          <label className={styles.label} style={{ gridArea: 'where' }}>\n            location\n            <input\n              onChange={e => changeLocation(e.target.value)}\n              value={location}\n              className={styles.inputXL}\n            />\n          </label>\n\n          <DateInput\n            labelText=\"Date\"\n            name=\"when\"\n            storeDate={gigDateChanged}\n            date={detailedGig ? detailedGig.date : ''}\n          />\n\n          <div className=\"relative overflow-hidden\" style={{ placeSelf: 'stretch', gridArea: 'what' }}>\n            <h3 className={styles.heading}>\n              <button\n                onClick={e => setTab('media')}\n                className={tab === 'media' ? 'underline font-bold mr-5' : 'mr-5'}\n              >\n                MEDIA\n              </button>\n              <button\n                onClick={e => setTab('setList')}\n                className={tab === 'setList' ? 'underline font-bold' : ''}\n              >\n                SETLIST\n              </button>\n            </h3>\n            {tab === 'setList' ? (\n              <SetList\n                setList={detailedGig.setList ? detailedGig.setList.split(',') : []}\n                storeSetList={gigSetListUpdated}\n              />\n            ) : <Media /> }\n          </div>\n\n          <EditOrCreate\n            isEdit={isEdit}\n            className={styles.btnSubmit}\n            handleCreate={onCreate}\n            handleEdit={onEdit}\n            createValidation={location}\n            editValidation={true}\n          />\n          {authUser &&\n            <button\n              style={{ gridArea: 'delete' }}\n              onClick={() => toggleConfirm(true)}\n            >\n              Delete Gig\n            </button>\n          }\n        </div>\n\n        {isConfirm &&\n          <Modal\n            innerStyles={styles.modalInnerSm}\n            exit={() => toggleConfirm(false)}\n          >\n            <Confirm\n              onYes={onDelete}\n              onNo={() => toggleConfirm(false)}\n              message=\"Are you sure you want to delete this gig?\"\n            />\n          </Modal>\n        }\n       </DetailWrapper>\n\n  );\n}\n\nconst mapStateToProps = state => {\n  const { message, detailedGig } = state.gigs;\n  return { message, detailedGig };\n}\n\nexport default connect(mapStateToProps, {\n  gigCreate,\n  gigDelete,\n  gigUpdate,\n  gigMessageChanged,\n  gigDateChanged,\n  gigSetListUpdated,\n})(Gig);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { processDate } from '../../utils';\nimport { mainList } from '../../classLists';\nconst styles = {\n  mainList,\n  icon: `\n    px-1 rounded-full font-monospace text-xl\n    text-shadow\n  `\n}\n\nconst GigList = ({ gigs, detailedGig, showDetail }) => {\n  const gigArray = Object.entries(gigs).sort((a, b) => {\n    return b[1].date - a[1].date;\n  });\n  const onClick = e => {\n    const value = e.target.value ? e.target.value : e.target.parentNode.value;\n    showDetail(value);\n  }\n  return (\n    <ul className={styles.mainList.wrapper}>\n      {gigArray.map(gig => (\n        <li className=\"relative\" key={gig[0]}>\n          <button\n            onClick={onClick}\n            className={styles.mainList.btn}\n            value={gig[0]}\n          >\n            <span className=\"font-monospace\">{processDate(gig[1].date)} </span>\n            <span>{gig[1].location}</span>\n\n          </button>\n          <span className=\"absolute right-0 mr-2 mt-1\">\n            {gig[1].media &&\n              <span\n                role=\"img\"\n                aria-label=\"media available\"\n                className={styles.icon}\n              >🖼</span>\n            }\n            {!!gig[1].setList.length &&\n              <span\n                role=\"img\"\n                aria-label=\"setlist available\"\n                className={styles.icon}\n              >📄</span>\n            }\n          </span>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nconst mapStateToProps = state => {\n  const { gigs, detailedGig } = state.gigs;\n  return { gigs, detailedGig }\n}\n\n\nexport default connect(mapStateToProps)(GigList);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { detailedGigChanged } from '../../actions';\nimport Gig from './Gig';\nimport GigList from './GigList';\nimport { delayUnmounting } from '../common';\n\nimport { main, floatingBtn } from '../../classLists';\n\nconst styles = { main, floatingBtn };\n\nconst DelayedGig = delayUnmounting(Gig);\n\nconst Gigs = ({ detailedGigChanged, detailedGig, authUser }) => {\n  const [isDetail, toggleDetail] = useState(false);\n\n  const exitDetail = e => {\n    const modalBG = document.querySelector('#halfModalBG');\n    const exitBtn = document.querySelector('#detailExit');\n\n    if (!e || e.target === modalBG || e.target === exitBtn) toggleDetail(false);\n  }\n  const enterDetail = value => {\n    detailedGigChanged(value);\n    toggleDetail(true);\n  }\n\n  const addNewGig = () => {\n    detailedGigChanged({ date: '', location: '', setList: '' });\n    toggleDetail(true);\n  }\n\n  return (\n    <main className={styles.main.outer}>\n      <div className={styles.main.inner}>\n        <GigList showDetail={enterDetail} />\n        {authUser && navigator.onLine &&\n          <button\n            className={styles.floatingBtn.topLarge}\n            onClick={addNewGig}\n          >\n            new gig\n          </button>\n        }\n      </div>\n\n      <DelayedGig\n        delayTime={300}\n        authUser={authUser}\n        isMounted={isDetail}\n        exit={exitDetail}\n      />\n    </main>\n  );\n}\n\n\nconst mapStateToProps = state => {\n  const { detailedGig } = state.gigs;\n  return { detailedGig }\n}\n\nexport default connect(mapStateToProps, { detailedGigChanged })(Gigs);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  sharkUpdate,\n  sharkDateChanged,\n  sharkFavSongsChanged,\n  sharkMessageChanged,\n} from '../../actions';\n\nimport {\n  submitBtn,\n  input,\n  heading,\n} from '../../classLists';\n\nimport SetList from '../Gigs/SetList';\nimport { DetailWrapper, Message, DateInput } from '../common/';\n\nconst styles = {\n  submitBtn,\n  input,\n  heading,\n  wrapper: 'grid-shark overflow-y-scroll h-full w-full p-4',\n}\n\nconst Shark = ({\n  authUser,\n  detailedShark,\n\n  sharkDateChanged,\n  sharkFavSongsChanged,\n  sharkUpdate,\n  sharkMessageChanged,\n\n  message,\n  isUnmounting,\n  exit\n}) => {\n  const [name, setName] = useState(detailedShark.name)\n\n  const handleEdit = () => {\n    const shark = { ...detailedShark, name: name || detailedShark.name }\n    sharkUpdate(shark)\n  }\n\n  const dismiss = () => {\n    sharkMessageChanged('')\n  }\n\n  // if current user is the detailed shark, you are valid\n  const validated = authUser && authUser.uid === detailedShark.id;\n\n  return (\n    <DetailWrapper\n      handleExit={exit}\n      classNames=\"gigWrapper\"\n      isUnmounting={isUnmounting}\n    >\n      {message &&\n        <Message\n          text={message.text}\n          type={message.type}\n          dismiss={dismiss}\n        />\n      }\n      <div className={styles.wrapper}>\n        <label className={styles.input.label}>\n          Name\n          <input\n            onChange={e => setName(e.target.value)}\n            value={name}\n            className={styles.input.input}\n          />\n        </label>\n\n        <DateInput\n          labelText=\"Shark Since\"\n          name=\"when\"\n          storeDate={sharkDateChanged}\n          date={detailedShark ? detailedShark.sharkSince : ''}\n        />\n\n        <div className=\"overflow-y-scroll relative\" style={{ gridArea: 'favs' }}>\n          <h3 className={styles.heading.futura}>\n            A SHARK’S <br />DOZEN\n          </h3>\n          <SetList\n            setList={detailedShark.favSongs ? detailedShark.favSongs.split(',') : []}\n            storeSetList={sharkFavSongsChanged}\n          />\n        </div>\n\n        {validated && navigator.onLine &&\n          <button\n            className={styles.submitBtn}\n            type=\"submit\"\n            style={{ gridArea: 'submit' }}\n            onClick={handleEdit}\n          >\n            save edits\n          </button>\n        }\n      </div>\n\n\n    </DetailWrapper>\n  );\n}\n\nconst mapStateToProps = state => {\n  const { detailedShark, message } = state.sharks;\n  return { detailedShark, message }\n}\n\nexport default connect(mapStateToProps, {\n  sharkFavSongsChanged,\n  sharkDateChanged,\n  sharkUpdate,\n  sharkMessageChanged,\n})(Shark);\n","import app from 'firebase/app';\nimport 'firebase/database';\n\nimport {\n  SHARKS_FETCH_SUCCESS,\n  DETAILED_SHARK_CHANGED,\n  SHARK_DATE_UPDATE,\n  SHARK_SETLIST_UPDATE,\n  SHARK_ERROR,\n  SHARK_UPDATE,\n} from './types';\n\nexport const sharksFetch = value => {\n  return dispatch => {\n    app.database().ref('sharks').on('value', snapshot => {\n      dispatch({ type: SHARKS_FETCH_SUCCESS, payload: snapshot.val() })\n    })\n  }\n}\n\nexport const sharkUpdate = shark => {\n  return dispatch => {\n    app.database().ref(`sharks/active/${shark.id}`)\n      .update(shark)\n      .then(() => {\n        dispatch({ type: SHARK_UPDATE, payload: shark.id });\n      })\n      .catch(e => {\n        console.log(e);\n        dispatch({ type: SHARK_ERROR, payload: e.message });\n      })\n  }\n};\n\nexport const detailedSharkChanged = value => (\n  { type: DETAILED_SHARK_CHANGED, payload: value }\n)\n\nexport const sharkDateChanged = value => (\n  { type: SHARK_DATE_UPDATE, payload: value }\n)\n\nexport const sharkFavSongsChanged = value => (\n  { type: SHARK_SETLIST_UPDATE, payload: value }\n)\nexport const sharkMessageChanged = value => (\n  { type: SHARK_ERROR, payload: value }\n)\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { mainList, heading } from '../../classLists';\n\nconst styles = {\n  mainList,\n  heading,\n}\n\nconst SharkList = ({ sharks, detailedShark, showDetail }) => {\n  const activeSharks = Object.entries(sharks.active);\n  const retiredSharks = Object.entries(sharks.retired);\n  return (\n    <ul className={styles.mainList.wrapper}>\n      <h3 className={styles.heading.futura}>\n        ACTIVE\n      </h3>\n      {activeSharks.map(shark => (\n        <li key={shark[0]}>\n          <button\n            onClick={showDetail}\n            className={styles.mainList.btn}\n            value={shark[0]}\n          >\n            {shark[1].name}\n          </button>\n        </li>\n      ))}\n      <h3 className={styles.heading.futura}>\n        RETIRED\n        </h3>\n      {retiredSharks.map(shark => (\n        <li key={shark[0]}>\n          <button\n            value={shark[0]}\n            className={styles.mainList.btn}\n          >\n            {shark[1].name}\n          </button>\n        </li>\n      ))}\n    </ul>\n\n  );\n}\n\nconst mapStateToProps = state => {\n    const { sharks, detailedShark } = state.sharks;\n    return { sharks, detailedShark }\n}\n\nexport default connect(mapStateToProps)(SharkList);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { detailedSharkChanged } from '../../actions';\nimport Shark from './Shark';\nimport SharkList from './SharkList';\nimport delayUnmounting from '../common/delayUnmounting';\n\nimport { main as styles } from '../../classLists';\n\nconst SharkDelayUnmount = delayUnmounting(Shark);\n\n\nconst Sharks = ({ detailedSharkChanged, detailedShark, authUser }) => {\n  const [isDetail, toggleDetail] = useState(false);\n\n  const enterDetail = e => {\n    detailedSharkChanged(e.target.value);\n    toggleDetail(true);\n  }\n\n  const exitDetail = e => {\n    const modalBG = document.querySelector('#halfModalBG');\n    const exitBtn = document.querySelector('#detailExit');\n\n    if (e.target === modalBG || e.target === exitBtn) toggleDetail(false);\n  }\n\n  return (\n    <main className={styles.outer}>\n      <div className={styles.inner}>\n        <SharkList showDetail={enterDetail} />\n      </div>\n\n      <SharkDelayUnmount\n        delayTime={300}\n        authUser={authUser}\n        isMounted={isDetail}\n        exit={exitDetail}\n      />\n    </main>\n  );\n}\n\nconst mapStateToProps = state => {\n  const { detailedShark } = state.sharks;\n  return { detailedShark };\n}\n\nexport default connect(mapStateToProps, { detailedSharkChanged })(Sharks);\n","import React from 'react';\n\nconst INITIAL_STATE = {\n  email: '',\n  password: '',\n  error: null,\n  isPasswordSuccess: false,\n  isWaiting: false,\n}\n\nconst styles = {\n  label: 'block mb-4 p-2 border border-black shadow-card text-sm',\n  input: 'block w-full mt-2 text-xl',\n  btnSubmit: `\n    block w-full mb-4 p-2 text-2xl text-deeppink font-bold\n    border-4 border-double border-currentColor rounded-lg\n    disabled:border-gray-500 disabled:text-gray-500\n    songSubmit\n  `,\n}\n\nclass SignInForm extends React.Component {\n\n  state = { ...INITIAL_STATE };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.setState({ isWaiting: true });\n    const { email, password } = this.state;\n    this.props.firebase\n      .doSignInWithEmailAndPassword(email, password)\n      .catch(error => {\n        this.setState({ error, isWaiting: false });\n      });\n  }\n\n  handleForget = () => {\n    this.setState({ isWaiting: true });\n    this.props.firebase\n      .doPasswordReset(this.state.email)\n      .then(() => this.setState({ isPasswordSuccess: true, isWaiting: false }))\n      .catch(error => this.setState({ error, isWaiting: false }))\n  }\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value,\n      error: null,\n    });\n  }\n  render() {\n    const {\n      email,\n      password,\n      error,\n      isPasswordSuccess,\n      isWaiting\n    } = this.state;\n\n    const isInvalid = password === '' || email === '';\n\n    return (\n      <div className={this.props.className}>\n        <div\n          className={isPasswordSuccess ?\n            \"relative transition-lg isFlipped h-full\" :\n            \"h-full relative\"\n          }\n          style={{ transformStyle: 'preserve-3d' }}\n        >\n          <form\n            onSubmit={this.handleSubmit}\n            className=\"absolute w-full backface-hidden\"\n          >\n            <h3 className=\"font-futura text-center font-bold text-2xl mb-1\">\n              SIGN IN\n            </h3>\n            <label className={styles.label}>\n              email\n              <input\n                name=\"email\"\n                value={email}\n                disabled={isWaiting}\n                className={styles.input}\n                onChange={this.handleChange}\n                type=\"text\"\n                placeholder=\"Email Address\"\n              />\n            </label>\n            <label className={styles.label}>\n              password\n              <input\n                disabled={isWaiting}\n                name=\"password\"\n                className={styles.input}\n                value={password}\n                onChange={this.handleChange}\n                type=\"password\"\n                placeholder=\"Password\"\n              />\n            </label>\n            <button\n              disabled={isInvalid || isWaiting}\n              type=\"submit\"\n              className={styles.btnSubmit}\n            >\n              SIGN IN\n            </button>\n\n            <button\n              className=\"w-full font-futura text-center disabled:text-gray-500\"\n              onClick={this.handleForget}\n              disabled={!email}\n              type=\"button\"\n            >\n              FORGOT YOUR PASSWORD?\n            </button>\n\n            {error && <p>{error.message}</p>}\n          </form>\n          <div\n            className=\"absolute w-full h-full bg-white\"\n            style={{\n              transform: 'rotateY(180deg)',\n              backfaceVisibility: 'hidden'\n            }}\n          >\n            <h2 className=\"font-metal text-4xl text-center\">SUCCESS</h2>\n            <p className=\"text-center font-futura text-xl\">\n              You will soon receive instructions to recover your account\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default SignInForm;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { songsFetch, gigsFetch, sharksFetch } from '../actions';\nimport localforage from 'localforage';\n\nimport Firebase from './firebase';\nimport Header from './Header';\nimport Loader from './Loader';\n\nimport Songs from './Songs';\nimport Gigs from './Gigs';\nimport Sharks from './Sharks';\n\nimport Modal from './common/Modal';\nimport { SignInForm } from './User';\n\nconst INITIAL_STATE = {\n  isLoadAnimation: true,\n  tab: 'songs',\n  isAuthDisplay: false,\n  authUser: null,\n}\n\nconst styles = {\n  modalInner: `\n    w-10/12 h-10/12\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  `,\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...INITIAL_STATE };\n    this.firebase = new Firebase();\n  }\n\n  componentDidMount() {\n    // if user is loading app for first time show entire animation\n    localforage.getItem('hasVisited').then(hasVisited => {\n      const timeOut = hasVisited ? 0 : 3000;\n      setTimeout(() => this.endAnimation(), timeOut);\n    }).then(() => localforage.setItem('hasVisited', true));\n\n    // remember which tab the user was last on\n    localforage.getItem('tab').then(tab => {\n      if (tab) this.setState({ tab });\n    })\n    // if online load from localforage\n    if (!navigator.onLine) {\n      localforage.getItem('songs').then(songs => {\n        if (songs) {\n          const songPromise = localforage.getItem('songs');\n          const gigPromise = localforage.getItem('gigs');\n          const sharkPromise = localforage.getItem('sharks');\n\n          Promise.all([songPromise, gigPromise, sharkPromise]).then(values => {\n            this.setState({\n              songs: values[0],\n              gigs: values[1],\n              sharks: values[2]\n            })\n          })\n        }\n      })\n    } else {\n      this.props.songsFetch();\n      this.props.gigsFetch();\n      this.props.sharksFetch();\n      // to do\n//      localforage.setItem('songs', snapshot.val())\n//      localforage.setItem('gigs', snapshot.val())\n//       localforage.setItem('sharks', snapshot.val())\n\n    }\n\n    window.addEventListener('beforeunload', () => {\n      localforage.setItem('tab', this.state.tab);\n    });\n\n    this.firebase.auth.onAuthStateChanged(\n      authUser => {\n        authUser ?\n          this.setState({ authUser, isAuthDisplay: false }) :\n          this.setState({ authUser: null });\n      }\n    );\n  }\n\n  endAnimation = () => {\n    this.setState({ isLoadAnimation: false })\n  }\n\n  onClickNav = e => {\n    this.setState({ tab: e.target.value });\n  }\n\n  onShowSignIn = () => {\n    this.setState({ isAuthDisplay: true });\n  }\n\n  onModalClose = () => {\n    this.setState({ isAuthDisplay: false });\n  }\n\n  renderMain = () => {\n    switch (this.state.tab) {\n      case 'songs':\n        return (\n          <Songs authUser={this.state.authUser} />\n        );\n      case 'gigs':\n        return (\n          <Gigs\n            songs={this.props.songs}\n            gigs={this.props.gigs}\n            sharks={this.props.sharks}\n            firebase={this.firebase}\n            authUser={this.state.authUser}\n          />\n        );\n      case 'sharks':\n        return (\n          <Sharks\n            songs={this.props.songs}\n            sharks={this.props.sharks}\n            firebase={this.firebase}\n            authUser={this.state.authUser}\n          />\n        );\n      default:\n        return (\n          <Songs authUser={this.state.authUser} />\n        );\n    }\n  }\n\n  render() {\n    const { isLoadAnimation } = this.state;\n    const { songs, gigs, sharks } = this.props;\n    const loading = (\n      Object.entries(sharks).length &&\n      Object.entries(songs).length &&\n      Object.entries(gigs).length\n    ) ? false : true;\n    return (\n      <div className=\"h-screen overflow-hidden\">\n        {(isLoadAnimation || loading) && <Loader />}\n        {!loading &&\n          <>\n            <Header\n              onClickNav={this.onClickNav}\n              tab={this.state.tab}\n              authUser={this.state.authUser}\n              firebase={this.firebase}\n              onShowSignIn={this.onShowSignIn}\n            />\n\n            {this.renderMain()}\n\n            {this.state.isAuthDisplay &&\n              <Modal\n                innerStyles={styles.modalInner}\n                exit={this.onModalClose}\n              >\n                <SignInForm\n                  className=''\n                  firebase={this.firebase}\n                />\n              </Modal>\n            }\n          </>\n        }\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { songs } = state.songs;\n  const { gigs } = state.gigs;\n  const { sharks } = state.sharks;\n  return { songs, gigs, sharks };\n};\n\nexport default connect(mapStateToProps,\n  { songsFetch, gigsFetch, sharksFetch }\n)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport ReduxThunk from 'redux-thunk';\n\nimport reducers from './reducers';\nimport * as serviceWorker from './serviceWorker';\nimport 'typeface-metal-mania';\nimport './index.css';\nimport App from './components/App';\n\nconst store = createStore(reducers, {}, applyMiddleware(ReduxThunk));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}