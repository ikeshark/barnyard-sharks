(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){},195:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(29),l=a.n(s),i=a(6),o=a(4),c=a(93),u=a(1),d=function(e,t){return-1===t.indexOf(e)?t?"".concat(t,", ").concat(e):e:-1!==t.indexOf(",")?((t=t.split(", ")).splice(t.indexOf(e),1),t.join(", ")):""},m={statusFilter:"",vocalsFilter:"",sharksFilter:"",sortType:"",isFilterDisplay:!0,isCoverFilter:!1},g={songs:{},detailedSong:null,message:null},h={gigs:{},detailedGig:null,message:null},b={sharks:{},detailedShark:null,message:null},f=Object(i.c)({filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"status_filter_changed":var a=d(t.payload,e.statusFilter);return Object(u.a)({},e,{statusFilter:a});case"vocals_filter_changed":var n=e.vocalsFilter===t.payload?"":t.payload;return Object(u.a)({},e,{vocalsFilter:n});case"sharks_filter_changed":var r=d(t.payload,e.sharksFilter);return Object(u.a)({},e,{sharksFilter:r});case"sort_type_changed":var s=e.sortType===t.payload?"":t.payload;return Object(u.a)({},e,{sortType:s});case"filter_display_changed":return Object(u.a)({},e,{isFilterDisplay:!e.isFilterDisplay});case"cover_filter_changed":return Object(u.a)({},e,{isCoverFilter:!e.isCoverFilter});default:return e}},songs:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"songs_fetch_success":return Object(u.a)({},a,{songs:n.payload});case"detailed_song_changed":var r=n.payload?(e=a.songs,"string"===typeof(t=n.payload)?Object.values(e).filter(function(e){return e.id===t})[0]:t):null;return Object(u.a)({},a,{detailedSong:r});case"song_error":var s=/permission/i.test(n.payload)?"Please sign in to create, edit, or delete a song":n.payload;return Object(u.a)({},a,{message:n.payload?{type:"error",text:s}:null});case"song_create":return Object(u.a)({},a,{detailedSong:n.payload,message:{type:"message",text:"song created"}});case"song_delete":return a;case"song_update":return Object(u.a)({},a,{message:{type:"message",text:"song update"}});case"song_date_update":var l=Object(u.a)({},a.detailedSong,{dob:n.payload});return Object(u.a)({},a,{detailedSong:l});case"vox_update":var i=Object(u.a)({},a.detailedSong,{vox:n.payload});return Object(u.a)({},a,{detailedSong:i});case"lyrics_update":var o=Object(u.a)({},a.detailedSong,{lyrics:n.payload});return Object(u.a)({},a,{detailedSong:o});case"audio_update":var c=Object(u.a)({},a.detailedSong,{audio:n.payload});return Object(u.a)({},a,{detailedSong:c});case"reqsharks_update":var d=Object(u.a)({},a.detailedSong,{reqSharks:n.payload});return Object(u.a)({},a,{detailedSong:d});default:return a}},gigs:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"gigs_fetch_success":return Object(u.a)({},a,{gigs:n.payload});case"detailed_gig_changed":var r=n.payload.length?(e=a.gigs,"string"===typeof(t=n.payload)?Object.values(e).filter(function(e){return e.id===t})[0]:t):n.payload;return Object(u.a)({},a,{detailedGig:r});case"gig_error":var s=/permission/i.test(n.payload)?"Please sign in to create, edit, or delete a gig":n.payload;return Object(u.a)({},a,{message:n.payload?{type:"error",text:s}:null});case"gig_date_update":var l=Object(u.a)({},a.detailedGig,{date:n.payload});return Object(u.a)({},a,{detailedGig:l});case"gig_setlist_update":var i=n.payload.join(","),o=Object(u.a)({},a.detailedGig,{setList:i});return Object(u.a)({},a,{detailedGig:o});case"gig_media_added":var c,d=n.key,m=n.payload;(c=a.detailedGig.media?Object(u.a)({},a.detailedGig.media):{})[d]=m;var g=Object(u.a)({},a.detailedGig,{media:c});return Object(u.a)({},a,{detailedGig:g});case"gig_create":return Object(u.a)({},a,{detailedGig:n.payload,message:{type:"message",text:"gig created"}});case"gig_media_deleted":var b=Object(u.a)({},a.detailedGig.media);delete b[n.payload];var f=Object(u.a)({},a.detailedGig,{media:b});return Object(u.a)({},a,{detailedGig:f,message:{type:"message",text:"media deleted"}});case"gig_delete":return a;case"gig_update":return Object(u.a)({},a,{message:{type:"message",text:"gig update"}});default:return a}},sharks:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"sharks_fetch_success":return Object(u.a)({},a,{sharks:n.payload});case"detailed_sharks_changed":var r=n.payload.length?(e=a.sharks.active,"string"===typeof(t=n.payload)?Object.values(e).filter(function(e){return e.id===t})[0]:t):n.payload;return Object(u.a)({},a,{detailedShark:r});case"shark_update":return Object(u.a)({},a,{message:{type:"message",text:"updated"}});case"shark_date_update":var s=Object(u.a)({},a.detailedShark,{sharkSince:n.payload});return Object(u.a)({},a,{detailedShark:s});case"shark_error":var l=/permission/i.test(n.payload)?"Please sign in to edit your page":n.payload;return Object(u.a)({},a,{message:n.payload?{type:"error",text:l}:null});case"shark_setlist_update":var i=n.payload.join(","),o=Object(u.a)({},a.detailedShark,{favSongs:i});return Object(u.a)({},a,{detailedShark:o});default:return a}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(109),a(110);var p=a(9),v=a(15),y=a(17),k=a(16),x=a(18),E=a(5),w=a.n(E);a(43);function S(e,t,a){return!(e=Object.entries(e)).some(function(e){return e[1].name===t&&e[0]!==a})}var O=function(e){return{type:"gig_error",payload:e}},j=a(13),N=a.n(j),C=(a(159),{apiKey:"AIzaSyBo6CZWAvg8VUm_8bCOekfLWrafNAx16Fw",authDomain:"sharks-repertoire.firebaseapp.com",databaseURL:"https://sharks-repertoire.firebaseio.com",projectId:"sharks-repertoire",storageBucket:"sharks-repertoire.appspot.com",messagingSenderId:"355114391613"}),_=function e(){var t=this;Object(p.a)(this,e),this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.getSongs=function(){return t.db.ref("songs").once("value").then(function(e){return e.val()})},this.doCreateSong=function(e){var a=(new Date).getTime();return t.db.ref().update({songsLastUpdate:a}),t.db.ref().child("songs").push(e).key},this.doCreateGig=function(e){var a=(new Date).getTime();return t.db.ref().update({gigsLastUpdate:a}),t.db.ref().child("gigs").push(e).key},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},w.a.initializeApp(C),this.auth=w.a.auth(),this.db=w.a.database()},F="\n  block mx-4 p-1\n  text-white text-3xl hover:text-pink-300\n",D="\n  block mx-4 p-1\n  text-deeppink text-shadow text-3xl\n",L=function(e){var t=e.onClickNav,a=e.tab;return r.a.createElement("nav",{className:"flex justify-between font-metal w-full md:w-auto"},r.a.createElement("button",{onClick:t,value:"songs",className:"songs"===a?D:F},"Songs"),r.a.createElement("button",{onClick:t,value:"gigs",className:"gigs"===a?D:F},"Gigs"),r.a.createElement("button",{onClick:t,value:"sharks",className:"sharks"===a?D:F},"Sharks"))},I="\n  fixed bottom-0 right-0 mb-12 mr-5\n  h-16 w-16 rounded-full shadow-slategray p-1 bg-tan border border-black leading-none\n  md:static md:m-1 md:bg-white md:h-12 md:w-12 md:text-sm md:shadow-none\n  z-10\n",A=function(e){var t=e.onShowSignIn;return r.a.createElement("button",{type:"button",onClick:t,className:I},"Sign In")},U=function(e){var t=e.firebase;return r.a.createElement("button",{type:"button",className:I,onClick:t.doSignOut},"Sign Out")},T=function(e){var t=e.authUser,a=e.firebase,n=e.onShowSignIn;return t?r.a.createElement(U,{firebase:a}):r.a.createElement(A,{onShowSignIn:n})},G=function(e){var t=e.onClickNav,a=e.tab,n=e.firebase,s=e.onShowSignIn,l=e.authUser;return r.a.createElement("header",{className:"z-10 w-full px-5 py-1 bg-darkgray flex justify-between items-center shadow-slategray relative"},r.a.createElement("h1",{className:"hidden md:block p-i text-4xl text-deeppink font-metal tracking-widest text-shadow"},"Sharkapp"),r.a.createElement(L,{onClickNav:t,tab:a}),r.a.createElement(T,{firebase:n,onShowSignIn:s,authUser:l}))},B=function(){return r.a.createElement("main",{className:"\n  relative top-0 right-0\n  h-screen\n  flex flex-col justify-center\n  bg-tan\n  border-double border-black border-10\n  font-metal text-center\n  z-100\n  animation-shake\n"},r.a.createElement("h1",{className:"text-6xl leading-none text-shadow-white-red animation-rushShake"},"Barnyard Sharks"),r.a.createElement("p",{className:"mt-0 animation-fadeIn animation-delay-md text-3xl"},"Are Coming For You",r.a.createElement("span",{className:"animation-blink"},"...")))},M=a(2),R={outer:"h-mainWrapper flex bg-tan shadow-inset",inner:"relative w-full md:w-1/2"},q={btn:"\n    w-full mb-1 p-1\n    bg-offwhite shadow-spread\n    border border-gray border-b-3\n    leading-tight text-left text-xl\n    hover:bg-deeppink hover:text-white hover:border-transparent\n  ",wrapper:"p-3 overflow-y-scroll h-full lastItem-mb"},W={topSmall:"\n    absolute top-0 right-0 mt-2 mr-2\n    h-12 w-12 p-1\n    text-sm leading-none\n    bg-tan shadow-slategray\n    border border-black rounded-full\n  ",topLarge:"\n    absolute top-0 right-0 mt-2 mr-2\n    h-16 w-16 p-1\n    leading-none\n    bg-tan shadow-slategray\n    border border-black rounded-full\n  "},P="\n  h-10/12 w-10/12\n  bg-white shadow-inset\n  p-4 text-lg\n  flex flex-col\n",V="\n    relative p-3\n    border border-black rounded-10\n    btn-toggle\n  ",z=" shadow-sm bg-deeppink text-white",Y={futura:"\n    font-futura text-center text-2xl underline font-bold\n  "},H="font-futura text-center font-bold",X={label:"border border-black shadow-card p-2 text-sm",input:"block text-lg w-full"},J="\n  block p-2 text-xl\n  border-4 border-double border-black rounded-lg\n  disabled:border-gray-500 disabled:text-gray-500\n  songSubmit\n",K={wrapper:"flex flex-wrap justify-center -mx-2 md:mx-0 md:flex",btn:V+" m-1 flex-grow",active:z,heading:H+" hidden md:block w-full -mb-1 text-lg"},Z=Object(o.b)(function(e){return{statusFilter:e.filter.statusFilter}},{statusFilterChanged:function(e){return{type:"status_filter_changed",payload:e}}})(function(e){var t=e.filterView,a=e.statusFilter,n=e.statusFilterChanged;return r.a.createElement("div",{className:"status"===t?K.wrapper:K.wrapper+" hidden"},r.a.createElement("h4",{className:K.heading},"STATUS FILTER"),["solid","shakey","inactive","retired","idea"].map(function(e){return r.a.createElement("button",{type:"button",key:e,onClick:function(e){return n(e.target.value)},className:-1!==a.indexOf(e)?K.btn+K.active:K.btn,value:e},e)}))}),Q={wrapper:"flex flex-wrap justify-center -mx-2 md:mx-0 md:flex",btn:V+" m-1 flex-grow",active:z,heading:H+" hidden md:block w-full -mb-1 text-lg"},$=Object(o.b)(function(e){return{vocalsFilter:e.filter.vocalsFilter,sharks:e.sharks.sharks}},{vocalsFilterChanged:function(e){return{type:"vocals_filter_changed",payload:e}}})(function(e){var t=e.sharks,a=e.filterView,n=e.vocalsFilter,s=e.vocalsFilterChanged;return r.a.createElement("div",{className:"vocals"===a?Q.wrapper:Q.wrapper+" hidden"},r.a.createElement("h4",{className:Q.heading},"VOCALIST FILTER"),["05x2qzOXABfcDkMGTClzDZxzBBt2","r6hSiQpBaNfqiPgKatywDJCDRL13","fUek7qwanvg3Sp8BJlp0NLswllO2"].map(function(e){return r.a.createElement("button",{type:"button",key:e,onClick:function(e){return s(e.target.value)},value:e,className:n===e?Q.btn+Q.active:Q.btn},function(e){if(t.active)return t.active[e].name}(e))}),r.a.createElement("button",{type:"button",onClick:function(e){return s(e.target.value)},value:"gang",className:"gang"===n?Q.btn+Q.active:Q.btn},"Gang"),r.a.createElement("button",{type:"button",onClick:function(e){return s(e.target.value)},value:"instrumental",className:"instrumental"===n?Q.btn+Q.active:Q.btn},"Instrumental"))}),ee={btn:V+" m-1 flex-grow",active:z},te=Object(o.b)(function(e){return{sharks:e.sharks.sharks}})(function(e){var t=e.sharks,a=e.checkedCondition,n=e.handleChange,s=e.children,l=Object.entries(t.active).map(function(e){return r.a.createElement("button",{type:"button",onClick:n,className:-1!==a.indexOf(e[0])?ee.btn+ee.active:ee.btn,value:e[0],key:e[0]},e[1].name)});return s&&l.push(s),l}),ae={wrapper:"flex flex-wrap justify-center -mx-2 md:mx-0 md:flex",heading:H+" w-full -mb-1 text-lg"},ne=Object(o.b)(function(e){return{sharksFilter:e.filter.sharksFilter,sharks:e.sharks.sharks}},{sharksFilterChanged:function(e){return{type:"sharks_filter_changed",payload:e}}})(function(e){var t=e.filterView,a=e.sharksFilter,n=e.sharksFilterChanged;return r.a.createElement("div",{className:"sharks"===t?ae.wrapper:ae.wrapper+" hidden"},r.a.createElement("h4",{className:ae.heading},"WHO IS ",r.a.createElement("em",null,"NOT")," HERE?"),r.a.createElement(te,{handleChange:function(e){return n(e.target.value)},checkedCondition:a}))}),re={hideBtn:V+" w-full mx-auto my-1",sortBtn:V+" flex-grow w-full mx-auto my-1 md:w-auto md:mx-1",active:z,heading:H+" underline text-xl",wrapper:"\n    max-420 fixed bottom-0 w-11/12 ml-1/2 translate-1/2 flex p-4\n    bg-white shadow-xl z-10 transition-md\n    md:overflow-y-scroll md:static md:m-0 md:transform-none md:h-full md:w-1/2\n    md:flex-col md:justify-around md:z-inherit\n  ",sortWrapper:"\n    flex flex-col justify-between\n    w-1/3 pl-3 min-h-0\n    border-l-2 border-gray-700\n    md:w-full md:border-none md:pl-0 md:flex-row\n  ",closeBtn:"\n    absolute top-0 left-0\n    ml-half -mt-4 px-2 pt-1\n    border border-black rounded-lg\n    text-xl leading-none bg-white\n    md:hidden\n  "},se=Object(o.b)(function(e){var t=e.filter;return{vocalsFilter:t.vocalsFilter,sharksFilter:t.sharksFilter,statusFilter:t.statusFilter,sortType:t.sortType,isCoverFilter:t.isCoverFilter,isFilterDisplay:t.isFilterDisplay}},{coverFilterChanged:function(e){return{type:"cover_filter_changed",payload:e}},filterDisplayChanged:function(e){return{type:"filter_display_changed",payload:e}},sortTypeChanged:function(e){return{type:"sort_type_changed",payload:e}}})(function(e){var t=e.vocalsFilter,a=e.sharksFilter,s=e.statusFilter,l=e.sortType,i=e.isCoverFilter,o=e.isFilterDisplay,c=e.coverFilterChanged,u=e.filterDisplayChanged,d=e.sortTypeChanged,m=(e.sharks,Object(n.useState)("status")),g=Object(M.a)(m,2),h=g[0],b=g[1],f=function(e){b(e.target.value)},p=function(e,t){var a="mx-1 px-1 py-2 font-futura uppercase border-black border-2";return h===e?a+re.active:t?a+" bg-pink":a};return r.a.createElement("div",{className:o?re.wrapper:re.wrapper+" hideFilter"},r.a.createElement("div",{className:"w-2/3 pr-4 md:w-full md:pr-0"},r.a.createElement("h3",{className:re.heading+" md:hidden"},"FILTER"),r.a.createElement("nav",{id:"nav-filter",className:"py-2 md:hidden flex justify-center"},r.a.createElement("button",{type:"button",id:"status",onClick:f,className:p("status",s),value:"status"},"STATUS"),r.a.createElement("button",{type:"button",id:"vocals",onClick:f,className:p("vocals",t),value:"vocals"},"VOX"),r.a.createElement("button",{type:"button",id:"covers",onClick:f,className:p("sharks",a),value:"sharks"},"SHARKS")),r.a.createElement(Z,{filterView:h}),r.a.createElement($,{filterView:h}),r.a.createElement(ne,{filterView:h})),r.a.createElement("div",{className:re.sortWrapper},r.a.createElement("div",{className:"md:w-1/2 md:pr-1 md:flex md:flex-wrap"},r.a.createElement("h3",{className:re.heading+" w-full"},"SORT"),r.a.createElement("button",{type:"button",onClick:function(){return d("newest")},className:"newest"===l?re.sortBtn+re.active:re.sortBtn},"New"),r.a.createElement("button",{type:"button",onClick:function(){return d("oldest")},className:"oldest"===l?re.sortBtn+re.active:re.sortBtn},"Old")),r.a.createElement("div",{className:"md:w-1/2 md:pl-1"},r.a.createElement("h3",{className:re.heading},"HIDE"),r.a.createElement("button",{id:"covers",onClick:function(){return c()},className:i?re.hideBtn:re.hideBtn+re.active,type:"button"},"Covers"))),r.a.createElement("button",{type:"button",onClick:function(){return u()},className:o?re.closeBtn:re.closeBtn+" flipRotate"},"^"))}),le=Object(o.b)(function(e){var t=e.filter;return{vocalsFilter:t.vocalsFilter,sharksFilter:t.sharksFilter,statusFilter:t.statusFilter,sortType:t.sortType,isCoverFilter:t.isCoverFilter,songs:e.songs.songs}})(function(e){var t=e.songs,a=e.sortType,n=e.isCoverFilter,s=e.statusFilter,l=e.vocalsFilter,i=e.sharksFilter,o=e.setList,c=e.onClick,u=function(e){var t=Object.values(e);if(n||(t=t.filter(function(e){return void 0===e.isCover||!1===e.isCover})),o&&(t=t.filter(function(e){return-1===o.indexOf(e.id)})),s&&(t=t.filter(function(e){return-1!==s.indexOf(e.status)})),i){var r=i.split(", ");t=t.filter(function(e){var t=!0;return r.forEach(function(a){new RegExp(a).test(e.reqSharks)&&(t=!1)}),t})}return l&&(t=t.filter(function(e){return-1!==e.vox.indexOf(l)})),a?"newest"===a?t=t.sort(function(e,t){return t.dob-e.dob}):"oldest"===a&&(t=t.sort(function(e,t){return e.dob-t.dob})):t=t.sort(function(e,t){return e.name.toUpperCase()>t.name.toUpperCase()?1:-1}),t}(t);return r.a.createElement("ul",{className:q.wrapper},u.map(function(e){return r.a.createElement("li",{key:e.name},r.a.createElement("button",{type:"button",onClick:c,value:e.id,className:q.btn},e.name))}))}),ie=function(e){var t=e.className,a=e.setList,n=e.onClick,s=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t||"relative w-full md:w-1/2"},r.a.createElement(le,{setList:a,onClick:n}),s),r.a.createElement(se,null))},oe="\n    block w-2/3 mx-auto mb-4 p-2 text-xl\n    border-4 border-double border-black rounded-lg\n    disabled:border-gray-500 disabled:text-gray-500\n  ",ce=function(e){var t=e.onYes,a=e.onNo,n=e.message,s=e.isDisabled;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"text-center font-bold text-2xl"},n),r.a.createElement("button",{id:"proceed",onClick:t,className:oe,disabled:s},"Proceed"),r.a.createElement("button",{id:"cancelBtn",onClick:a,className:oe,disabled:s},"Cancel"))},ue=function(e){if(""===e)return"";if("string"===typeof e)return new Date(e).getTime();if("number"===typeof e){var t=new Date(e),a=t.getMonth()+1;a=1===a.toString().length?"0"+a:a;var n=t.getFullYear(),r=t.getDate();return r=1===r.toString().length?"0"+r:r,"".concat(a,"/").concat(r,"/").concat(n)}},de=function(e,t){return Object.entries(t).filter(function(t){return t[0]===e})[0][1].name},me=function(e){var t=e.date,a=e.name,s=e.labelText,l=e.storeDate,i=Object(n.useState)(null),o=Object(M.a)(i,2),c=o[0],u=o[1];return r.a.createElement("label",{className:X.label,style:{gridArea:a}},s,r.a.createElement("input",{name:a,onChange:function(e){return t=e.target.value,void(/^[0-1][0-9]\/[0-3][0-9]\/[1-2][0-9][0-9][0-9]$/.test(t)?(u(null),l(ue(t))):u(t));var t},value:c||ue(t),className:X.input,placeholder:"mm/dd/yyyy"}))};var ge=function(e){return function(t){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(y.a)(this,(e=Object(k.a)(a)).call.apply(e,[this].concat(r)))).state={shouldRender:t.props.isMounted,isUnmounting:!1},t}return Object(x.a)(a,t),Object(v.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;e.isMounted&&!this.props.isMounted?(this.setState({isUnmounting:!0}),setTimeout(function(){return t.setState({shouldRender:!1})},this.props.delayTime)):!e.isMounted&&this.props.isMounted&&this.setState({shouldRender:!0,isUnmounting:!1})}},{key:"render",value:function(){return this.state.shouldRender?r.a.createElement(e,Object.assign({isUnmounting:this.state.isUnmounting},this.props)):null}}]),a}(r.a.Component)},he="\n    fixed top-0 left-0\n    h-mainWrapper-full w-full\n    z-10 mt-16\n    bg-black-opaque\n  ",be="\n    absolute top-0 right-0 w-11/12 md:w-10/12 h-full max-w-666\n    bg-white shadow-card animation-slideIn transition-md\n  ",fe="\n    absolute bottom-0 left-0 mb-y-center -ml-6\n    border border-black rounded-sm\n    shadow-card p-2 bg-white leading-none\n  ",pe=function(e){var t=e.handleExit,a=e.children,n=e.isUnmounting,s=e.classNames,l=n?"".concat(s," ").concat(be," slideOut"):"".concat(s," ").concat(be),i=n?he+" fadeOut":he;return r.a.createElement("div",{id:"halfModalBG",className:i,onClick:t},r.a.createElement("div",{className:l},a,r.a.createElement("button",{id:"detailExit",type:"button",onClick:t,className:fe},">")))},ve=function(e){var t=e.isEdit,a=e.className,n=(e.title,e.handleCreate),s=e.handleEdit,l=e.createValidation,i=e.editValidation,o=t?s:n;return r.a.createElement("button",{className:a,onClick:o,disabled:t?!i:!l,style:{gridArea:"submit"}},t?"save edits":"create")},ye=function(e){var t=e.text,a=e.type,s=e.dismiss,l=Object(n.useState)(!1),i=Object(M.a)(l,2),o=i[0],c=i[1],u="\n    max-420 fixed top-0 left-0 w-11/12\n    mt-2 ml-1/2 translate-1/2 z-100\n    p-4 bg-pink shadow-xl font-bold text-center text-lg\n    border-4 border-currentColor rounded-10\n    animation-fadeIn\n  ";"error"===a&&(u+=" text-red");var d=function(){c(!0),setTimeout(s,300)},m=setTimeout(d,7e3);return r.a.createElement("div",{className:o?u+=" fadeOut":u,onClick:function(){clearTimeout(m),d()}},t)},ke={modalInner:"\n    w-10/12 h-10/12\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  ",modalBG:"\n    fixed top-0 left-0\n    w-full h-screen z-100\n    bg-black-opaque\n    flex items-center justify-center\n  "},xe=document.getElementById("modal"),Ee=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).handleExit=function(e){"modal"===e.target.id&&a.props.exit()},a.el=document.createElement("div"),a.el.classList=e.innerStyles||ke.modalInner,a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){xe.appendChild(this.el),xe.addEventListener("click",this.handleExit),xe.classList=ke.modalBG}},{key:"componentWillUnmount",value:function(){xe.removeChild(this.el),xe.removeEventListener("click",this.handleExit),xe.classList=""}},{key:"render",value:function(){return l.a.createPortal(this.props.children,this.el)}}]),t}(r.a.Component),we="relative text-left text-sm border border-black rounded-lg shadow-card p-2",Se="absolute top-0 left-0 ml-2 mt-2 text-lg text-left leading-none",Oe="\n    h-full\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  ",je="\n    block w-full h-11/12 mt-2 p-4\n    border border-black font-monospace text-lg\n  ",Ne=function(e){var t=e.lyrics,a=e.storeLyrics,s=Object(n.useState)(!1),l=Object(M.a)(s,2),i=l[0],o=l[1],c=Object(n.useState)(""),u=Object(M.a)(c,2),d=u[0],m=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{style:{gridArea:"lyrics"},className:t?we+" bg-pink":we,onClick:function(){return o(!i)}},r.a.createElement("span",{className:Se},"Lyrics / ",r.a.createElement("br",null),"Chords")),i&&r.a.createElement(Ee,{innerStyles:"w-10/12 h-10/12",exit:function(){d&&a(d),m(""),o(!i)}},r.a.createElement("label",{className:Oe},"lyrics / chords",r.a.createElement("textarea",{name:"lyrics",className:je,onChange:function(e){return m(e.target.value)},value:d||t}))))},Ce="relative text-left text-sm border border-black rounded-lg shadow-card p-2",_e="absolute top-0 left-0 mt-2 ml-2",Fe="block text-xl mt-3 -mb-1",De="\n    w-10/12 h-10/12\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  ",Le="\n    relative m-1 p-3\n    border border-black rounded-10\n    btn-toggle\n  ",Ie=function(e){var t=e.vox,a=e.storeVox,s=e.sharks,l=Object(n.useState)(!1),i=Object(M.a)(l,2),o=i[0],c=i[1],u=Object(n.useState)(""),m=Object(M.a)(u,2),g=m[0],h=m[1],b=function(e){var a,n=g||t;a="instrumental"===e.target.value?"instrumental"===n?"":"instrumental":"instrumental"===n?e.target.value:d(e.target.value,n),h(a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{style:{gridArea:"vocals"},className:Ce,onClick:function(){return c(!o)}},r.a.createElement("span",{className:_e},"vocalist"),r.a.createElement("span",{className:Fe},""===t?"":t.split(", ").map(function(e){return"instrumental"!==e&&"gang"!==e?de(e,s.active):e}).join(", "))),o&&r.a.createElement(Ee,{innerStyles:De,exit:function(){g&&a(g),h(""),c(!o)}},r.a.createElement(te,{checkedCondition:g||t,handleChange:b},r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:b,className:/gang/.test(g||t)?Le+" bg-deeppink text-white shadow-sm":Le,value:"gang",key:"gang"},"Gang"),r.a.createElement("button",{type:"button",onClick:b,className:/instrumental/.test(g||t)?Le+" bg-deeppink text-white shadow-sm":Le,value:"instrumental",key:"instrumental"},"Instrumental")))))},Ae={audio:X.label+" block mb-4",inputLG:X.input,iframe:X.label+" relative w-full h-80px",modalInner:P,submitBtn:J+" mb-4 mx-auto",embedBtn:"\n    absolute top-0 right-0 mt-2 mr-2 h-10/12\n    rounded-10 px-2 btn-toggle border border-currentColor\n    leading-tight\n  "},Ue=function(e){var t=e.audioObj,a=e.name,s=e.storeAudio,l=Object(n.useState)(!1),i=Object(M.a)(l,2),o=i[0],c=i[1],u=Object(n.useState)(""),d=Object(M.a)(u,2),m=d[0],g=d[1],h=Object(n.useState)(""),b=Object(M.a)(h,2),f=b[0],p=b[1],v=function(){p(""),g(""),c(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ae.iframe,style:{gridArea:"audio"}},function(){if(t&&t.host){if("soundcloud"===t.host){var e="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/".concat(t.trackID,"&color=%23ff5500&auto_play=false&hide_related=false&show_comments=false&show_user=false&show_reposts=false&show_teaser=false");return r.a.createElement("iframe",{className:"w-10/12 h-full",title:"soundcloud",src:e})}var n="https://bandcamp.com/EmbeddedPlayer/size=small/bgcol=ffffff/linkcol=0687f5/track=".concat(t.trackID,"/transparent=true/");return r.a.createElement("iframe",{className:"w-10/12 h-full",title:"bandcamp",src:n},r.a.createElement("p",null,a))}}(),r.a.createElement("button",{type:"button",className:Ae.embedBtn,onClick:function(){return c(!o)}},"add ",r.a.createElement("br",null)," embed")),o&&r.a.createElement(Ee,{innerStyles:"w-10/12 h-10/12 bg-white px-5 p-2",exit:v},r.a.createElement("h2",{className:"text-center font-futura text-2xl"},"Add audio embed from Soundcloud or Bandcamp"),r.a.createElement("p",{className:"text-center text-xl"},"To remove the current embed, submit a blank input"),r.a.createElement("p",{className:"text-center text-xl mt-2"},"To permanently store this embed, you ",r.a.createElement("strong",null,"must "),"save edits on the song\u2019s page"),r.a.createElement("form",{className:"mt-2",onSubmit:function(e){return function(e){var t;if(e.preventDefault(),m||(s(null),v()),/bandcamp/i.test(m))t="bandcamp";else{if(!/soundcloud/i.test(m))return p("invalid embed"),!1;t="soundcloud"}var a=/tracks?[=/](\d+)/.exec(m)[1];s({host:t,trackID:a}),v()}(e)},style:{gridArea:"audio"}},f&&r.a.createElement("p",{className:"font-bold"},f),r.a.createElement("label",{className:Ae.audio},"enter entire embed code",r.a.createElement("input",{name:"newAudio",onChange:function(e){return function(e){p(""),g(e.target.value)}(e)},value:m,className:Ae.inputLG})),r.a.createElement("button",{className:Ae.submitBtn},"Submit"),r.a.createElement("button",{className:Ae.submitBtn,type:"button",onClick:v},"Cancel"))))},Te="relative text-left text-sm border border-black rounded-lg shadow-card p-2",Ge="absolute top-0 left-0 ml-2 mt-2 text-lg text-left leading-none",Be="\n    h-full\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  ",Me=function(e){var t=e.reqSharks,a=e.storeReqSharks,s=e.sharks,l=Object(n.useState)(!1),i=Object(M.a)(l,2),o=i[0],c=i[1],u=Object(n.useState)(""),m=Object(M.a)(u,2),g=m[0],h=m[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:t?Te+" bg-pink":Te,style:{gridArea:"required"},onClick:function(){return c(!o)}},r.a.createElement("span",{className:Ge},"Required Sharks")),o&&r.a.createElement(Ee,{innerStyles:Be,exit:function(){g&&a(g),h(""),c(!o)}},r.a.createElement("h3",{className:"font-futura font-bold w-full text-2xl text-center"},"WHO IS REQUIRED?"),r.a.createElement(te,{checkedCondition:g||t,handleChange:function(e){h(d(e.target.value,g||t))},sharks:s})))},Re={wrapper:"grid-song h-full w-full p-4",label:X.label,cover:"absolute top-0 right-0 mt-6 mr-8 text-sm md:mr-10 lg:mr-20",addSong:W.topSmall,btnSubmit:J,inputXL:X.input,modalInnerSm:P,heading:H+" text-2xl my-1"},qe=ge(Object(o.b)(function(e){var t=e.songs;return{songs:t.songs,message:t.message,detailedSong:t.detailedSong,gigs:e.gigs.gigs,sharks:e.sharks.sharks}},{songAudioChanged:function(e){return{type:"audio_update",payload:e}},songCreate:function(e,t){return S(e,t.name,t.id)?function(e){w.a.database().ref("songs").push().then(function(a){t.id=a.key,w.a.database().ref(a).update(t).then(function(){e({type:"song_create",payload:t})})}).catch(function(t){e({type:"song_error",payload:t.message})})}:{type:"song_error",payload:"Song names must be unique"}},songDateChanged:function(e){return{type:"song_date_update",payload:e}},songDelete:function(e){return function(t){w.a.database().ref("songs/".concat(e)).remove().then(function(){t({type:"song_delete"})}).catch(function(e){t({type:"song_error",payload:e.message})})}},songLyricsChanged:function(e){return{type:"lyrics_update",payload:e}},songMessageChanged:function(e){return{type:"song_error",payload:e}},songReqSharksChanged:function(e){return{type:"reqsharks_update",payload:e}},songUpdate:function(e,t){return S(e,t.name,t.id)?function(e){w.a.database().ref("songs/".concat(t.id)).update(t).then(function(){e({type:"song_update",payload:t.id})}).catch(function(t){console.log(t),e({type:"song_error",payload:t.message})})}:{type:"song_error",payload:"Song names must be unique"}},songVoxChanged:function(e){return{type:"vox_update",payload:e}}})(function(e){var t=e.sharks,a=e.songs,s=e.gigs,l=e.detailedSong,i=e.songAudioChanged,o=e.songCreate,c=e.songDateChanged,u=e.songDelete,d=e.songLyricsChanged,m=e.songMessageChanged,g=e.songReqSharksChanged,h=e.songUpdate,b=e.songVoxChanged,f=(e.error,e.message),p=e.isUnmounting,v=e.exit,y=Object(n.useState)(""),k=Object(M.a)(y,2),x=k[0],E=k[1],w=Object(n.useState)(l.name),S=Object(M.a)(w,2),O=S[0],j=S[1],N=Object(n.useState)(l.isCover),C=Object(M.a)(N,2),_=C[0],F=C[1],D=Object(n.useState)(!!l.id),L=Object(M.a)(D,2),I=L[0],A=L[1],U=Object(n.useState)(!1),T=Object(M.a)(U,2),G=T[0],B=T[1],R=function(){var e=Object.values(s),a=l.id;if(!a)return!1;var n=0;e.forEach(function(e){-1!==e.setList.indexOf(a)&&n++});var r=Object.values(t.active),i=0;return r.forEach(function(e){e.favSongs&&-1!==e.favSongs.indexOf(a)&&i++}),{gig:n,sharkFav:i}}();return r.a.createElement(pe,{handleExit:v,classNames:"songWrapper",isUnmounting:p},f&&r.a.createElement(ye,{text:f.text,type:f.type,dismiss:function(){m("")}}),r.a.createElement("div",{className:Re.wrapper},r.a.createElement("label",{className:Re.label,style:{gridArea:"name"}},"name",r.a.createElement("input",{onChange:function(e){return j(e.target.value)},value:O,className:Re.inputXL})),l.id&&r.a.createElement("p",{style:{gridArea:"stats"}},"This song is found in ",R.gig," gigs"),r.a.createElement(me,{labelText:"Date of birth",name:"dob",storeDate:c,date:l?l.dob:""}),r.a.createElement("label",{className:Re.label,style:{gridArea:"status"}},"status",r.a.createElement("select",{name:"status",onChange:function(e){return E(e.target.value)},value:x||l.status,className:Re.inputXL},r.a.createElement("option",{value:"solid"},"solid"),r.a.createElement("option",{value:"shakey"},"shakey"),r.a.createElement("option",{value:"inactive"},"inactive"),r.a.createElement("option",{value:"retired"},"retired"),r.a.createElement("option",{value:"idea"},"idea"))),r.a.createElement(Ie,{vox:l.vox,sharks:t,storeVox:b}),r.a.createElement(Ue,{audioObj:l.audio,name:O,storeAudio:i}),r.a.createElement(Ne,{lyrics:l.lyrics,storeLyrics:d}),r.a.createElement(Me,{reqSharks:l.reqSharks,sharks:t,storeReqSharks:g}),r.a.createElement(ve,{isEdit:I,className:Re.btnSubmit,handleCreate:function(){var e=l.dob,t=l.lyrics,n=l.vox,r=l.reqSharks,s={audio:l.audio,dob:e,id:l.id,name:O,vox:n,status:x,isCover:_,lyrics:t,reqSharks:r};A(!0),o(a,s)},handleEdit:function(){var e=l.audio,t=l.dob,n=l.id,r=l.lyrics,s=l.reqSharks,i=l.vox,o={audio:e,dob:t,id:n,isCover:_,lyrics:r,name:O||l.name,reqSharks:s,status:x||l.status,vox:i};h(a,o)},createValidation:O,editValidation:!0}),r.a.createElement("button",{style:{gridArea:"delete"},onClick:function(){R.gig||R.sharkFav?m("You can not delete a song that is included in a setlist or A Sharks\u2019 Dozen list"):l.id?B(!0):m("You can\u2019t delete a song that hasn\u2019t been made")}},"Delete Song"),r.a.createElement("label",{className:Re.cover},_?"cover":"original",r.a.createElement("input",{type:"checkbox",className:"invisible",onChange:function(){return F(!_)},checked:_}))),G&&r.a.createElement(Ee,{innerStyles:Re.modalInner,exit:B},r.a.createElement(ce,{onYes:function(){v(),u(l.id)},onNo:function(){return B()},message:"Are you sure you want to delete this song?"})))})),We=Object(o.b)(function(e){return{detailedSong:e.songs.detailedSong}},{detailedSongChanged:function(e){return{type:"detailed_song_changed",payload:e}}})(function(e){var t=e.detailedSongChanged,a=(e.detailedSong,e.authUser),s=Object(n.useState)(!1),l=Object(M.a)(s,2),i=l[0],o=l[1];return r.a.createElement("main",{className:"h-mainWrapper flex bg-tan shadow-inset"},r.a.createElement(ie,{onClick:function(e){return a=e.target.value,t(a),void o(!0);var a}},a&&navigator.onLine&&r.a.createElement("button",{className:"absolute top-0 right-0 mt-2 mr-2 h-16 w-16 rounded-full p-1 bg-tan border border-black leading-none shadow-slategray",onClick:function(){t({audio:"",dob:"",id:"",isCover:!1,lyrics:"",name:"",reqSharks:"",status:"",vox:""}),o(!0)}},"new song")),r.a.createElement(qe,{delayTime:300,isMounted:i,exit:function(e){var t=document.querySelector("#halfModalBG"),a=document.querySelector("#detailExit");e&&e.target!==t&&e.target!==a||o(!1)}}))}),Pe=a(97),Ve=a(50),ze="border border-gray-700 px-2 mb-1 ml-1 text-left",Ye=" flex-grow",He=Object(o.b)(function(e){var t=e.songs.songs;return{sharks:e.sharks.sharks,songs:t}})(function(e){var t=e.songs,a=e.setList,s=e.storeSetList,l=(e.authUser,Object(n.useState)(!1)),i=Object(M.a)(l,2),o=i[0],c=i[1],u=function(e){var t=parseInt(e.target.value);a.splice(t,1),s(a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve.a,{onDragEnd:function(e){if(e.destination){var t=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),s=Object(M.a)(r,1)[0];return n.splice(a,0,s),n}(a,e.source.index,e.destination.index);s(t)}}},r.a.createElement(Ve.c,{droppableId:"droppable"},function(e,n){return r.a.createElement("ol",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"h-full overflow-y-scroll lastItem-mb-sm"}),a.map(function(e,a){return r.a.createElement(Ve.b,{key:e,draggableId:e,index:a},function(n,s){return r.a.createElement("li",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{className:"flex"}),r.a.createElement("span",{className:ze+Ye},a+1,") ",de(e,t)),r.a.createElement("button",{type:"button",value:a,onClick:u,className:ze},"x"))})}),e.placeholder)})),r.a.createElement("button",{onClick:function(){return c(!0)},type:"button",className:"\n    absolute top-0 right-0 mr-2\n    h-12 w-12 p-1\n    text-sm leading-none\n    bg-tan shadow-slategray\n    border border-black rounded-full\n  "},"Add Song"),o&&r.a.createElement(Ee,{innerStyles:"flex bg-tan shadow-inset w-full h-full",exit:function(){c(!1)}},r.a.createElement(ie,{onClick:function(e){var t=[].concat(Object(Pe.a)(a),[e.target.value]);c(!1),s(t)},setList:a})))}),Xe={modalInner:P,addBtn:W.topSmall},Je=function(e){var t=e.item;if("photo"===t.type)return r.a.createElement("img",{className:"block mx-auto mb-1",src:t.src,alt:""})},Ke=Object(o.b)(function(e){return{detailedGig:e.gigs.detailedGig}},{gigMessageChanged:O,gigMediaAdded:function(e,t){return function(a){var n=w.a.database().ref("gigs/".concat(t,"/media")).push(e).then(function(){a({type:"gig_media_added",key:n.key,payload:e})})}},gigMediaDeleted:function(e,t){return function(a){w.a.database().ref("gigs/".concat(e,"/media/").concat(t)).remove().then(function(){a({type:"gig_media_deleted",payload:t})}).catch(function(e){a({type:"gig_error",payload:"fuck"})})}}})(function(e){var t=e.gigMediaAdded,a=e.gigMediaDeleted,s=e.gigMessageChanged,l=e.detailedGig,i=(e.authUser,Object(n.useState)(!1)),o=Object(M.a)(i,2),c=o[0],u=o[1],d=Object(n.useState)(!1),m=Object(M.a)(d,2),g=m[0],h=m[1],b=Object(n.useState)(null),f=Object(M.a)(b,2),p=f[0],v=f[1],y=Object(n.useState)(""),k=Object(M.a)(y,2),x=k[0],E=k[1],w=Object(n.useState)(null),S=Object(M.a)(w,2),O=S[0],j=S[1],N=l.media?Object.entries(l.media):[],C=function(e){j(e.target.value),h(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"h-full overflow-y-scroll flex flex-col"},p&&r.a.createElement("p",null,p),N.map(function(e){return r.a.createElement("div",{className:"relative mx-auto",style:{maxWidth:"500px"},key:e[0]},r.a.createElement(Je,{item:e[1]}),r.a.createElement("button",{value:e[0],onClick:C,className:"absolute right-0 top-0 ml-2 text-xl px-2 border-2 border-white text-white"},"\xd7"))}),r.a.createElement("button",{onClick:function(){if(!l.id)return s("You must create the gig first before adding media"),!1;u(!0)},type:"button",className:Xe.addBtn},"Add Media")),c&&r.a.createElement(Ee,{innerStyles:Xe.modalInner,exit:function(){return u(!1)}},r.a.createElement("h2",{className:"text-center mb-4 font-futura"},"Please enter the source of the photo"),r.a.createElement("form",{className:"p-2"},r.a.createElement("input",{onChange:function(e){return E(e.target.value)},value:x,className:"block text-lg mb-4 p-2 w-full border-black border-2"}),r.a.createElement("button",{onClick:function(e){if(e.preventDefault(),N.filter(function(e){return e[1].src===x}).length)return v("That media is already added"),u(!1),!1;t({type:"photo",src:x},l.id),u(!1)},type:"submit",className:"border-black border-2 text-lg block mx-auto p-2 rounded-lg"},"save picture"))),g&&r.a.createElement(Ee,{innerStyles:Xe.modalInner,exit:function(){return h(!1)}},r.a.createElement(ce,{onYes:function(){a(l.id,O),h(!1)},onNo:function(){return h(!1)},message:"Are you sure you want to delete this media item?",disabled:!1})))}),Ze={wrapper:"grid-gig h-full w-full p-4",label:X.label,addSong:W.topSmall,btnSubmit:J,inputXL:X.input,modalInnerSm:P,heading:H+" text-2xl my-1"},Qe=Object(o.b)(function(e){var t=e.gigs;return{message:t.message,detailedGig:t.detailedGig}},{gigCreate:function(e){return function(t){w.a.database().ref("gigs").push().then(function(a){e.id=a.key,w.a.database().ref(a).update(e).then(function(){t({type:"gig_create",payload:e})})}).catch(function(e){t({type:"gig_error",payload:e.message})})}},gigDelete:function(e){return function(t){w.a.database().ref("gigs/".concat(e)).remove().then(function(){t({type:"gig_delete"})}).catch(function(e){console.log(e),t({type:"gig_error",payload:e.message})})}},gigUpdate:function(e){return function(t){w.a.database().ref("gigs/".concat(e.id)).update(e).then(function(){t({type:"gig_update",payload:e.id})}).catch(function(e){console.log(e),t({type:"gig_error",payload:e.message})})}},gigMessageChanged:O,gigDateChanged:function(e){return{type:"gig_date_update",payload:e}},gigSetListUpdated:function(e){return{type:"gig_setlist_update",payload:e}}})(function(e){var t=e.detailedGig,a=e.gigCreate,s=e.gigDelete,l=e.gigUpdate,i=e.gigDateChanged,o=(e.gigSetListChanged,e.gigMessageChanged),c=e.gigSetListUpdated,u=e.message,d=e.authUser,m=e.isUnmounting,g=e.exit,h=Object(n.useState)(t.location),b=Object(M.a)(h,2),f=b[0],p=b[1],v=Object(n.useState)(t.media?"media":"setList"),y=Object(M.a)(v,2),k=y[0],x=y[1],E=Object(n.useState)(!!t.id),w=Object(M.a)(E,2),S=w[0],O=w[1],j=Object(n.useState)(!1),N=Object(M.a)(j,2),C=N[0],_=N[1];return r.a.createElement(pe,{handleExit:g,classNames:"gigWrapper",isUnmounting:m},u&&r.a.createElement(ye,{text:u.text,type:u.type,dismiss:function(){o("")}}),r.a.createElement("div",{className:Ze.wrapper},r.a.createElement("label",{className:Ze.label,style:{gridArea:"where"}},"location",r.a.createElement("input",{onChange:function(e){return p(e.target.value)},value:f,className:Ze.inputXL})),r.a.createElement(me,{labelText:"Date",name:"when",storeDate:i,date:t?t.date:""}),r.a.createElement("div",{className:"relative overflow-hidden",style:{placeSelf:"stretch",gridArea:"what"}},r.a.createElement("h3",{className:Ze.heading},r.a.createElement("button",{onClick:function(e){return x("media")},className:"media"===k?"underline font-bold mr-5":"mr-5"},"MEDIA"),r.a.createElement("button",{onClick:function(e){return x("setList")},className:"setList"===k?"underline font-bold":""},"SETLIST")),"setList"===k?r.a.createElement(He,{setList:t.setList?t.setList.split(","):[],storeSetList:c}):r.a.createElement(Ke,null)),r.a.createElement(ve,{isEdit:S,className:Ze.btnSubmit,handleCreate:function(){var e={date:t.date,location:f,setList:t.setList};O(!0),a(e)},handleEdit:function(){var e={setList:t.setList,location:f||t.location,date:t.date,id:t.id};l(e)},createValidation:f,editValidation:!0}),d&&r.a.createElement("button",{style:{gridArea:"delete"},onClick:function(){return _(!0)}},"Delete Gig")),C&&r.a.createElement(Ee,{innerStyles:Ze.modalInnerSm,exit:function(){return _(!1)}},r.a.createElement(ce,{onYes:function(){g(),s(t.id)},onNo:function(){return _(!1)},message:"Are you sure you want to delete this gig?"})))}),$e=q,et="\n    px-1 rounded-full font-monospace text-xl\n    text-shadow\n  ",tt=Object(o.b)(function(e){var t=e.gigs;return{gigs:t.gigs,detailedGig:t.detailedGig}})(function(e){var t=e.gigs,a=(e.detailedGig,e.showDetail),n=Object.entries(t).sort(function(e,t){return t[1].date-e[1].date}),s=function(e){var t=e.target.value?e.target.value:e.target.parentNode.value;a(t)};return r.a.createElement("ul",{className:$e.wrapper},n.map(function(e){return r.a.createElement("li",{className:"relative",key:e[0]},r.a.createElement("button",{onClick:s,className:$e.btn,value:e[0]},r.a.createElement("span",{className:"font-monospace"},ue(e[1].date)," "),r.a.createElement("span",null,e[1].location)),r.a.createElement("span",{className:"absolute right-0 mr-2 mt-1"},e[1].media&&r.a.createElement("span",{role:"img","aria-label":"media available",className:et},"\ud83d\uddbc"),!!e[1].setList.length&&r.a.createElement("span",{role:"img","aria-label":"setlist available",className:et},"\ud83d\udcc4")))}))}),at=R,nt=W,rt=ge(Qe),st=Object(o.b)(function(e){return{detailedGig:e.gigs.detailedGig}},{detailedGigChanged:function(e){return{type:"detailed_gig_changed",payload:e}}})(function(e){var t=e.detailedGigChanged,a=(e.detailedGig,e.authUser),s=Object(n.useState)(!1),l=Object(M.a)(s,2),i=l[0],o=l[1];return r.a.createElement("main",{className:at.outer},r.a.createElement("div",{className:at.inner},r.a.createElement(tt,{showDetail:function(e){t(e),o(!0)}}),a&&navigator.onLine&&r.a.createElement("button",{className:nt.topLarge,onClick:function(){t({date:"",location:"",setList:""}),o(!0)}},"new gig")),r.a.createElement(rt,{delayTime:300,authUser:a,isMounted:i,exit:function(e){var t=document.querySelector("#halfModalBG"),a=document.querySelector("#detailExit");e&&e.target!==t&&e.target!==a||o(!1)}}))}),lt=J,it=X,ot=Y,ct="grid-shark overflow-y-scroll h-full w-full p-4",ut=Object(o.b)(function(e){var t=e.sharks;return{detailedShark:t.detailedShark,message:t.message}},{sharkFavSongsChanged:function(e){return{type:"shark_setlist_update",payload:e}},sharkDateChanged:function(e){return{type:"shark_date_update",payload:e}},sharkUpdate:function(e){return function(t){w.a.database().ref("sharks/active/".concat(e.id)).update(e).then(function(){t({type:"shark_update",payload:e.id})}).catch(function(e){console.log(e),t({type:"shark_error",payload:e.message})})}},sharkMessageChanged:function(e){return{type:"shark_error",payload:e}}})(function(e){var t=e.authUser,a=e.detailedShark,s=e.sharkDateChanged,l=e.sharkFavSongsChanged,i=e.sharkUpdate,o=e.sharkMessageChanged,c=e.message,d=e.isUnmounting,m=e.exit,g=Object(n.useState)(a.name),h=Object(M.a)(g,2),b=h[0],f=h[1],p=t&&t.uid===a.id;return r.a.createElement(pe,{handleExit:m,classNames:"gigWrapper",isUnmounting:d},c&&r.a.createElement(ye,{text:c.text,type:c.type,dismiss:function(){o("")}}),r.a.createElement("div",{className:ct},r.a.createElement("label",{className:it.label},"Name",r.a.createElement("input",{onChange:function(e){return f(e.target.value)},value:b,className:it.input})),r.a.createElement(me,{labelText:"Shark Since",name:"when",storeDate:s,date:a?a.sharkSince:""}),r.a.createElement("div",{className:"overflow-y-scroll relative",style:{gridArea:"favs"}},r.a.createElement("h3",{className:ot.futura},"A SHARK\u2019S ",r.a.createElement("br",null),"DOZEN"),r.a.createElement(He,{setList:a.favSongs?a.favSongs.split(","):[],storeSetList:l})),p&&navigator.onLine&&r.a.createElement("button",{className:lt,type:"submit",style:{gridArea:"submit"},onClick:function(){var e=Object(u.a)({},a,{name:b||a.name});i(e)}},"save edits")))}),dt=q,mt=Y,gt=Object(o.b)(function(e){var t=e.sharks;return{sharks:t.sharks,detailedShark:t.detailedShark}})(function(e){var t=e.sharks,a=(e.detailedShark,e.showDetail),n=Object.entries(t.active),s=Object.entries(t.retired);return r.a.createElement("ul",{className:dt.wrapper},r.a.createElement("h3",{className:mt.futura},"ACTIVE"),n.map(function(e){return r.a.createElement("li",{key:e[0]},r.a.createElement("button",{onClick:a,className:dt.btn,value:e[0]},e[1].name))}),r.a.createElement("h3",{className:mt.futura},"RETIRED"),s.map(function(e){return r.a.createElement("li",{key:e[0]},r.a.createElement("button",{value:e[0],className:dt.btn},e[1].name))}))}),ht=ge(ut),bt=Object(o.b)(function(e){return{detailedShark:e.sharks.detailedShark}},{detailedSharkChanged:function(e){return{type:"detailed_sharks_changed",payload:e}}})(function(e){var t=e.detailedSharkChanged,a=(e.detailedShark,e.authUser),s=Object(n.useState)(!1),l=Object(M.a)(s,2),i=l[0],o=l[1];return r.a.createElement("main",{className:R.outer},r.a.createElement("div",{className:R.inner},r.a.createElement(gt,{showDetail:function(e){t(e.target.value),o(!0)}})),r.a.createElement(ht,{delayTime:300,authUser:a,isMounted:i,exit:function(e){var t=document.querySelector("#halfModalBG"),a=document.querySelector("#detailExit");e.target!==t&&e.target!==a||o(!1)}}))}),ft=a(35),pt={email:"",password:"",error:null,isPasswordSuccess:!1,isWaiting:!1},vt="block mb-4 p-2 border border-black shadow-card text-sm",yt="block w-full mt-2 text-xl",kt="\n    block w-full mb-4 p-2 text-2xl text-deeppink font-bold\n    border-4 border-double border-currentColor rounded-lg\n    disabled:border-gray-500 disabled:text-gray-500\n    songSubmit\n  ",xt=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(y.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state=Object(u.a)({},pt),a.handleSubmit=function(e){e.preventDefault(),a.setState({isWaiting:!0});var t=a.state,n=t.email,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,r).catch(function(e){a.setState({error:e,isWaiting:!1})})},a.handleForget=function(){a.setState({isWaiting:!0}),a.props.firebase.doPasswordReset(a.state.email).then(function(){return a.setState({isPasswordSuccess:!0,isWaiting:!1})}).catch(function(e){return a.setState({error:e,isWaiting:!1})})},a.handleChange=function(e){var t;a.setState((t={},Object(ft.a)(t,e.target.name,e.target.value),Object(ft.a)(t,"error",null),t))},a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,s=e.isPasswordSuccess,l=e.isWaiting,i=""===a||""===t;return r.a.createElement("div",{className:this.props.className},r.a.createElement("div",{className:s?"relative transition-lg isFlipped h-full":"h-full relative",style:{transformStyle:"preserve-3d"}},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"absolute w-full backface-hidden"},r.a.createElement("h3",{className:"font-futura text-center font-bold text-2xl mb-1"},"SIGN IN"),r.a.createElement("label",{className:vt},"email",r.a.createElement("input",{className:yt,disabled:l,inputmode:"email",onChange:this.handleChange,name:"email",type:"text",value:t})),r.a.createElement("label",{className:vt},"password",r.a.createElement("input",{className:yt,disabled:l,name:"password",onChange:this.handleChange,type:"password",value:a})),r.a.createElement("button",{disabled:i||l,type:"submit",className:kt},"SIGN IN"),r.a.createElement("button",{className:"w-full font-futura text-center disabled:text-gray-500",onClick:this.handleForget,disabled:!t,type:"button"},"FORGOT YOUR PASSWORD?"),n&&r.a.createElement("p",null,n.message)),r.a.createElement("div",{className:"absolute w-full h-full bg-white",style:{transform:"rotateY(180deg)",backfaceVisibility:"hidden"}},r.a.createElement("h2",{className:"font-metal text-4xl text-center"},"SUCCESS"),r.a.createElement("p",{className:"text-center font-futura text-xl"},"You will soon receive instructions to recover your account"))))}}]),t}(r.a.Component),Et={isLoadAnimation:!0,tab:"songs",isAuthDisplay:!1,authUser:null},wt="\n    w-10/12 h-10/12\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  ",St=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).endAnimation=function(){a.setState({isLoadAnimation:!1})},a.onClickNav=function(e){a.setState({tab:e.target.value})},a.onShowSignIn=function(){a.setState({isAuthDisplay:!0})},a.onModalClose=function(){a.setState({isAuthDisplay:!1})},a.renderMain=function(){switch(a.state.tab){case"songs":return r.a.createElement(We,{authUser:a.state.authUser});case"gigs":return r.a.createElement(st,{songs:a.props.songs,gigs:a.props.gigs,sharks:a.props.sharks,firebase:a.firebase,authUser:a.state.authUser});case"sharks":return r.a.createElement(bt,{songs:a.props.songs,sharks:a.props.sharks,firebase:a.firebase,authUser:a.state.authUser});default:return r.a.createElement(We,{authUser:a.state.authUser})}},a.state=Object(u.a)({},Et),a.firebase=new _,a}return Object(x.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.a.getItem("hasVisited").then(function(t){setTimeout(function(){return e.endAnimation()},t?0:3e3)}).then(function(){return N.a.setItem("hasVisited",!0)}),N.a.getItem("tab").then(function(t){t&&e.setState({tab:t})}),navigator.onLine?(this.props.songsFetch(),this.props.gigsFetch(),this.props.sharksFetch()):N.a.getItem("songs").then(function(t){if(t){var a=N.a.getItem("songs"),n=N.a.getItem("gigs"),r=N.a.getItem("sharks");Promise.all([a,n,r]).then(function(t){e.setState({songs:t[0],gigs:t[1],sharks:t[2]})})}}),window.addEventListener("beforeunload",function(){N.a.setItem("tab",e.state.tab)}),this.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t,isAuthDisplay:!1}):e.setState({authUser:null})})}},{key:"render",value:function(){var e=this.state.isLoadAnimation,t=this.props,a=t.songs,n=t.gigs,s=t.sharks,l=!(Object.entries(s).length&&Object.entries(a).length&&Object.entries(n).length);return r.a.createElement("div",{className:"h-screen overflow-hidden"},(e||l)&&r.a.createElement(B,null),!l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{onClickNav:this.onClickNav,tab:this.state.tab,authUser:this.state.authUser,firebase:this.firebase,onShowSignIn:this.onShowSignIn}),this.renderMain(),this.state.isAuthDisplay&&r.a.createElement(Ee,{innerStyles:wt,exit:this.onModalClose},r.a.createElement(xt,{className:"",firebase:this.firebase}))))}}]),t}(n.Component),Ot=Object(o.b)(function(e){return{songs:e.songs.songs,gigs:e.gigs.gigs,sharks:e.sharks.sharks}},{songsFetch:function(e){return function(e){w.a.database().ref("songs").on("value",function(t){e({type:"songs_fetch_success",payload:t.val()})})}},gigsFetch:function(e){return function(e){w.a.database().ref("gigs").on("value",function(t){e({type:"gigs_fetch_success",payload:t.val()})})}},sharksFetch:function(e){return function(e){w.a.database().ref("sharks").on("value",function(t){e({type:"sharks_fetch_success",payload:t.val()})})}}})(St),jt=Object(i.e)(f,{},Object(i.a)(c.a));l.a.render(r.a.createElement(o.a,{store:jt},r.a.createElement(Ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},98:function(e,t,a){e.exports=a(195)}},[[98,1,2]]]);
//# sourceMappingURL=main.5184570e.chunk.js.map