(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{191:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(27),i=a.n(r),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(98),a(99);var c=a(7),d=a(2),u=a(3),h=a(5),m=a(4),g=a(6),p=a(10),b=a.n(p),f=a(46),v=a.n(f),k=(a(146),a(148),{apiKey:"AIzaSyBo6CZWAvg8VUm_8bCOekfLWrafNAx16Fw",authDomain:"sharks-repertoire.firebaseapp.com",databaseURL:"https://sharks-repertoire.firebaseio.com",projectId:"sharks-repertoire",storageBucket:"sharks-repertoire.appspot.com",messagingSenderId:"355114391613"}),w=function e(){var t=this;Object(d.a)(this,e),this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.getSongs=function(){return t.db.ref("songs").once("value").then(function(e){return e.val()})},this.doCreateSong=function(e){var a=(new Date).getTime();return t.db.ref().update({songsLastUpdate:a}),t.db.ref().child("songs").push(e).key},this.doCreateGig=function(e){var a=(new Date).getTime();return t.db.ref().update({gigsLastUpdate:a}),t.db.ref().child("gigs").push(e).key},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},v.a.initializeApp(k),this.auth=v.a.auth(),this.db=v.a.database()},S="\n  block mx-4 p-1\n  text-white text-3xl hover:text-pink-300\n",x="\n  block mx-4 p-1\n  text-deeppink text-shadow text-3xl\n",E=function(e){var t=e.onClickNav,a=e.tab;return s.a.createElement("nav",{className:"flex justify-between font-metal w-full md:w-auto"},s.a.createElement("button",{onClick:t,value:"songs",className:"songs"===a?x:S},"Songs"),s.a.createElement("button",{onClick:t,value:"gigs",className:"gigs"===a?x:S},"Gigs"),s.a.createElement("button",{onClick:t,value:"sharks",className:"sharks"===a?x:S},"Sharks"))},y="\n  fixed bottom-0 right-0 mb-12 mr-5\n  h-16 w-16 rounded-full shadow-slategray p-1 bg-tan border border-black leading-none\n  md:static md:m-1 md:bg-white md:h-12 md:w-12 md:text-sm md:shadow-none\n  z-10\n",C=function(e){var t=e.onShowSignIn;return s.a.createElement("button",{type:"button",onClick:t,className:y},"Sign In")},N=function(e){var t=e.firebase;return s.a.createElement("button",{type:"button",className:y,onClick:t.doSignOut},"Sign Out")},D=function(e){var t=e.authUser,a=e.firebase,n=e.onShowSignIn;return t?s.a.createElement(N,{firebase:a}):s.a.createElement(C,{onShowSignIn:n})},O=function(e){var t=e.onClickNav,a=e.tab,n=e.firebase,r=e.onShowSignIn,i=e.authUser;return s.a.createElement("header",{className:"w-full px-5 py-1 bg-darkgray flex justify-between items-center shadow-slategray relative"},s.a.createElement("h1",{className:"hidden md:block p-i text-4xl text-deeppink font-metal tracking-widest text-shadow"},"Sharkapp"),s.a.createElement(E,{onClickNav:t,tab:a}),s.a.createElement(D,{firebase:n,onShowSignIn:r,authUser:i}))},j=function(){return s.a.createElement("main",{className:"\n  relative top-0 right-0\n  h-screen\n  flex flex-col justify-center\n  bg-tan\n  border-double border-black border-10\n  font-metal text-center\n  z-100\n  animation-shake\n"},s.a.createElement("h1",{className:"text-6xl leading-none text-shadow-white-red animation-rushShake"},"Barnyard Sharks"),s.a.createElement("p",{className:"mt-0 animation-fadeIn text-3xl"},"Are Coming For You",s.a.createElement("span",{className:"animation-blink"},"...")))},I=a(8);var U=function(e){return function(t){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=Object(h.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(s)))).state={shouldRender:t.props.isMounted,isUnmounting:!1},t}return Object(g.a)(a,t),Object(u.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;e.isMounted&&!this.props.isMounted?(this.setState({isUnmounting:!0}),setTimeout(function(){return t.setState({shouldRender:!1})},this.props.delayTime)):!e.isMounted&&this.props.isMounted&&this.setState({shouldRender:!0,isUnmounting:!1})}},{key:"render",value:function(){return this.state.shouldRender?s.a.createElement(e,Object.assign({isUnmounting:this.state.isUnmounting},this.props)):null}}]),a}(s.a.Component)},A="\n    fixed top-0 left-0\n    h-mainWrapper-full w-full\n    z-10 mt-16\n    bg-black-opaque\n  ",L="\n    absolute top-0 right-0 w-10/12 h-full max-w-666\n    bg-white shadow-card animation-slideIn transition-md\n  ",F=function(e){var t=e.handleExit,a=e.children,n=e.isUnmounting,r=e.classNames,i=n?"".concat(r," ").concat(L," slideOut"):"".concat(r," ").concat(L),o=n?A+" fadeOut":A;return s.a.createElement("div",{id:"halfModalBG",className:o,onClick:t},s.a.createElement("div",{className:i},a))},T=function(e){var t=e.isEdit,a=e.className,n=(e.title,e.handleCreate),r=e.handleEdit,i=e.createValidation,o=e.editValidation;return s.a.createElement("button",{className:a,onClick:t?r:n,disabled:t?!o:!i,style:{gridArea:"submit"}},t?"save edits":"create")},B=document.getElementById("modal"),G=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).el=document.createElement("div"),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){B.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){B.removeChild(this.el)}},{key:"render",value:function(){return i.a.createPortal(this.props.children,this.el)}}]),t}(s.a.Component),q="\n  relative m-1 p-3 flex-grow\n  border border-black rounded-10\n  btn-toggle\n",R=function(e){var t=e.sharks,a=e.checkedCondition,n=e.handleChange,r=e.children,i=Object.entries(t.active).map(function(e){var t=new RegExp(e[0]).test(a)?q+" bg-deeppink text-white shadow-sm":q;return s.a.createElement("button",{type:"button",onClick:n,className:t,value:e[0],key:e[0]},e[1].name)});return r&&i.push(r),i},M=a(28),V="\n    flex flex-wrap justify-center -mx-2 md:mx-0 md:flex\n  ",W="\n    relative m-1 p-3 flex-grow\n    border border-black rounded-10\n    btn-toggle\n  ",P="\n    hidden md:block w-full -mb-1\n    font-futura font-bold text-lg text-center\n  ",z=function(e){var t=e.filterView,a=e.statusFilter,n=e.filterByStatus;return s.a.createElement("div",{id:"statusWrapper",className:"status"===t?V:V+"hidden"},s.a.createElement("h4",{className:P},"STATUS FILTER"),s.a.createElement("button",{type:"button",onClick:n,className:"solid"===a?W+" bg-deeppink text-white shadow-sm":W,value:"solid"},"Solid"),s.a.createElement("button",{type:"button",onClick:n,className:"shakey"===a?W+" bg-deeppink text-white shadow-sm":W,value:"shakey"},"Shakey"),s.a.createElement("button",{type:"button",onClick:n,className:"inactive"===a?W+" bg-deeppink text-white shadow-sm":W,value:"inactive"},"Inactive"),s.a.createElement("button",{type:"button",onClick:n,className:"retired"===a?W+" bg-deeppink text-white shadow-sm":W,value:"retired"},"Retired"),s.a.createElement("button",{type:"button",onClick:n,className:"idea"===a?W+" bg-deeppink text-white shadow-sm":W,value:"idea"},"Ideas"))},Y="\n    flex flex-wrap justify-center -mx-2 md:mx-0 md:flex\n  ",J="\n    relative m-1 p-3 flex-grow\n    border border-black rounded-10\n    btn-toggle\n  ",H="\n    hidden md:block w-full -mb-1\n    font-futura font-bold text-lg text-center\n  ",X=function(e){var t=e.sharks,a=e.filterView,n=e.vocalsFilter,r=e.filterByVocals,i=function(e){if(t.active)return t.active[e].name};return s.a.createElement("div",{id:"vocalsWrapper",className:"vocals"===a?Y:Y+"hidden"},s.a.createElement("h4",{className:H},"VOCALIST FILTER"),s.a.createElement("button",{type:"button",onClick:r,value:"05x2qzOXABfcDkMGTClzDZxzBBt2",className:"05x2qzOXABfcDkMGTClzDZxzBBt2"===n?J+" bg-deeppink text-white shadow-sm":J},i("05x2qzOXABfcDkMGTClzDZxzBBt2")),s.a.createElement("button",{type:"button",onClick:r,value:"r6hSiQpBaNfqiPgKatywDJCDRL13",className:"r6hSiQpBaNfqiPgKatywDJCDRL13"===n?J+" bg-deeppink text-white shadow-sm":J},i("r6hSiQpBaNfqiPgKatywDJCDRL13")),s.a.createElement("button",{type:"button",onClick:r,value:"fUek7qwanvg3Sp8BJlp0NLswllO2",className:"fUek7qwanvg3Sp8BJlp0NLswllO2"===n?J+" bg-deeppink text-white shadow-sm":J},i("fUek7qwanvg3Sp8BJlp0NLswllO2")),s.a.createElement("button",{type:"button",onClick:r,value:"gang",className:"gang"===n?J+" bg-deeppink text-white shadow-sm":J},"Gang"),s.a.createElement("button",{type:"button",onClick:r,value:"instrumental",className:"instrumental"===n?J+" bg-deeppink text-white shadow-sm":J},"Instrumental"))},_="\n    flex flex-wrap justify-center -mx-2 md:mx-0 md:flex\n  ",K="\n    w-full -mb-1\n    font-futura font-bold text-lg text-center\n  ",Z=function(e){var t=e.sharks,a=e.filterView,n=e.sharksFilter,r=e.handleSharksFilter;return s.a.createElement("div",{id:"sharksWrapper",className:"sharks"===a?_:_+"hidden"},s.a.createElement("h4",{className:K},"WHO IS ",s.a.createElement("em",null,"NOT")," HERE?"),s.a.createElement(R,{sharks:t,handleChange:r,checkedCondition:n}))},Q=function(e){var t=e.isOpen,a=e.filterByStatus,r=e.filterByVocals,i=e.onToggleFilter,o=e.statusFilter,l=e.vocalsFilter,c=e.sharksFilter,d=e.handleSharksFilter,u=e.handleCoverFilter,h=e.isCover,m=e.sortType,g=e.onSort,p=e.sharks,b=Object(n.useState)("status"),f=Object(M.a)(b,2),v=f[0],k=f[1],w=function(e){k(e.target.value)},S=function(e,t){var a="border-black border-2 px-1 mx-1 py-2 font-futura uppercase";return v===e?a+" bg-deeppink text-white shadow-sm":t?a+" bg-pink":a},x="\n    max-420 fixed bottom-0 w-11/12 ml-1/2 translate-1/2 flex p-4\n    bg-white shadow-xl z-10 transition-md\n    md:overflow-y-scroll md:static md:m-0 md:transform-none md:h-full md:w-1/2\n    md:flex-col md:justify-around md:z-inherit\n  ";return s.a.createElement("div",{className:t?x:x+" hideFilter"},s.a.createElement("div",{className:"w-2/3 pr-4 md:w-full md:pr-0"},s.a.createElement("h3",{id:"h-filter",className:"text-center underline font-bold font-futura text-xl md:hidden"},"FILTER"),s.a.createElement("nav",{id:"nav-filter",className:"py-2 md:hidden flex justify-center"},s.a.createElement("button",{type:"button",id:"status",onClick:w,className:S("status",o),value:"status"},"STATUS"),s.a.createElement("button",{type:"button",id:"vocals",onClick:w,className:S("vocals",l),value:"vocals"},"VOX"),s.a.createElement("button",{type:"button",id:"covers",onClick:w,className:S("sharks",c),value:"sharks"},"SHARKS")),s.a.createElement(z,{filterView:v,statusFilter:o,filterByStatus:a}),s.a.createElement(X,{filterView:v,vocalsFilter:l,filterByVocals:r,sharks:p}),s.a.createElement(Z,{sharks:p,filterView:v,sharksFilter:c,handleSharksFilter:d})),s.a.createElement("div",{className:"flex flex-col justify-between w-1/3 pl-3 border-l-2 border-gray-700 min-h-0 md:w-full md:border-none md:pl-0 md:flex-row"},s.a.createElement("div",{className:"md:w-1/2 md:pr-1 md:flex md:flex-wrap"},s.a.createElement("h3",{id:"h-sort",className:"text-center underline font-bold font-futura text-xl w-full"},"SORT"),s.a.createElement("button",{type:"button",value:"newest",onClick:g,className:"newest"===m?"bg-deeppink text-white shadow-sm border-black border rounded-lg p-3 block mx-auto my-1 w-full flex-grow btn-toggle rounded-10 relative md:w-auto md:mx-1 ":"border-black border rounded-lg p-3 block mx-auto my-1 w-full flex-grow btn-toggle rounded-10 relative md:w-auto md:mx-1"},"New"),s.a.createElement("button",{type:"button",value:"oldest",onClick:g,className:"oldest"===m?"bg-deeppink text-white shadow-sm border-black border rounded-lg p-3 block mx-auto my-1 w-full flex-grow btn-toggle rounded-10 relative md:w-auto md:mx-1":"border-black border rounded-lg p-3 block mx-auto my-1 w-full flex-grow btn-toggle rounded-10 relative md:w-auto md:mx-1"},"Old")),s.a.createElement("div",{className:"md:w-1/2 md:pl-1"},s.a.createElement("h3",{id:"h-hide",className:"text-center underline font-bold font-futura text-xl"},"HIDE"),s.a.createElement("button",{id:"covers",onClick:u,className:h?"border-black border rounded-lg p-3 my-1 mx-auto block w-full btn-toggle rounded-10 relative":"border-black border rounded-lg p-3 my-1 mx-auto block w-full btn-toggle rounded-10 relative bg-deeppink text-white shadow-sm",type:"button"},"Covers"))),s.a.createElement("button",{type:"button",onClick:i,className:t?"absolute ml-half -mt-4 top-0 left-0 text-xl px-2 pt-1 border border-black rounded-lg leading-none bg-white md:hidden":"absolute ml-half -mt-4 top-0 left-0 text-xl px-2 pt-1 border border-black rounded-lg leading-none bg-white md:hidden flipRotate"},"^"))},$="\n  w-full mb-1 p-1\n  bg-offwhite shadow-spread\n  border border-gray border-b-3\n  leading-tight text-left text-xl\n  hover:bg-deeppink hover:text-white hover:border-transparent\n",ee=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={displayedSongs:[],statusFilter:"",vocalsFilter:"",sharksFilter:"",sortType:"",isCover:!1,isFilterShowing:!0},a.filterByStatus=function(e){var t=a.state.statusFilter===e.target.value?"":e.target.value;a.setState({statusFilter:t},a.displaySongs)},a.filterByVocals=function(e){var t=a.state.vocalsFilter===e.target.value?"":e.target.value;a.setState({vocalsFilter:t},a.displaySongs)},a.onSort=function(e){e.target.value!==a.state.sortType?a.setState({sortType:e.target.value},a.displaySongs):a.setState({sortType:""},a.displaySongs)},a.onToggleFilter=function(){a.setState(function(e){return{isFilterShowing:!e.isFilterShowing}})},a.handleCoverFilter=function(){a.setState(function(e){return{isCover:!e.isCover}},a.displaySongs)},a.handleSharksFilter=function(e){var t=e.target.value,n=a.state.sharksFilter;if(new RegExp(t).test(n)){if(new RegExp(",").test(n)){var s=n.split(", ");s.splice(s.indexOf(t),1),n=s.join(", ")}else n="";a.setState({sharksFilter:n},a.displaySongs)}else a.setState({sharksFilter:n?"".concat(n,", ").concat(t):t},a.displaySongs)},a.displaySongs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.songs,t=a.state,n=t.statusFilter,s=t.vocalsFilter,r=t.sharksFilter,i=t.sortType,o=t.isCover,l=a.props.setList,c=Object.values(e);if(o||(c=c.filter(function(e){return void 0===e.isCover||!1===e.isCover})),l&&(c=c.filter(function(e){return-1===l.indexOf(e.name)})),r){var d=r.split(", ");c=c.filter(function(e){var t=!0;return d.forEach(function(a){new RegExp(a).test(e.reqSharks)&&(t=!1)}),t})}if(n&&(c=c.filter(function(e){return e.status===n})),s){var u=new RegExp(s);c=c.filter(function(e){return u.test(e.vox)})}i?"newest"===i?c=c.sort(function(e,t){return t.dob-e.dob}):"oldest"===i&&(c=c.sort(function(e,t){return e.dob-t.dob})):c=c.sort(function(e,t){return e.name.toUpperCase()>t.name.toUpperCase()?1:-1}),a.setState({displayedSongs:c})},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.displaySongs(),this.props.isFilterShowing||this.setState({isFilterShowing:!1})}},{key:"componentWillUpdate",value:function(e,t){Object.values(e.songs).length!==Object.values(this.props.songs).length&&this.displaySongs(e.songs)}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:this.props.className||"relative w-full md:w-1/2"},s.a.createElement("ul",{className:"p-3 overflow-y-scroll h-full lastItem-mb"},this.state.displayedSongs.map(function(t){return s.a.createElement("li",{key:t.name},s.a.createElement("button",{type:"button",onClick:e.props.onClick,className:e.props.detailedSong===t?"active ".concat($):$},t.name))})),this.props.children),s.a.createElement(Q,{handleCoverFilter:this.handleCoverFilter,isCover:this.state.isCover,isOpen:this.state.isFilterShowing,onToggleFilter:this.onToggleFilter,filterByStatus:this.filterByStatus,filterByVocals:this.filterByVocals,statusFilter:this.state.statusFilter,handleSharksFilter:this.handleSharksFilter,vocalsFilter:this.state.vocalsFilter,sharksFilter:this.state.sharksFilter,onSort:this.onSort,sortType:this.state.sortType,sharks:this.props.sharks}))}}]),t}(s.a.Component),te="\n    block w-2/3 mx-auto mb-4 p-2 text-xl\n    border-4 border-double border-black rounded-lg\n    disabled:border-gray-500 disabled:text-gray-500\n  ",ae=function(e){var t=e.onYes,a=e.onNo,n=e.message,r=e.isDisabled;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",{className:"text-center font-bold text-2xl"},n),s.a.createElement("button",{id:"proceed",onClick:t,className:te,disabled:r},"Proceed"),s.a.createElement("button",{id:"cancelBtn",onClick:a,className:te,disabled:r},"Cancel"))},ne={wrapper:"grid-song overflow-y-scroll h-full w-full p-4",label:"border border-black shadow-card p-2 text-sm",iframe:"border border-black shadow-card p-2 text-sm w-full h-80px",inputXL:"block text-xl w-full mt-2 -mb-2",inputLG:"block text-lg w-full mt-2 -mb-2",btnOuter:"relative text-left text-sm border border-black rounded-lg shadow-card p-2",btnLabel:"absolute top-0 left-0 mt-2 ml-2",btnValue:"block text-xl mt-3 -mb-1",audio:"border border-black shadow-card p-2 text-sm m-0",btnText:"absolute top-0 left-0 ml-2 mt-2 text-lg text-left leading-none",cover:"absolute top-0 right-0 mt-6 mr-8 text-sm md:mr-10 lg:mr-20",btnSubmit:"\n    block p-2 text-xl\n    border-4 border-double border-black rounded-lg\n    disabled:border-gray-500 disabled:text-gray-500\n    songSubmit\n  ",btnClose:"\n    absolute bottom-0 left-0 mb-y-center -ml-6\n    border border-black rounded-sm\n    shadow-card p-2 bg-white leading-none\n  ",modalBG:"\n    fixed top-0 left-0\n    w-full h-screen z-100\n    bg-black-opaque\n    flex items-center justify-center\n  ",modalInner:"\n    w-10/12 h-10/12\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  ",btnToggle:"\n    relative m-1 p-3\n    border border-black rounded-10\n    btn-toggle\n  "},se={audio:"",dob:0,dobInput:"",songId:"",hasChanged:!1,name:"",sharkFavCount:0,gigCount:0,status:"",vox:"",lyrics:"",reqSharks:"",isEdit:!1,isCover:!1,isVocalEdit:!1,isReqSharksEdit:!1,isConfirm:!1,isDisabled:!1,error:""},re=U(function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state=Object(c.a)({},se),a.processAudioEmbed=function(){var e,t=a.state.newAudio;if(/bandcamp/i.test(t))e="bandcamp";else{if(!/soundcloud/i.test(t))return"invalid embed";e="soundcloud"}var n=/tracks?[=\/](\d+)/.exec(t)[1];a.setState({audio:{host:e,trackID:n}})},a.renderAudio=function(){if(a.state.audio){if("soundcloud"===a.state.audio.host){var e="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/".concat(a.state.audio.trackID,"&color=%23ff5500&auto_play=false&hide_related=false&show_comments=false&show_user=false&show_reposts=false&show_teaser=false");return s.a.createElement("iframe",{style:{gridArea:"audio"},className:ne.iframe,title:"soundcloud",src:e})}var t="https://bandcamp.com/EmbeddedPlayer/size=small/bgcol=ffffff/linkcol=0687f5/track=".concat(a.state.audio.trackID,"/transparent=true/");return s.a.createElement("iframe",{style:{gridArea:"audio"},className:ne.iframe,title:"bandcamp",src:t},s.a.createElement("p",null,a.state.name))}return a.props.authUser?s.a.createElement("form",{className:ne.audio,onSubmit:a.processAudioEmbed,style:{gridArea:"audio"}},s.a.createElement("label",null,"audio",s.a.createElement("input",{disabled:!a.props.authUser,placeholder:"enter entire embed code",name:"newAudio",onChange:a.onChange,value:a.state.newAudio,className:ne.inputLG}))):void 0},a.onChange=function(e){var t;a.setState((t={},Object(I.a)(t,e.target.name,e.target.value),Object(I.a)(t,"hasChanged",!0),Object(I.a)(t,"error",""),t))},a.onEdit=function(){var e=a.state,t=e.audio,n=e.dob,s=e.name,r=e.status,i=e.vox,o=e.isCover,l=e.lyrics,c=e.reqSharks,d=Object.entries(a.props.songs),u=!0;if(d.forEach(function(e){e[1].name===s&&e[0]!==a.state.songId&&(a.setState({error:"song names must be unique"}),u=!1)}),u){var h=(new Date).getTime();a.props.firebase.db.ref().update({songsLastUpdate:h}),a.props.firebase.db.ref("songs/".concat(a.state.songId)).update({audio:t,dob:n,name:s,status:r,vox:i,isCover:o,lyrics:l,reqSharks:c}),a.setState({hasChanged:!1})}},a.onCreate=function(){a.setState({hasChanged:!1});var e={audio:a.state.audio||"",vox:a.state.vox,dob:a.state.dob,status:a.state.status,name:a.state.name,isCover:a.state.isCover,lyrics:a.state.lyrics,reqSharks:a.state.reqSharks};if(void 0===Object.values(a.props.songs).map(function(e){return e.name}).filter(function(t){return t===e.name})[0]){var t=a.props.firebase.doCreateSong(e);a.setState({isEdit:!0,songId:t})}else a.setState({error:"song names must be unique"})},a.processDate=function(e){if(""===e)return"";if("string"===typeof e)return new Date(e).getTime();if("number"===typeof e){var t=new Date(e),a=t.getMonth()+1;a=1===a.toString().length?"0"+a:a;var n=t.getFullYear(),s=t.getDate();return s=1===s.toString().length?"0"+s:s,"".concat(a,"/").concat(s,"/").concat(n)}},a.onDateChange=function(e){if(/^[0-1][0-9]\/[0-3][0-9]\/[1-2][0-9][0-9][0-9]$/.test(e.target.value)){var t=a.processDate(e.target.value);a.setState({dob:t,hasChanged:!0})}else a.setState({dob:"",dobInput:e.target.value})},a.onBoolChange=function(e){a.setState({hasChanged:!0,isCover:!!e.target.checked})},a.onDelete=function(e){var t=(new Date).getTime();a.props.firebase.db.ref().update({songsLastUpdate:t}),a.setState({isDisabled:!0}),a.props.firebase.db.ref("songs/".concat(a.state.songId)).remove().then(function(){return a.props.exit()})},a.closeModal=function(e){e&&e.target!==document.querySelector("#modalBG")&&e.target!==document.querySelector("#cancelBtn")||a.setState({isLyricDisplay:!1,isReqSharksEdit:!1,isVocalEdit:!1,isConfirm:!1})},a.findSongInSetLists=function(){var e=Object.values(a.props.gigs),t=a.props.songId||a.state.songId;if(t){var n=0;e.forEach(function(e){-1!==e.setList.indexOf(t)&&n++});var s=Object.values(a.props.sharks.active),r=0;s.forEach(function(e){e.favSongs&&-1!==e.favSongs.indexOf(t)&&r++}),a.setState({gigCount:n,sharkFavCount:r})}},a.handleDelete=function(){a.state.gigCount||a.state.sharkFavCount?a.setState({error:"You can not delete a song that is included in a setlist or A Sharks\u2019 Dozen list"}):a.setState({isConfirm:!0})},a.handleReqSharksChange=function(e){var t=e.target.value,n=a.state.reqSharks;if(new RegExp(t).test(n)){if(new RegExp(",").test(n)){var s=n.split(", ");s.splice(s.indexOf(t),1),n=s.join(", ")}else n="";a.setState({reqSharks:n,hasChanged:!0})}else a.setState({reqSharks:n?"".concat(n,", ").concat(t):t,hasChanged:!0})},a.handleVoxChange=function(e){var t=e.target.value,n=a.state.vox;if("instrumental"===t)"instrumental"===n?a.setState({vox:"",hasChanged:!0}):a.setState({vox:"instrumental",hasChanged:!0});else if("instrumental"===n)a.setState({vox:t,hasChanged:!0});else{if(new RegExp(t).test(n)){if(new RegExp(",").test(n)){var s=n.split(", ");s.splice(s.indexOf(t),1),n=s.join(", ")}else n="";a.setState({vox:n,hasChanged:!0})}else a.setState({vox:n?"".concat(n,", ").concat(t):t,hasChanged:!0})}},a.processVox=function(){if(""===a.state.vox)return"";var e=a.state.vox.split(", "),t=[];return e.forEach(function(e){if("instrumental"!==e&&"gang"!==e){var n=Object.entries(a.props.sharks.active).filter(function(t){return t[0]===e})[0][1].name;t.push(n)}else t.push(e)}),t.join(", ")},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.findSongInSetLists(),this.setState({audio:this.props.song.audio||"",dob:this.props.song.dob,songId:this.props.songId,name:this.props.song.name,vox:this.props.song.vox,status:this.props.song.status,isCover:this.props.song.isCover||!1,lyrics:this.props.song.lyrics||"",reqSharks:this.props.song.reqSharks||"",isEdit:!!this.props.songId})}},{key:"render",value:function(){var e=this;return s.a.createElement(F,{handleExit:this.props.exit,classNames:"songWrapper",isUnmounting:this.props.isUnmounting},this.state.error&&s.a.createElement("p",{className:"text-red-700 font-bold"},this.state.error),s.a.createElement("div",{className:ne.wrapper},s.a.createElement("label",{className:ne.label,style:{gridArea:"name"}},"name",s.a.createElement("input",{disabled:!this.props.authUser,name:"name",onChange:this.onChange,value:this.state.name,className:ne.inputXL})),s.a.createElement("label",{className:ne.label,style:{gridArea:"date"}},"date of birth",s.a.createElement("input",{disabled:!this.props.authUser,name:"dob",onChange:this.onDateChange,value:this.processDate(this.state.dob)||this.state.dobInput,className:ne.inputLG,placeholder:"mm/dd/yyyy"})),s.a.createElement("label",{className:ne.label,style:{gridArea:"status"}},"status",s.a.createElement("select",{disabled:!this.props.authUser,name:"status",onChange:this.onChange,value:this.state.status,className:ne.inputXL},s.a.createElement("option",{value:"solid"},"solid"),s.a.createElement("option",{value:"shakey"},"shakey"),s.a.createElement("option",{value:"inactive"},"inactive"),s.a.createElement("option",{value:"retired"},"retired"),s.a.createElement("option",{value:"idea"},"idea"))),s.a.createElement("button",{className:ne.btnOuter,style:{gridArea:"vocals"},disabled:!this.props.authUser,onClick:function(){return e.setState({isVocalEdit:!0})}},s.a.createElement("span",{className:ne.btnLabel},"vocalist"),s.a.createElement("span",{className:ne.btnValue},this.processVox())),this.renderAudio(),s.a.createElement("button",{style:{gridArea:"lyrics"},className:this.state.lyrics?ne.btnOuter+" bg-pink":ne.btnOuter,onClick:function(){return e.setState({isLyricDisplay:!0})}},s.a.createElement("span",{className:ne.btnText},this.state.lyrics?"":"Add "," Lyrics")),s.a.createElement("button",{className:this.state.reqSharks?ne.btnOuter+" bg-pink":ne.btnOuter,style:{gridArea:"required"},disabled:!this.props.authUser,onClick:function(){return e.setState(function(e){return{isReqSharksEdit:!e.isReqSharksEdit}})}},s.a.createElement("span",{className:ne.btnText},"Required Sharks")),this.props.authUser&&navigator.onLine&&s.a.createElement(s.a.Fragment,null,s.a.createElement(T,{isEdit:this.state.isEdit,className:ne.btnSubmit,handleCreate:this.onCreate,handleEdit:this.onEdit,createValidation:this.state.name,editValidation:this.state.hasChanged}),s.a.createElement("button",{style:{gridArea:"delete"},onClick:this.handleDelete},"Delete Song")),s.a.createElement("label",{className:ne.cover},this.state.isCover?"cover":"original",s.a.createElement("input",{type:"checkbox",disabled:!this.props.authUser,name:"isCover",className:"invisible",onChange:this.onBoolChange,checked:this.state.isCover}))),this.state.isLyricDisplay&&s.a.createElement(G,null,s.a.createElement("div",{id:"modalBG",className:ne.modalBG,onClick:this.closeModal},s.a.createElement("label",{className:ne.modalInner},"lyrics",s.a.createElement("textarea",{disabled:!this.props.authUser,readOnly:!this.props.authUser,name:"lyrics",className:"border border-black block w-full text-lg p-4 mt-2 h-11/12",onChange:this.handleVoxChange,value:this.state.lyrics})))),this.state.isReqSharksEdit&&s.a.createElement(G,null,s.a.createElement("div",{id:"modalBG",className:ne.modalBG,onClick:this.closeModal},s.a.createElement("div",{className:ne.modalInner},s.a.createElement("h3",{className:"font-futura font-bold w-full text-2xl text-center"},"WHO IS REQUIRED?"),s.a.createElement(R,{checkedCondition:this.state.reqSharks,handleChange:this.handleReqSharksChange,sharks:this.props.sharks})))),this.state.isVocalEdit&&s.a.createElement(G,null,s.a.createElement("div",{id:"modalBG",className:ne.modalBG,onClick:this.closeModal},s.a.createElement("div",{className:ne.modalInner},s.a.createElement(R,{checkedCondition:this.state.vox,handleChange:this.handleVoxChange,sharks:this.props.sharks},s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{type:"button",onClick:this.handleVoxChange,className:/gang/.test(this.state.vox)?ne.btnToggle+" bg-deeppink text-white shadow-sm":ne.btnToggle,value:"gang",key:"gang"},"Gang"),s.a.createElement("button",{type:"button",onClick:this.handleVoxChange,className:/instrumental/.test(this.state.vox)?ne.btnToggle+" bg-deeppink text-white shadow-sm":ne.btnToggle,value:"instrumental",key:"instrumental"},"Instrumental")))))),this.state.isConfirm&&s.a.createElement(G,null,s.a.createElement("div",{id:"modalBG",className:ne.modalBG,onClick:this.closeModal},s.a.createElement("div",{className:ne.modalInner},s.a.createElement(ae,{onYes:this.onDelete,onNo:this.closeModal,message:"Are you sure you want to delete this song?",disabled:this.state.isDisabled})))),s.a.createElement("button",{id:"detailExit",onClick:this.props.exit,className:ne.btnClose},">"))}}]),t}(s.a.Component)),ie={displayedSongs:[],detailedSong:{},detailedSongID:"",isDetail:!1,loading:!1,error:null},oe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state=Object(c.a)({},ie),a.showDetail=function(e){var t=e.target.innerText,n=Object.entries(a.props.songs).filter(function(e){return e[1].name===t})[0];a.setState({isDetail:!1},function(){a.setState({detailedSong:n[1],detailedSongID:n[0],isDetail:!0})})},a.exitDetail=function(e){var t=document.querySelector("#halfModalBG"),n=document.querySelector("#detailExit");e&&e.target!==t&&e.target!==n||a.setState({isDetail:!1,detailedSong:""})},a.addNewSong=function(){a.setState({detailedSong:{name:"",dob:"",status:"",vox:""},detailedSongID:"",isDetail:!0})},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isDetail,a=e.detailedSong;return s.a.createElement("main",{className:"h-mainWrapper flex bg-tan shadow-inset"},s.a.createElement(ee,{onClick:this.showDetail,songs:this.props.songs,detailedSong:a,sharks:this.props.sharks,isFilterShowing:!0},this.props.authUser&&navigator.onLine&&s.a.createElement("button",{className:"absolute top-0 right-0 mt-2 mr-2 h-16 w-16 rounded-full p-1 bg-tan border border-black leading-none shadow-slategray",onClick:this.addNewSong},"new song")),s.a.createElement(re,{delayTime:300,isMounted:t,songId:this.state.detailedSongID,firebase:this.props.firebase,songs:this.props.songs,gigs:this.props.gigs,song:a,exit:this.exitDetail,sharks:this.props.sharks,authUser:this.props.authUser}))}}]),t}(s.a.Component),le=a(20),ce="border border-gray-700 px-2 mb-1 ml-1 text-left",de=" flex-grow",ue=function(e){var t=e.authUser,a=e.setList,n=e.onDelete;return"function"!==typeof a.map&&(a=[]),s.a.createElement(le.c,{droppableId:"droppable"},function(e,r){return s.a.createElement("ol",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"h-full overflow-y-scroll lastItem-mb-sm"}),a.map(function(e,a){return s.a.createElement(le.b,{key:e,draggableId:e,index:a},function(r,i){return s.a.createElement("li",Object.assign({ref:r.innerRef},r.draggableProps,r.dragHandleProps,{className:"flex"}),s.a.createElement("span",{className:ce+de},a+1,") ",e),s.a.createElement("button",{type:"button",disabled:!t,value:a,onClick:n,className:ce},"x"))})}),e.placeholder)})},he="grid-gig h-full w-full p-4",me="border border-black shadow-card p-2 text-sm",ge="\n    absolute top-0 right-0 mr-2\n    h-12 w-12 p-1\n    text-sm leading-none\n    bg-tan shadow-slategray\n    border border-black rounded-full\n  ",pe="\n    block p-2 text-xl\n    border-4 border-double border-black rounded-lg\n    disabled:border-gray-500 disabled:text-gray-500\n    songSubmit\n  ",be="\n    absolute bottom-0 left-0 mb-y-center -ml-6\n    border border-black rounded-sm\n    shadow-card p-2 bg-white leading-none\n  ",fe="\n    fixed top-0 left-0\n    w-full h-screen z-100\n    bg-black-opaque\n    flex items-center justify-center\n  ",ve="\n    w-10/12 h-10/12\n    bg-white shadow-inset\n    p-2 text-lg\n    flex flex-col\n  ",ke="\n    w-full h-full\n    bg-white shadow-inset\n    p-2 text-lg\n    flex flex-col\n  ",we=function(e,t,a){var n=Array.from(e),s=n.splice(t,1),r=Object(M.a)(s,1)[0];return n.splice(a,0,r),n},Se={date:0,dateInput:"",gigId:"",hasChanged:!1,location:"",setList:[],isAddSong:!1,isEditLocation:!1,isEdit:!1,isConfirm:!1,isDisabled:!1},xe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state=Object(c.a)({},Se),a.onChange=function(e){var t;a.setState((t={},Object(I.a)(t,e.target.name,e.target.value),Object(I.a)(t,"hasChanged",!0),t))},a.onEdit=function(){var e=(new Date).getTime();a.props.firebase.db.ref().update({gigsLastUpdate:e});var t=a.state,n=t.date,s=t.location,r=a.state.setList;r=r.join(","),a.props.firebase.db.ref("gigs/".concat(a.state.gigId)).update({date:n,location:s,setList:r}),a.setState({hasChanged:!1,isEditLocation:!1})},a.onDeleteGig=function(e){var t=(new Date).getTime();a.props.firebase.db.ref().update({gigsLastUpdate:t}),a.setState({isDisabled:!0}),a.props.firebase.db.ref("gigs/".concat(a.state.gigId)).remove().then(function(){return a.props.exit()})},a.onDragEnd=function(e){if(e.destination){var t=we(a.state.setList,e.source.index,e.destination.index);a.setState({setList:t,hasChanged:!0})}},a.onDeleteSong=function(e){var t=parseInt(e.target.value),n=a.state.setList;n.splice(t,1),a.setState({setList:n,hasChanged:!0})},a.onAddSong=function(){a.setState({isAddSong:!0})},a.onPushToSetList=function(e){var t,n=e.target.innerText,s=a.state.setList;-1===s.indexOf(n)&&(Object.entries(a.props.songs).forEach(function(e){e[1].name===n&&(t=e[0])}),s.push(t),a.setState({setList:s,isAddSong:!1,hasChanged:!0}))},a.onCreate=function(){a.setState({hasChanged:!1});var e=a.state.setList.join(","),t={date:a.state.date,location:a.state.location,setList:e},n=a.props.firebase.doCreateGig(t);a.setState({isEdit:!0,gigId:n})},a.processDate=function(e){if(""===e)return"";if("string"===typeof e)return new Date(e).getTime();if("number"===typeof e){var t=new Date(e),a=t.getMonth()+1;a=1===a.toString().length?"0"+a:a;var n=t.getFullYear(),s=t.getDate();return s=1===s.toString().length?"0"+s:s,"".concat(a,"/").concat(s,"/").concat(n)}},a.onDateChange=function(e){if(/^[0-1][0-9]\/[0-3][0-9]\/[1-2][0-9][0-9][0-9]$/.test(e.target.value)){var t=a.processDate(e.target.value);a.setState({date:t,hasChanged:!0})}else a.setState({date:"",dateInput:e.target.value})},a.toggleEditLocation=function(){a.props.authUser&&a.setState({isEditLocation:!0})},a.translateSetList=function(e){return e.map(function(e){var t;return Object.entries(a.props.songs).forEach(function(a){a[0]===e&&(t=a[1].name)}),t})},a.closeModal=function(e){e&&e.target!==document.querySelector("#modalBG")&&e.target!==document.querySelector("#cancelBtn")||a.setState({isAddSong:!1,isConfirm:!1})},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e;this.props.gig.setList&&this.props.gig.setList.length&&(e=this.props.gig.setList.split(",")),this.setState({isEdit:!!this.props.gigId,gigId:this.props.gigId,date:this.props.gig.date,location:this.props.gig.location,setList:e||[]})}},{key:"render",value:function(){var e=this;return s.a.createElement(le.a,{onDragEnd:this.onDragEnd},s.a.createElement(F,{handleExit:this.props.exit,classNames:"gigWrapper",isUnmounting:this.props.isUnmounting},s.a.createElement("div",{className:he},s.a.createElement("label",{className:me,style:{gridArea:"where"},onClick:this.toggleEditLocation},this.state.location?"":"location",!this.state.location||this.state.isEditLocation?s.a.createElement("input",{disabled:!this.props.authUser,name:"location",onChange:this.onChange,value:this.state.location,className:"block text-lg w-full"}):s.a.createElement("span",{className:"text-xl"},this.state.location)),s.a.createElement("label",{className:me,style:{gridArea:"when"}},"date",s.a.createElement("input",{disabled:!this.props.authUser,name:"date",onChange:this.onDateChange,value:this.processDate(this.state.date)||this.state.dateInput,className:"block text-lg w-full",placeholder:"mm/dd/yyyy"})),s.a.createElement("div",{className:"relative overflow-hidden",style:{gridArea:"what"}},s.a.createElement("h3",{className:"font-futura font-bold text-center text-2xl underline"},"SETLIST"),s.a.createElement(ue,{songs:this.props.songs,authUser:this.props.authUser,setList:this.translateSetList(this.state.setList),onMoveUp:this.onMoveUp,onMoveDown:this.onMoveDown,onDelete:this.onDeleteSong}),this.props.authUser&&s.a.createElement("button",{onClick:this.onAddSong,type:"button",disabled:!this.props.authUser,className:ge},"Add Song")),this.props.authUser&&navigator.onLine&&s.a.createElement(s.a.Fragment,null,s.a.createElement(T,{isEdit:this.state.isEdit,className:pe,handleCreate:this.onCreate,handleEdit:this.onEdit,createValidation:this.state.location,editValidation:this.state.hasChanged}),s.a.createElement("button",{style:{gridArea:"delete"},onClick:function(){return e.setState({isConfirm:!0})}},"Delete Gig"))),this.state.isAddSong&&s.a.createElement(G,null,s.a.createElement("div",{id:"modalBG",className:fe,onClick:this.closeModal},s.a.createElement(ee,{isFilterShowing:!1,className:ke,onClick:this.onPushToSetList,songs:Object.values(this.props.songs),sharks:this.props.sharks,setList:this.translateSetList(this.state.setList)}))),this.state.isConfirm&&s.a.createElement(G,null,s.a.createElement("div",{id:"modalBG",className:fe,onClick:this.closeModal},s.a.createElement("div",{className:ve},s.a.createElement(ae,{onYes:this.onDeleteGig,onNo:this.closeModal,message:"Are you sure you want to delete this gig?",disabled:this.state.isDisabled})))),s.a.createElement("button",{id:"detailExit",onClick:this.props.exit,className:be},">")))}}]),t}(s.a.Component),Ee="\n    w-full mb-1 p-1\n    border-gray border border-b-3\n    bg-offwhite shadow-spread\n    text-left text-xl leading-tight\n    hover:bg-deeppink hover:text-white hover:border-transparent\n  ",ye=function(e){var t=e.gigs,a=(e.detailedGig,e.showDetail),n=Object.entries(t).sort(function(e,t){return t[1].date-e[1].date});return s.a.createElement("ul",{className:"p-3 overflow-y-scroll h-full lastItem-mb"},n.map(function(e){return s.a.createElement("li",{key:e[0]},s.a.createElement("button",{onClick:a,className:Ee,value:e[0]},s.a.createElement("span",{className:"gigDate"},function(e){if(!e)return"";var t=new Date(e),a=t.getMonth()+1;a=1===a.toString().length?"0"+a:a;var n=t.getFullYear();n-=2e3;var s=t.getDate();return s=1===s.toString().length?"0"+s:s,"".concat(a,".").concat(s,".").concat(n," - ")}(e[1].date)),s.a.createElement("span",{className:"gigLocation"},e[1].location)))}))},Ce=U(xe),Ne={sortType:"",detailedGig:{},detailedGigID:"",isDetail:!1,loading:!1,error:null},De=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state=Object(c.a)({},Ne),a.showDetail=function(e){var t=e.target.value?e.target.value:e.target.parentNode.value,n=Object.entries(a.props.gigs).filter(function(e){return e[0]===t})[0][1];a.setState({isDetail:!1},function(){a.setState({detailedGig:n,detailedGigID:t,isDetail:!0})})},a.exitDetail=function(e){var t=document.querySelector("#halfModalBG"),n=document.querySelector("#detailExit");e&&e.target!==t&&e.target!==n||a.setState({isDetail:!1,detailedGig:{},detailedGigID:""})},a.addNewGig=function(){a.setState({detailedGig:{date:"",location:"",setList:[]},detailedGigID:"",isDetail:!0})},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("main",{className:"h-mainWrapper flex bg-tan shadow-inset"},s.a.createElement("div",{className:"relative w-full md:w-1/2"},s.a.createElement(ye,{showDetail:this.showDetail,gigs:this.props.gigs,detailedGig:this.state.detailedGig}),this.props.authUser&&navigator.onLine&&s.a.createElement("button",{className:"absolute top-0 right-0 mt-2 mr-2 h-16 w-16 rounded-full p-1 bg-tan border border-black leading-none shadow-slategray",onClick:this.addNewGig},"new gig")),s.a.createElement(Ce,{delayTime:300,isMounted:this.state.isDetail,gigId:this.state.detailedGigID,firebase:this.props.firebase,songs:this.props.songs,gig:this.state.detailedGig,exit:this.exitDetail,authUser:this.props.authUser,sharks:this.props.sharks}))}}]),t}(s.a.Component),Oe={name:"",sharkSince:0,favSongs:[],dateInput:"",isAddSong:!1,hasChanged:!1},je=function(e,t,a){var n=Array.from(e),s=n.splice(t,1),r=Object(M.a)(s,1)[0];return n.splice(a,0,r),n},Ie="grid-shark overflow-y-scroll h-full w-full p-4",Ue="border border-black shadow-card p-2 text-sm",Ae="\n    absolute top-0 right-0 mr-2\n    h-12 w-12 p-1\n    text-sm leading-none\n    bg-tan shadow-slategray\n    border border-black rounded-full\n  ",Le="\n    block p-2 text-xl\n    border-4 border-double border-black rounded-lg\n    disabled:border-gray-500 disabled:text-gray-500\n    songSubmit\n  ",Fe="\n    absolute bottom-0 left-0 mb-y-center -ml-6\n    border border-black rounded-sm\n    shadow-card p-2 bg-white leading-none\n  ",Te="\n    fixed top-0 left-0\n    w-full h-screen z-100\n    bg-black-opaque\n    flex\n  ",Be="\n    w-full h-full\n    bg-white shadow-inset\n    p-2 text-lg\n    flex flex-col\n  ",Ge=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state=Object(c.a)({},Oe),a.handleChange=function(e){var t;a.setState((t={},Object(I.a)(t,e.target.name,e.target.value),Object(I.a)(t,"hasChanged",!0),t))},a.handleEdit=function(){var e=(new Date).getTime();a.props.firebase.db.ref().update({sharksLastUpdate:e});var t=a.state.favSongs;t=t.join(","),a.props.firebase.db.ref("sharks/active/".concat(a.props.sharkId)).update({name:a.state.name,sharkSince:a.state.sharkSince,favSongs:t}),a.setState({hasChanged:!1})},a.processDate=function(e){if(""===e)return"";if("string"===typeof e)return new Date(e).getTime();if("number"===typeof e){var t=new Date(e),a=t.getMonth()+1;a=1===a.toString().length?"0"+a:a;var n=t.getFullYear(),s=t.getDate();return s=1===s.toString().length?"0"+s:s,"".concat(a,"/").concat(s,"/").concat(n)}},a.handleDateChange=function(e){if(/^[0-1][0-9]\/[0-3][0-9]\/[1-2][0-9][0-9][0-9]$/.test(e.target.value)){var t=a.processDate(e.target.value);a.setState({sharkSince:t,hasChanged:!0})}else a.setState({sharkSince:"",dateInput:e.target.value})},a.onDragEnd=function(e){if(e.destination){var t=je(a.state.favSongs,e.source.index,e.destination.index);a.setState({favSongs:t,hasChanged:!0})}},a.onDelete=function(e){var t=parseInt(e.target.value),n=a.state.favSongs;n.splice(t,1),a.setState({favSongs:n,hasChanged:!0})},a.onAddSong=function(){a.setState({isAddSong:!0})},a.onPushToFavSongs=function(e){var t,n=e.target.innerText;Object.entries(a.props.songs).forEach(function(e){e[1].name===n&&(t=e[0])});var s=a.state.favSongs;s.push(t),a.setState({favSongs:s,isAddSong:!1,hasChanged:!0})},a.translateSetList=function(e){return e.map(function(e){var t;return Object.entries(a.props.songs).forEach(function(a){a[0]===e&&(t=a[1].name)}),t})},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e;this.props.shark.favSongs&&this.props.shark.favSongs.length&&(e=this.props.shark.favSongs.split(",")),this.setState({name:this.props.shark.name||"",sharkSince:this.props.shark.sharkSince||"",favSongs:e||[]})}},{key:"render",value:function(){var e=this.props.authUser&&this.props.authUser.uid===this.props.sharkId;return s.a.createElement(le.a,{onDragEnd:this.onDragEnd},s.a.createElement(F,{handleExit:this.props.exit,classNames:"sharkWrapper",isUnmounting:this.props.isUnmounting},s.a.createElement("div",{className:Ie},s.a.createElement("label",{className:Ue},"Name",s.a.createElement("input",{name:"name",onChange:this.handleChange,value:this.state.name,disabled:!e,className:"block text-lg w-full"})),s.a.createElement("label",{className:Ue},"Shark Since",s.a.createElement("input",{name:"date",onChange:this.handleDateChange,value:this.processDate(this.state.sharkSince)||this.state.dateInput,disabled:!e,placeholder:"mm/dd/yyyy",className:"block text-lg w-full"})),s.a.createElement("div",{className:"overflow-y-scroll relative",style:{gridArea:"favs"}},s.a.createElement("h3",{className:"font-futura font-bold text-center text-2xl underline"},"A SHARK\u2019S ",s.a.createElement("br",null),"DOZEN"),s.a.createElement(ue,{songs:this.props.songs,authUser:this.props.authUser,setList:this.translateSetList(this.state.favSongs),onMoveUp:this.onMoveUp,onMoveDown:this.onMoveDown,onDelete:this.onDelete}),e&&navigator.onLine&&s.a.createElement("button",{className:Ae,onClick:this.onAddSong,disabled:!this.props.authUser,type:"button"},"Add Song")),e&&navigator.onLine&&s.a.createElement("button",{className:Le,type:"submit",style:{gridArea:"submit"},onClick:this.handleEdit,disabled:!this.state.hasChanged||!e},"save edits")),this.state.isAddSong&&s.a.createElement(G,null,s.a.createElement("div",{id:"modalBG",className:Te,onClick:this.closeModal},s.a.createElement(ee,{isFilterShowing:!1,className:Be,onClick:this.onPushToFavSongs,songs:Object.values(this.props.songs),sharks:this.props.sharks,setList:this.translateSetList(this.state.favSongs)}))),s.a.createElement("button",{id:"detailExit",type:"button",onClick:this.props.exit,className:Fe},">")))}}]),t}(s.a.Component),qe="\n    w-full mb-1 p-1\n    border-gray border border-b-3\n    bg-offwhite shadow-spread\n    text-left text-xl leading-tight\n    hover:bg-deeppink hover:text-white hover:border-transparent\n  ",Re="font-futura text-center text-2xl underline font-bold",Me=function(e){var t=e.sharks,a=(e.detailedShark,e.showDetail),n=Object.entries(t.active),r=Object.entries(t.retired);return s.a.createElement("ul",{className:"p-3 overflow-y-scroll h-full lastItem-mb"},s.a.createElement("h3",{className:Re},"ACTIVE"),n.map(function(e){return s.a.createElement("li",{key:e[0]},s.a.createElement("button",{onClick:a,className:qe,value:e[0]},e[1].name))}),s.a.createElement("h3",{className:Re},"RETIRED"),r.map(function(e){return s.a.createElement("li",{key:e[0]},s.a.createElement("button",{value:e[0],className:qe},e[1].name))}))},Ve=U(Ge),We={detailedShark:{},detailedSharkID:"",isDetail:!1},Pe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state=Object(c.a)({},We),a.showDetail=function(e){var t=e.target.value,n=Object.entries(a.props.sharks.active).filter(function(e){return e[0]===t})[0][1];a.setState({isDetail:!1},function(){a.setState({detailedShark:n,detailedSharkID:t,isDetail:!0})})},a.exitDetail=function(e){var t=document.querySelector("#halfModalBG"),n=document.querySelector("#detailExit");e.target!==t&&e.target!==n||a.setState(Object(c.a)({},We))},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("main",{className:"h-mainWrapper flex bg-tan shadow-inset"},s.a.createElement("div",{className:"relative w-full md:w-1/2"},s.a.createElement(Me,{sharks:this.props.sharks,showDetail:this.showDetail,detailedShark:this.state.detailedShark})),s.a.createElement(Ve,{delayTime:300,isMounted:this.state.isDetail,sharkId:this.state.detailedSharkID,firebase:this.props.firebase,songs:this.props.songs,sharks:this.props.sharks,shark:this.state.detailedShark,exit:this.exitDetail,authUser:this.props.authUser}))}}]),t}(s.a.Component),ze={email:"",password:"",error:null,isPasswordSuccess:!1,isWaiting:!1},Ye="block mb-4 p-2 border border-black shadow-card text-sm",Je="block w-full mt-2 text-xl",He="\n    block w-full mb-4 p-2 text-2xl text-deeppink font-bold\n    border-4 border-double border-currentColor rounded-lg\n    disabled:border-gray-500 disabled:text-gray-500\n    songSubmit\n  ",Xe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state=Object(c.a)({},ze),a.handleSubmit=function(e){e.preventDefault(),a.setState({isWaiting:!0});var t=a.state,n=t.email,s=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,s).catch(function(e){a.setState({error:e,isWaiting:!1})})},a.handleForget=function(){a.setState({isWaiting:!0}),a.props.firebase.doPasswordReset(a.state.email).then(function(){return a.setState({isPasswordSuccess:!0,isWaiting:!1})}).catch(function(e){return a.setState({error:e,isWaiting:!1})})},a.handleChange=function(e){var t;a.setState((t={},Object(I.a)(t,e.target.name,e.target.value),Object(I.a)(t,"error",null),t))},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,r=e.isPasswordSuccess,i=e.isWaiting,o=""===a||""===t;return s.a.createElement("div",{className:this.props.className},s.a.createElement("div",{className:r?"relative transition-lg isFlipped h-full":"h-full relative",style:{transformStyle:"preserve-3d"}},s.a.createElement("form",{onSubmit:this.handleSubmit,className:"absolute w-full",style:{backfaceVisibility:"hidden"}},s.a.createElement("h3",{className:"font-futura text-center font-bold text-2xl mb-1"},"SIGN IN"),s.a.createElement("label",{className:Ye},"email",s.a.createElement("input",{name:"email",value:t,disabled:i,className:Je,onChange:this.handleChange,type:"text",placeholder:"Email Address"})),s.a.createElement("label",{className:Ye},"password",s.a.createElement("input",{disabled:i,name:"password",className:Je,value:a,onChange:this.handleChange,type:"password",placeholder:"Password"})),s.a.createElement("button",{disabled:o||i,type:"submit",className:He},"SIGN IN"),s.a.createElement("button",{className:"w-full font-futura text-center disabled:text-gray-500",onClick:this.handleForget,disabled:!t,type:"button"},"FORGOT YOUR PASSWORD?"),n&&s.a.createElement("p",null,n.message)),s.a.createElement("div",{className:"absolute w-full h-full bg-white",style:{transform:"rotateY(180deg)",backfaceVisibility:"hidden"}},s.a.createElement("h2",{className:"font-metal text-4xl text-center"},"SUCCESS"),s.a.createElement("p",{className:"text-center font-futura text-xl"},"You will soon receive instructions to recover your account"))))}}]),t}(s.a.Component),_e={songs:{},gigs:{},sharks:{},isLoadAnimation:!0,tab:"songs",isAuthDisplay:!1,authUser:null},Ke="\n    fixed top-0 left-0\n    w-full h-screen z-100\n    bg-black-opaque\n    flex items-center justify-center\n  ",Ze="\n    w-10/12 h-10/12\n    bg-white shadow-inset\n    p-4 text-lg\n    flex flex-col\n  ",Qe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).endAnimation=function(){a.setState({isLoadAnimation:!1})},a.onClickNav=function(e){a.setState({tab:e.target.value})},a.onShowSignIn=function(){console.log("trigger"),a.setState({isAuthDisplay:!0})},a.onModalClose=function(e){e.target===document.querySelector("#modalBG")&&a.setState({isAuthDisplay:!1})},a.renderMain=function(){switch(a.state.tab){case"songs":return s.a.createElement(oe,{songs:a.state.songs,gigs:a.state.gigs,sharks:a.state.sharks,firebase:a.firebase,authUser:a.state.authUser});case"gigs":return s.a.createElement(De,{songs:a.state.songs,gigs:a.state.gigs,sharks:a.state.sharks,firebase:a.firebase,authUser:a.state.authUser});case"sharks":return s.a.createElement(Pe,{songs:a.state.songs,sharks:a.state.sharks,firebase:a.firebase,authUser:a.state.authUser});default:return s.a.createElement(oe,{songs:a.state.songs,gigs:a.state.gigs,sharks:a.state.sharks,firebase:a.firebase,authUser:a.state.authUser})}},a.state=Object(c.a)({},_e),a.firebase=new w,a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.getItem("hasVisited").then(function(t){setTimeout(function(){return e.endAnimation()},t?0:3e3)}),b.a.getItem("tab").then(function(t){t&&e.setState({tab:t})}),navigator.onLine?(this.firebase.db.ref("songs").on("value",function(t){e.setState({songs:t.val()}),b.a.setItem("songs",t.val())}),this.firebase.db.ref("gigs").on("value",function(t){e.setState({gigs:t.val()}),b.a.setItem("gigs",t.val())}),this.firebase.db.ref("sharks").on("value",function(t){e.setState({sharks:t.val()}),b.a.setItem("sharks",t.val())})):b.a.getItem("songs").then(function(t){if(t){var a=b.a.getItem("songs"),n=b.a.getItem("gigs"),s=b.a.getItem("sharks");Promise.all([a,n,s]).then(function(t){e.setState({songs:t[0],gigs:t[1],sharks:t[2]})})}}),window.addEventListener("beforeunload",function(){b.a.setItem("tab",e.state.tab),b.a.setItem("hasVisited",!0)}),this.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t,isAuthDisplay:!1}):e.setState({authUser:null})})}},{key:"render",value:function(){var e=this.state,t=e.sharks,a=e.songs,n=e.gigs,r=e.isLoadAnimation,i=!(Object.entries(t).length&&Object.entries(a).length&&Object.entries(n).length);return s.a.createElement("div",{className:"h-screen overflow-hidden"},(r||i)&&s.a.createElement(j,null),!i&&s.a.createElement(s.a.Fragment,null,s.a.createElement(O,{onClickNav:this.onClickNav,tab:this.state.tab,authUser:this.state.authUser,firebase:this.firebase,onShowSignIn:this.onShowSignIn}),this.renderMain(),this.state.isAuthDisplay&&s.a.createElement(G,null,s.a.createElement("div",{id:"modalBG",className:Ke,onClick:this.onModalClose},s.a.createElement(Xe,{className:Ze,firebase:this.firebase})))))}}]),t}(n.Component);i.a.render(s.a.createElement(Qe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/barnyard-sharks",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/barnyard-sharks","/service-worker.js");o?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):l(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):l(t,e)})}}()},93:function(e,t,a){e.exports=a(191)},99:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.8599dd48.chunk.js.map